{"ast":null,"code":"import { cache, StackViewport, BaseVolumeViewport } from '@cornerstonejs/core';\nfunction isViewportPreScaled(viewport, targetId) {\n  if (viewport instanceof BaseVolumeViewport) {\n    const targetIdTokens = targetId.split('volumeId:');\n    const volumeId = targetIdTokens.length > 1 ? targetIdTokens[1] : targetIdTokens[0];\n    const volume = cache.getVolume(volumeId);\n    return !!volume?.scaling && Object.keys(volume.scaling).length > 0;\n  } else if (viewport instanceof StackViewport) {\n    const {\n      preScale\n    } = viewport.getImageData() || {};\n    return !!preScale?.scaled;\n  } else {\n    return false;\n  }\n}\nexport { isViewportPreScaled };","map":{"version":3,"names":["cache","StackViewport","BaseVolumeViewport","isViewportPreScaled","viewport","targetId","targetIdTokens","split","volumeId","length","volume","getVolume","scaling","Object","keys","preScale","getImageData","scaled"],"sources":["../../../../src/utilities/viewport/isViewportPreScaled.ts"],"sourcesContent":[null],"mappings":"AAAA,SACEA,KAAK,EACLC,aAAa,EAEbC,kBAAkB,QACb,qBAAqB;AAE5B,SAASC,mBAAmBA,CAC1BC,QAAsD,EACtDC,QAAgB;EAEhB,IAAID,QAAQ,YAAYF,kBAAkB,EAAE;IAC1C,MAAMI,cAAc,GAAGD,QAAQ,CAACE,KAAK,CAAC,WAAW,CAAC;IAClD,MAAMC,QAAQ,GACZF,cAAc,CAACG,MAAM,GAAG,CAAC,GAAGH,cAAc,CAAC,CAAC,CAAC,GAAGA,cAAc,CAAC,CAAC,CAAC;IACnE,MAAMI,MAAM,GAAGV,KAAK,CAACW,SAAS,CAACH,QAAQ,CAAC;IACxC,OAAO,CAAC,CAACE,MAAM,EAAEE,OAAO,IAAIC,MAAM,CAACC,IAAI,CAACJ,MAAM,CAACE,OAAO,CAAC,CAACH,MAAM,GAAG,CAAC;GACnE,MAAM,IAAIL,QAAQ,YAAYH,aAAa,EAAE;IAC5C,MAAM;MAAEc;IAAQ,CAAE,GAAGX,QAAQ,CAACY,YAAY,EAAE,IAAI,EAAE;IAClD,OAAO,CAAC,CAACD,QAAQ,EAAEE,MAAM;GAC1B,MAAM;IACL,OAAO,KAAK;;AAEhB;AAEA,SAASd,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}