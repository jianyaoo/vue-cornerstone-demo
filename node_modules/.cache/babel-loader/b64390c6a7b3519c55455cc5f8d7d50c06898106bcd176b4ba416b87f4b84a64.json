{"ast":null,"code":"import { triggerEvent, eventTarget, utilities as csUtils } from '@cornerstonejs/core';\nimport { Events } from '../../enums';\nimport { defaultFrameOfReferenceSpecificAnnotationManager } from './FrameOfReferenceSpecificAnnotationManager';\nimport { triggerAnnotationAddedForElement, triggerAnnotationAddedForFOR } from './helpers/state';\nlet defaultManager = defaultFrameOfReferenceSpecificAnnotationManager;\nfunction getAnnotationManager() {\n  return defaultManager;\n}\nfunction setAnnotationManager(annotationManager) {\n  defaultManager = annotationManager;\n}\nfunction resetAnnotationManager() {\n  defaultManager = defaultFrameOfReferenceSpecificAnnotationManager;\n}\nfunction getAnnotations(toolName, annotationGroupSelector) {\n  const manager = getAnnotationManager();\n  const groupKey = manager.getGroupKey(annotationGroupSelector);\n  return manager.getAnnotations(groupKey, toolName);\n}\nfunction addAnnotation(annotation, annotationGroupSelector) {\n  if (!annotation.annotationUID) {\n    annotation.annotationUID = csUtils.uuidv4();\n  }\n  const manager = getAnnotationManager();\n  if (annotationGroupSelector instanceof HTMLDivElement) {\n    const groupKey = manager.getGroupKey(annotationGroupSelector);\n    manager.addAnnotation(annotation, groupKey);\n    triggerAnnotationAddedForElement(annotation, annotationGroupSelector);\n  } else {\n    manager.addAnnotation(annotation);\n    triggerAnnotationAddedForFOR(annotation);\n  }\n  return annotation.annotationUID;\n}\nfunction getNumberOfAnnotations(toolName, annotationGroupSelector) {\n  const manager = getAnnotationManager();\n  const groupKey = manager.getGroupKey(annotationGroupSelector);\n  return manager.getNumberOfAnnotations(groupKey, toolName);\n}\nfunction removeAnnotation(annotationUID) {\n  if (!annotationUID) {\n    return;\n  }\n  const manager = getAnnotationManager();\n  const annotation = manager.getAnnotation(annotationUID);\n  if (!annotation) {\n    return;\n  }\n  manager.removeAnnotation(annotationUID);\n  const eventType = Events.ANNOTATION_REMOVED;\n  const eventDetail = {\n    annotation,\n    annotationManagerUID: manager.uid\n  };\n  triggerEvent(eventTarget, eventType, eventDetail);\n}\nfunction getAnnotation(annotationUID) {\n  const manager = getAnnotationManager();\n  const annotation = manager.getAnnotation(annotationUID);\n  return annotation;\n}\nfunction removeAllAnnotations() {\n  const manager = getAnnotationManager();\n  manager.removeAllAnnotations();\n}\nexport { getAnnotations, getNumberOfAnnotations, addAnnotation, getAnnotation, removeAnnotation, removeAllAnnotations, setAnnotationManager, getAnnotationManager, resetAnnotationManager };","map":{"version":3,"names":["triggerEvent","eventTarget","utilities","csUtils","Events","defaultFrameOfReferenceSpecificAnnotationManager","triggerAnnotationAddedForElement","triggerAnnotationAddedForFOR","defaultManager","getAnnotationManager","setAnnotationManager","annotationManager","resetAnnotationManager","getAnnotations","toolName","annotationGroupSelector","manager","groupKey","getGroupKey","addAnnotation","annotation","annotationUID","uuidv4","HTMLDivElement","getNumberOfAnnotations","removeAnnotation","getAnnotation","eventType","ANNOTATION_REMOVED","eventDetail","annotationManagerUID","uid","removeAllAnnotations"],"sources":["../../../../src/stateManagement/annotation/annotationState.ts"],"sourcesContent":[null],"mappings":"AAAA,SACEA,YAAY,EACZC,WAAW,EACXC,SAAS,IAAIC,OAAO,QACf,qBAAqB;AAC5B,SAASC,MAAM,QAAQ,aAAa;AACpC,SAASC,gDAAgD,QAAQ,6CAA6C;AAI9G,SACEC,gCAAgC,EAChCC,4BAA4B,QACvB,iBAAiB;AAGxB,IAAIC,cAAc,GAAGH,gDAAgD;AAMrE,SAASI,oBAAoBA,CAAA;EAC3B,OAAOD,cAAc;AACvB;AAMA,SAASE,oBAAoBA,CAACC,iBAAiB;EAC7CH,cAAc,GAAGG,iBAAiB;AACpC;AAGA,SAASC,sBAAsBA,CAAA;EAC7BJ,cAAc,GAAGH,gDAAgD;AACnE;AAeA,SAASQ,cAAcA,CACrBC,QAAgB,EAChBC,uBAAgD;EAEhD,MAAMC,OAAO,GAAGP,oBAAoB,EAAE;EACtC,MAAMQ,QAAQ,GAAGD,OAAO,CAACE,WAAW,CAACH,uBAAuB,CAAC;EAC7D,OAAOC,OAAO,CAACH,cAAc,CAACI,QAAQ,EAAEH,QAAQ,CAAgB;AAClE;AAcA,SAASK,aAAaA,CACpBC,UAAsB,EACtBL,uBAAgD;EAEhD,IAAI,CAACK,UAAU,CAACC,aAAa,EAAE;IAC7BD,UAAU,CAACC,aAAa,GAAGlB,OAAO,CAACmB,MAAM,EAAY;;EAGvD,MAAMN,OAAO,GAAGP,oBAAoB,EAAE;EAItC,IAAIM,uBAAuB,YAAYQ,cAAc,EAAE;IACrD,MAAMN,QAAQ,GAAGD,OAAO,CAACE,WAAW,CAACH,uBAAuB,CAAC;IAC7DC,OAAO,CAACG,aAAa,CAACC,UAAU,EAAEH,QAAQ,CAAC;IAC3CX,gCAAgC,CAACc,UAAU,EAAEL,uBAAuB,CAAC;GACtE,MAAM;IAILC,OAAO,CAACG,aAAa,CAACC,UAAU,CAAC;IACjCb,4BAA4B,CAACa,UAAU,CAAC;;EAG1C,OAAOA,UAAU,CAACC,aAAa;AACjC;AAeA,SAASG,sBAAsBA,CAC7BV,QAAgB,EAChBC,uBAAgD;EAEhD,MAAMC,OAAO,GAAGP,oBAAoB,EAAE;EACtC,MAAMQ,QAAQ,GAAGD,OAAO,CAACE,WAAW,CAACH,uBAAuB,CAAC;EAE7D,OAAOC,OAAO,CAACQ,sBAAsB,CAACP,QAAQ,EAAEH,QAAQ,CAAC;AAC3D;AAMA,SAASW,gBAAgBA,CAACJ,aAAqB;EAC7C,IAAI,CAACA,aAAa,EAAE;IAClB;;EAEF,MAAML,OAAO,GAAGP,oBAAoB,EAAE;EACtC,MAAMW,UAAU,GAAGJ,OAAO,CAACU,aAAa,CAACL,aAAa,CAAC;EAGvD,IAAI,CAACD,UAAU,EAAE;IACf;;EAGFJ,OAAO,CAACS,gBAAgB,CAACJ,aAAa,CAAC;EAGvC,MAAMM,SAAS,GAAGvB,MAAM,CAACwB,kBAAkB;EAE3C,MAAMC,WAAW,GAAiC;IAChDT,UAAU;IACVU,oBAAoB,EAAEd,OAAO,CAACe;GAC/B;EAED/B,YAAY,CAACC,WAAW,EAAE0B,SAAS,EAAEE,WAAW,CAAC;AACnD;AAMA,SAASH,aAAaA,CAACL,aAAqB;EAC1C,MAAML,OAAO,GAAGP,oBAAoB,EAAE;EACtC,MAAMW,UAAU,GAAGJ,OAAO,CAACU,aAAa,CAACL,aAAa,CAAC;EAEvD,OAAOD,UAAU;AACnB;AAKA,SAASY,oBAAoBA,CAAA;EAC3B,MAAMhB,OAAO,GAAGP,oBAAoB,EAAE;EACtCO,OAAO,CAACgB,oBAAoB,EAAE;AAChC;AAEA,SACEnB,cAAc,EACdW,sBAAsB,EACtBL,aAAa,EACbO,aAAa,EACbD,gBAAgB,EAChBO,oBAAoB,EAEpBtB,oBAAoB,EACpBD,oBAAoB,EACpBG,sBAAsB"},"metadata":{},"sourceType":"module","externalDependencies":[]}