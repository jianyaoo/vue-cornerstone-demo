{"ast":null,"code":"import { CONSTANTS } from '@cornerstonejs/core';\nconst {\n  EPSILON\n} = CONSTANTS;\nfunction calculateBoundingBox(points, dimensions, isWorld = false) {\n  let xMin = Infinity;\n  let xMax = isWorld ? -Infinity : 0;\n  let yMin = Infinity;\n  let yMax = isWorld ? -Infinity : 0;\n  let zMin = Infinity;\n  let zMax = isWorld ? -Infinity : 0;\n  const is3D = points[0]?.length === 3;\n  points.forEach(p => {\n    xMin = Math.min(p[0], xMin);\n    xMax = Math.max(p[0], xMax);\n    yMin = Math.min(p[1], yMin);\n    yMax = Math.max(p[1], yMax);\n    if (is3D) {\n      zMin = Math.min(p[2] ?? zMin, zMin);\n      zMax = Math.max(p[2] ?? zMax, zMax);\n    }\n  });\n  if (dimensions) {\n    xMin = Math.max(isWorld ? dimensions[0] + EPSILON : 0, xMin);\n    xMax = Math.min(isWorld ? dimensions[0] - EPSILON : dimensions[0] - 1, xMax);\n    yMin = Math.max(isWorld ? dimensions[1] + EPSILON : 0, yMin);\n    yMax = Math.min(isWorld ? dimensions[1] - EPSILON : dimensions[1] - 1, yMax);\n    if (is3D && dimensions.length === 3) {\n      zMin = Math.max(isWorld ? dimensions[2] + EPSILON : 0, zMin);\n      zMax = Math.min(isWorld ? dimensions[2] - EPSILON : dimensions[2] - 1, zMax);\n    }\n  } else if (!isWorld) {\n    xMin = Math.max(0, xMin);\n    xMax = Math.min(Infinity, xMax);\n    yMin = Math.max(0, yMin);\n    yMax = Math.min(Infinity, yMax);\n    if (is3D) {\n      zMin = Math.max(0, zMin);\n      zMax = Math.min(Infinity, zMax);\n    }\n  }\n  return is3D ? [[xMin, xMax], [yMin, yMax], [zMin, zMax]] : [[xMin, xMax], [yMin, yMax], null];\n}\nexport function getBoundingBoxAroundShapeIJK(points, dimensions) {\n  return calculateBoundingBox(points, dimensions, false);\n}\nexport function getBoundingBoxAroundShapeWorld(points, clipBounds) {\n  return calculateBoundingBox(points, clipBounds, true);\n}","map":{"version":3,"names":["CONSTANTS","EPSILON","calculateBoundingBox","points","dimensions","isWorld","xMin","Infinity","xMax","yMin","yMax","zMin","zMax","is3D","length","forEach","p","Math","min","max","getBoundingBoxAroundShapeIJK","getBoundingBoxAroundShapeWorld","clipBounds"],"sources":["../../../../src/utilities/boundingBox/getBoundingBoxAroundShape.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}