{"ast":null,"code":"import computeAutoVoi from './computeAutoVoi';\nimport lutMatches from './lutMatches';\nimport generateLut from './generateLut';\nexport default function (image, viewport, invalidated) {\n  if (image.cachedLut !== undefined && image.cachedLut.windowCenter === viewport.voi.windowCenter && image.cachedLut.windowWidth === viewport.voi.windowWidth && lutMatches(image.cachedLut.modalityLUT, viewport.modalityLUT) && lutMatches(image.cachedLut.voiLUT, viewport.voiLUT) && image.cachedLut.invert === viewport.invert && invalidated !== true) {\n    return image.cachedLut.lutArray;\n  }\n  computeAutoVoi(viewport, image);\n  generateLut(image, viewport.voi.windowWidth, viewport.voi.windowCenter, viewport.invert, viewport.modalityLUT, viewport.voiLUT);\n  image.cachedLut.windowWidth = viewport.voi.windowWidth;\n  image.cachedLut.windowCenter = viewport.voi.windowCenter;\n  image.cachedLut.invert = viewport.invert;\n  image.cachedLut.voiLUT = viewport.voiLUT;\n  image.cachedLut.modalityLUT = viewport.modalityLUT;\n  return image.cachedLut.lutArray;\n}","map":{"version":3,"names":["computeAutoVoi","lutMatches","generateLut","image","viewport","invalidated","cachedLut","undefined","windowCenter","voi","windowWidth","modalityLUT","voiLUT","invert","lutArray"],"sources":["../../../../../../src/RenderingEngine/helpers/cpuFallback/rendering/getLut.ts"],"sourcesContent":[null],"mappings":"AAAA,OAAOA,cAAc,MAAM,kBAAkB;AAC7C,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,WAAW,MAAM,eAAe;AAavC,eAAc,UACZC,KAAa,EACbC,QAA6B,EAC7BC,WAAoB;EAGpB,IACEF,KAAK,CAACG,SAAS,KAAKC,SAAS,IAC7BJ,KAAK,CAACG,SAAS,CAACE,YAAY,KAAKJ,QAAQ,CAACK,GAAG,CAACD,YAAY,IAC1DL,KAAK,CAACG,SAAS,CAACI,WAAW,KAAKN,QAAQ,CAACK,GAAG,CAACC,WAAW,IACxDT,UAAU,CAACE,KAAK,CAACG,SAAS,CAACK,WAAW,EAAEP,QAAQ,CAACO,WAAW,CAAC,IAC7DV,UAAU,CAACE,KAAK,CAACG,SAAS,CAACM,MAAM,EAAER,QAAQ,CAACQ,MAAM,CAAC,IACnDT,KAAK,CAACG,SAAS,CAACO,MAAM,KAAKT,QAAQ,CAACS,MAAM,IAC1CR,WAAW,KAAK,IAAI,EACpB;IACA,OAAOF,KAAK,CAACG,SAAS,CAACQ,QAAQ;;EAGjCd,cAAc,CAACI,QAAQ,EAAED,KAAK,CAAC;EAG/BD,WAAW,CACTC,KAAK,EACLC,QAAQ,CAACK,GAAG,CAACC,WAAW,EACxBN,QAAQ,CAACK,GAAG,CAACD,YAAY,EACzBJ,QAAQ,CAACS,MAAM,EACfT,QAAQ,CAACO,WAAW,EACpBP,QAAQ,CAACQ,MAAM,CAChB;EAEDT,KAAK,CAACG,SAAS,CAACI,WAAW,GAAGN,QAAQ,CAACK,GAAG,CAACC,WAAW;EACtDP,KAAK,CAACG,SAAS,CAACE,YAAY,GAAGJ,QAAQ,CAACK,GAAG,CAACD,YAAY;EACxDL,KAAK,CAACG,SAAS,CAACO,MAAM,GAAGT,QAAQ,CAACS,MAAM;EACxCV,KAAK,CAACG,SAAS,CAACM,MAAM,GAAGR,QAAQ,CAACQ,MAAM;EACxCT,KAAK,CAACG,SAAS,CAACK,WAAW,GAAGP,QAAQ,CAACO,WAAW;EAElD,OAAOR,KAAK,CAACG,SAAS,CAACQ,QAAQ;AACjC"},"metadata":{},"sourceType":"module","externalDependencies":[]}