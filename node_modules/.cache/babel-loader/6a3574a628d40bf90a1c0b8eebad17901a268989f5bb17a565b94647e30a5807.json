{"ast":null,"code":"import { StackViewport, VolumeViewport } from '../RenderingEngine';\nimport cache from '../cache';\nfunction getViewportModality(viewport, volumeId) {\n  if (viewport instanceof StackViewport) {\n    return viewport.modality;\n  }\n  if (viewport instanceof VolumeViewport) {\n    volumeId = volumeId ?? viewport.getDefaultActor()?.uid;\n    if (!volumeId) {\n      return;\n    }\n    return cache.getVolume(volumeId)?.metadata.Modality;\n  }\n  throw new Error('Invalid viewport type');\n}\nexport { getViewportModality as default, getViewportModality };","map":{"version":3,"names":["StackViewport","VolumeViewport","cache","getViewportModality","viewport","volumeId","modality","getDefaultActor","uid","getVolume","metadata","Modality","Error","default"],"sources":["../../../src/utilities/getViewportModality.ts"],"sourcesContent":[null],"mappings":"AACA,SAASA,aAAa,EAAEC,cAAc,QAAQ,oBAAoB;AAClE,OAAOC,KAAK,MAAM,UAAU;AAE5B,SAASC,mBAAmBA,CAACC,QAAmB,EAAEC,QAAiB;EACjE,IAAID,QAAQ,YAAYJ,aAAa,EAAE;IACrC,OAAOI,QAAQ,CAACE,QAAQ;;EAG1B,IAAIF,QAAQ,YAAYH,cAAc,EAAE;IACtCI,QAAQ,GAAGA,QAAQ,IAAID,QAAQ,CAACG,eAAe,EAAE,EAAEC,GAAG;IAEtD,IAAI,CAACH,QAAQ,EAAE;MACb;;IAGF,OAAOH,KAAK,CAACO,SAAS,CAACJ,QAAQ,CAAC,EAAEK,QAAQ,CAACC,QAAQ;;EAGrD,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;AAC1C;AAEA,SAAST,mBAAmB,IAAIU,OAAO,EAAEV,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}