{"ast":null,"code":"import { metaData } from '@cornerstonejs/core';\nfunction getModalityUnit(modality, imageId, options) {\n  if (modality === 'CT') {\n    return 'HU';\n  } else if (modality === 'PT') {\n    return _handlePTModality(imageId, options);\n  } else {\n    return '';\n  }\n}\nfunction _handlePTModality(imageId, options) {\n  if (!options.isPreScaled) {\n    return 'raw';\n  }\n  if (options.isSuvScaled) {\n    return 'SUV';\n  }\n  const generalSeriesModule = metaData.get('generalSeriesModule', imageId);\n  if (generalSeriesModule?.modality === 'PT') {\n    const petSeriesModule = metaData.get('petSeriesModule', imageId);\n    return petSeriesModule?.units || 'unitless';\n  }\n}\nexport { getModalityUnit };","map":{"version":3,"names":["metaData","getModalityUnit","modality","imageId","options","_handlePTModality","isPreScaled","isSuvScaled","generalSeriesModule","get","petSeriesModule","units"],"sources":["../../../src/utilities/getModalityUnit.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,QAAQ,QAAQ,qBAAqB;AAO9C,SAASC,eAAeA,CACtBC,QAAgB,EAChBC,OAAe,EACfC,OAA4B;EAE5B,IAAIF,QAAQ,KAAK,IAAI,EAAE;IACrB,OAAO,IAAI;GACZ,MAAM,IAAIA,QAAQ,KAAK,IAAI,EAAE;IAC5B,OAAOG,iBAAiB,CAACF,OAAO,EAAEC,OAAO,CAAC;GAC3C,MAAM;IACL,OAAO,EAAE;;AAEb;AAEA,SAASC,iBAAiBA,CAACF,OAAe,EAAEC,OAA4B;EACtE,IAAI,CAACA,OAAO,CAACE,WAAW,EAAE;IACxB,OAAO,KAAK;;EAGd,IAAIF,OAAO,CAACG,WAAW,EAAE;IACvB,OAAO,KAAK;;EAGd,MAAMC,mBAAmB,GAAGR,QAAQ,CAACS,GAAG,CAAC,qBAAqB,EAAEN,OAAO,CAAC;EAIxE,IAAIK,mBAAmB,EAAEN,QAAQ,KAAK,IAAI,EAAE;IAC1C,MAAMQ,eAAe,GAAGV,QAAQ,CAACS,GAAG,CAAC,iBAAiB,EAAEN,OAAO,CAAC;IAChE,OAAOO,eAAe,EAAEC,KAAK,IAAI,UAAU;;AAE/C;AAEA,SAASV,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}