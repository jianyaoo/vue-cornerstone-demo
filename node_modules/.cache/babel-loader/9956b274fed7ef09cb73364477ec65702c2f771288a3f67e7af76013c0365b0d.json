{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nfunction findNextLink(line, lines, contourPoints) {\n  let index = -1;\n  lines.forEach((cell, i) => {\n    if (index >= 0) {\n      return;\n    }\n    if (cell.a == line.b) {\n      index = i;\n    }\n  });\n  if (index >= 0) {\n    const nextLine = lines[index];\n    lines.splice(index, 1);\n    contourPoints.push(nextLine.b);\n    if (contourPoints[0] == nextLine.b) {\n      return {\n        remainingLines: lines,\n        contourPoints,\n        type: 'CLOSED_PLANAR'\n      };\n    }\n    return findNextLink(nextLine, lines, contourPoints);\n  }\n  return {\n    remainingLines: lines,\n    contourPoints,\n    type: 'OPEN_PLANAR'\n  };\n}\nexport function findContours(lines) {\n  if (lines.length == 0) {\n    return [];\n  }\n  const contourPoints = [];\n  const firstCell = lines.shift();\n  contourPoints.push(firstCell.a);\n  contourPoints.push(firstCell.b);\n  const result = findNextLink(firstCell, lines, contourPoints);\n  if (result.remainingLines.length == 0) {\n    return [{\n      type: result.type,\n      contourPoints: result.contourPoints\n    }];\n  } else {\n    const extraContours = findContours(result.remainingLines);\n    extraContours.push({\n      type: result.type,\n      contourPoints: result.contourPoints\n    });\n    return extraContours;\n  }\n}\nexport function findContoursFromReducedSet(lines) {\n  return findContours(lines);\n}\nexport default {\n  findContours,\n  findContoursFromReducedSet\n};","map":{"version":3,"names":["findNextLink","line","lines","contourPoints","index","forEach","cell","i","a","b","nextLine","splice","push","remainingLines","type","findContours","length","firstCell","shift","result","extraContours","findContoursFromReducedSet"],"sources":["../../../../src/utilities/contours/contourFinder.ts"],"sourcesContent":[null],"mappings":";AAAA,SAASA,YAAYA,CAACC,IAAI,EAAEC,KAAK,EAAEC,aAAa;EAC9C,IAAIC,KAAK,GAAG,CAAC,CAAC;EACdF,KAAK,CAACG,OAAO,CAAC,CAACC,IAAI,EAAEC,CAAC,KAAI;IACxB,IAAIH,KAAK,IAAI,CAAC,EAAE;MACd;;IAGF,IAAIE,IAAI,CAACE,CAAC,IAAIP,IAAI,CAACQ,CAAC,EAAE;MACpBL,KAAK,GAAGG,CAAC;;EAEb,CAAC,CAAC;EAEF,IAAIH,KAAK,IAAI,CAAC,EAAE;IACd,MAAMM,QAAQ,GAAGR,KAAK,CAACE,KAAK,CAAC;IAC7BF,KAAK,CAACS,MAAM,CAACP,KAAK,EAAE,CAAC,CAAC;IAEtBD,aAAa,CAACS,IAAI,CAACF,QAAQ,CAACD,CAAC,CAAC;IAE9B,IAAIN,aAAa,CAAC,CAAC,CAAC,IAAIO,QAAQ,CAACD,CAAC,EAAE;MAClC,OAAO;QACLI,cAAc,EAAEX,KAAK;QACrBC,aAAa;QACbW,IAAI,EAAE;OAEP;;IAGH,OAAOd,YAAY,CAACU,QAAQ,EAAER,KAAK,EAAEC,aAAa,CAAC;;EAGrD,OAAO;IACLU,cAAc,EAAEX,KAAK;IACrBC,aAAa;IACbW,IAAI,EAAE;GACP;AACH;AAMA,OAAM,SAAUC,YAAYA,CAACb,KAAK;EAChC,IAAIA,KAAK,CAACc,MAAM,IAAI,CAAC,EAAE;IACrB,OAAO,EAAE;;EAGX,MAAMb,aAAa,GAAG,EAAE;EAExB,MAAMc,SAAS,GAAGf,KAAK,CAACgB,KAAK,EAAE;EAC/Bf,aAAa,CAACS,IAAI,CAACK,SAAS,CAACT,CAAC,CAAC;EAC/BL,aAAa,CAACS,IAAI,CAACK,SAAS,CAACR,CAAC,CAAC;EAC/B,MAAMU,MAAM,GAAGnB,YAAY,CAACiB,SAAS,EAAEf,KAAK,EAAEC,aAAa,CAAC;EAE5D,IAAIgB,MAAM,CAACN,cAAc,CAACG,MAAM,IAAI,CAAC,EAAE;IACrC,OAAO,CACL;MACEF,IAAI,EAAEK,MAAM,CAACL,IAAI;MACjBX,aAAa,EAAEgB,MAAM,CAAChB;KACvB,CACF;GACF,MAAM;IACL,MAAMiB,aAAa,GAAGL,YAAY,CAACI,MAAM,CAACN,cAAc,CAAC;IACzDO,aAAa,CAACR,IAAI,CAAC;MACjBE,IAAI,EAAEK,MAAM,CAACL,IAAI;MACjBX,aAAa,EAAEgB,MAAM,CAAChB;KACvB,CAAC;IACF,OAAOiB,aAAa;;AAExB;AAEA,OAAM,SAAUC,0BAA0BA,CAACnB,KAAK;EAC9C,OAAOa,YAAY,CAACb,KAAK,CAAC;AAC5B;AAEA,eAAe;EACba,YAAY;EACZM;CACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}