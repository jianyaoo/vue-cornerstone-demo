{"ast":null,"code":"import drawLine from './drawLine';\nimport findClosestPoint from '../utilities/math/vec2/findClosestPoint';\nfunction drawLink(svgDrawingHelper, annotationUID, linkUID, annotationAnchorPoints, refPoint, boundingBox, options = {}) {\n  const start = annotationAnchorPoints.length > 0 ? findClosestPoint(annotationAnchorPoints, refPoint) : refPoint;\n  const boundingBoxPoints = _boundingBoxPoints(boundingBox);\n  const end = findClosestPoint(boundingBoxPoints, start);\n  const mergedOptions = Object.assign({\n    color: 'rgb(255, 255, 0)',\n    lineWidth: '1',\n    lineDash: '2,3'\n  }, options);\n  drawLine(svgDrawingHelper, annotationUID, `link-${linkUID}`, start, end, mergedOptions);\n}\nfunction _boundingBoxPoints(boundingBox) {\n  const {\n    x: left,\n    y: top,\n    height,\n    width\n  } = boundingBox;\n  const halfWidth = width / 2;\n  const halfHeight = height / 2;\n  const topMiddle = [left + halfWidth, top];\n  const leftMiddle = [left, top + halfHeight];\n  const bottomMiddle = [left + halfWidth, top + height];\n  const rightMiddle = [left + width, top + halfHeight];\n  return [topMiddle, leftMiddle, bottomMiddle, rightMiddle];\n}\nexport default drawLink;","map":{"version":3,"names":["drawLine","findClosestPoint","drawLink","svgDrawingHelper","annotationUID","linkUID","annotationAnchorPoints","refPoint","boundingBox","options","start","length","boundingBoxPoints","_boundingBoxPoints","end","mergedOptions","Object","assign","color","lineWidth","lineDash","x","left","y","top","height","width","halfWidth","halfHeight","topMiddle","leftMiddle","bottomMiddle","rightMiddle"],"sources":["../../../src/drawingSvg/drawLink.ts"],"sourcesContent":[null],"mappings":"AAEA,OAAOA,QAAQ,MAAM,YAAY;AACjC,OAAOC,gBAAgB,MAAM,yCAAyC;AAMtE,SAASC,QAAQA,CACfC,gBAAkC,EAClCC,aAAqB,EACrBC,OAAe,EAEfC,sBAA2C,EAC3CC,QAAsB,EAGtBC,WAA8B,EAC9BC,OAAO,GAAG,EAAE;EAIZ,MAAMC,KAAK,GACTJ,sBAAsB,CAACK,MAAM,GAAG,CAAC,GAC7BV,gBAAgB,CAACK,sBAAsB,EAAEC,QAAQ,CAAC,GAClDA,QAAQ;EAGd,MAAMK,iBAAiB,GAAGC,kBAAkB,CAACL,WAAW,CAAC;EAEzD,MAAMM,GAAG,GAAGb,gBAAgB,CAACW,iBAAiB,EAAEF,KAAK,CAAC;EAGtD,MAAMK,aAAa,GAAGC,MAAM,CAACC,MAAM,CACjC;IACEC,KAAK,EAAE,kBAAkB;IACzBC,SAAS,EAAE,GAAG;IACdC,QAAQ,EAAE;GACX,EACDX,OAAO,CACR;EAEDT,QAAQ,CACNG,gBAAgB,EAChBC,aAAa,EACb,QAAQC,OAAO,EAAE,EACjBK,KAAK,EACLI,GAAG,EACHC,aAAa,CACd;AACH;AASA,SAASF,kBAAkBA,CACzBL,WAA8B;EAE9B,MAAM;IAAEa,CAAC,EAAEC,IAAI;IAAEC,CAAC,EAAEC,GAAG;IAAEC,MAAM;IAAEC;EAAK,CAAE,GAAGlB,WAAW;EACtD,MAAMmB,SAAS,GAAGD,KAAK,GAAG,CAAC;EAC3B,MAAME,UAAU,GAAGH,MAAM,GAAG,CAAC;EAE7B,MAAMI,SAAS,GAAG,CAACP,IAAI,GAAGK,SAAS,EAAEH,GAAG,CAAiB;EACzD,MAAMM,UAAU,GAAG,CAACR,IAAI,EAAEE,GAAG,GAAGI,UAAU,CAAiB;EAC3D,MAAMG,YAAY,GAAG,CAACT,IAAI,GAAGK,SAAS,EAAEH,GAAG,GAAGC,MAAM,CAAiB;EACrE,MAAMO,WAAW,GAAG,CAACV,IAAI,GAAGI,KAAK,EAAEF,GAAG,GAAGI,UAAU,CAAiB;EAEpE,OAAO,CAACC,SAAS,EAAEC,UAAU,EAAEC,YAAY,EAAEC,WAAW,CAAC;AAC3D;AAEA,eAAe9B,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}