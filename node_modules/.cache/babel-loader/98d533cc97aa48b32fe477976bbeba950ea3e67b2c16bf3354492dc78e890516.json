{"ast":null,"code":"import vtkOrientationMarkerWidget from '@kitware/vtk.js/Interaction/Widgets/OrientationMarkerWidget';\nimport vtkAnnotatedCubeActor from '@kitware/vtk.js/Rendering/Core/AnnotatedCubeActor';\nimport vtkAxesActor from '@kitware/vtk.js/Rendering/Core/AxesActor';\nimport vtkActor from '@kitware/vtk.js/Rendering/Core/Actor';\nimport vtkMapper from '@kitware/vtk.js/Rendering/Core/Mapper';\nimport vtkXMLPolyDataReader from '@kitware/vtk.js/IO/XML/XMLPolyDataReader';\nimport vtkPolyData from '@kitware/vtk.js/Common/DataModel/PolyData';\nimport { BaseTool } from './base';\nimport { getRenderingEngines } from '@cornerstonejs/core';\nimport { filterViewportsWithToolEnabled } from '../utilities/viewportFilters';\nconst OverlayMarkerType = {\n  ANNOTATED_CUBE: 1,\n  AXES: 2,\n  CUSTOM: 3\n};\nclass OrientationMarkerTool extends BaseTool {\n  constructor(toolProps = {}, defaultToolProps = {\n    configuration: {\n      orientationWidget: {\n        enabled: true,\n        viewportCorner: vtkOrientationMarkerWidget.Corners.BOTTOM_RIGHT,\n        viewportSize: 0.15,\n        minPixelSize: 100,\n        maxPixelSize: 300\n      },\n      overlayMarkerType: OrientationMarkerTool.OVERLAY_MARKER_TYPES.ANNOTATED_CUBE,\n      overlayConfiguration: {\n        [OrientationMarkerTool.OVERLAY_MARKER_TYPES.ANNOTATED_CUBE]: {\n          faceProperties: {\n            xPlus: {\n              text: 'R',\n              faceColor: '#ffff00',\n              faceRotation: 90\n            },\n            xMinus: {\n              text: 'L',\n              faceColor: '#ffff00',\n              faceRotation: 270\n            },\n            yPlus: {\n              text: 'P',\n              faceColor: '#00ffff',\n              fontColor: 'white',\n              faceRotation: 180\n            },\n            yMinus: {\n              text: 'A',\n              faceColor: '#00ffff',\n              fontColor: 'white'\n            },\n            zPlus: {\n              text: 'S'\n            },\n            zMinus: {\n              text: 'I'\n            }\n          },\n          defaultStyle: {\n            fontStyle: 'bold',\n            fontFamily: 'Arial',\n            fontColor: 'black',\n            fontSizeScale: res => res / 2,\n            faceColor: '#0000ff',\n            edgeThickness: 0.1,\n            edgeColor: 'black',\n            resolution: 400\n          }\n        },\n        [OrientationMarkerTool.OVERLAY_MARKER_TYPES.AXES]: {},\n        [OrientationMarkerTool.OVERLAY_MARKER_TYPES.CUSTOM]: {\n          polyDataURL: 'https://raw.githubusercontent.com/Slicer/Slicer/80ad0a04dacf134754459557bf2638c63f3d1d1b/Base/Logic/Resources/OrientationMarkers/Human.vtp'\n        }\n      }\n    }\n  }) {\n    super(toolProps, defaultToolProps);\n    this.configuration_invalidated = true;\n    this.onSetToolEnabled = () => {\n      this.initViewports();\n      this.configuration_invalidated = true;\n    };\n    this.onSetToolActive = () => {\n      this.initViewports();\n    };\n    this.onSetToolDisabled = () => {\n      this.cleanUpData();\n    };\n    this.orientationMarkers = {};\n    this.configuration_invalidated = true;\n  }\n  static {\n    this.CUBE = 1;\n  }\n  static {\n    this.AXIS = 2;\n  }\n  static {\n    this.VTPFILE = 3;\n  }\n  static {\n    this.OVERLAY_MARKER_TYPES = OverlayMarkerType;\n  }\n  cleanUpData() {\n    const renderingEngines = getRenderingEngines();\n    const renderingEngine = renderingEngines[0];\n    const viewports = renderingEngine.getViewports();\n    viewports.forEach(viewport => {\n      const orientationMarker = this.orientationMarkers[viewport.id];\n      if (!orientationMarker) {\n        return;\n      }\n      const {\n        actor,\n        orientationWidget\n      } = orientationMarker;\n      orientationWidget?.setEnabled(false);\n      orientationWidget?.delete();\n      actor?.delete();\n      const renderWindow = viewport.getRenderingEngine().offscreenMultiRenderWindow.getRenderWindow();\n      renderWindow.render();\n      viewport.getRenderingEngine().render();\n      delete this.orientationMarkers[viewport.id];\n    });\n  }\n  initViewports() {\n    const renderingEngines = getRenderingEngines();\n    const renderingEngine = renderingEngines[0];\n    if (!renderingEngine) {\n      return;\n    }\n    let viewports = renderingEngine.getViewports();\n    viewports = filterViewportsWithToolEnabled(viewports, this.getToolName());\n    viewports.forEach(viewport => this.addAxisActorInViewport(viewport));\n  }\n  async addAxisActorInViewport(viewport) {\n    const viewportId = viewport.id;\n    const type = this.configuration.overlayMarkerType;\n    const overlayConfiguration = this.configuration.overlayConfiguration[type];\n    if (this.orientationMarkers[viewportId]) {\n      const {\n        actor,\n        orientationWidget\n      } = this.orientationMarkers[viewportId];\n      viewport.getRenderer().removeActor(actor);\n      orientationWidget.setEnabled(false);\n    }\n    let actor;\n    if (type === 1) {\n      actor = this.createAnnotationCube(overlayConfiguration);\n    } else if (type === 2) {\n      actor = vtkAxesActor.newInstance();\n    } else if (type === 3) {\n      actor = await this.createCustomActor();\n    }\n    const renderer = viewport.getRenderer();\n    const renderWindow = viewport.getRenderingEngine().offscreenMultiRenderWindow.getRenderWindow();\n    const {\n      enabled,\n      viewportCorner,\n      viewportSize,\n      minPixelSize,\n      maxPixelSize\n    } = this.configuration.orientationWidget;\n    const orientationWidget = vtkOrientationMarkerWidget.newInstance({\n      actor,\n      interactor: renderWindow.getInteractor(),\n      parentRenderer: renderer\n    });\n    orientationWidget.setEnabled(enabled);\n    orientationWidget.setViewportCorner(viewportCorner);\n    orientationWidget.setViewportSize(viewportSize);\n    orientationWidget.setMinPixelSize(minPixelSize);\n    orientationWidget.setMaxPixelSize(maxPixelSize);\n    orientationWidget.updateMarkerOrientation();\n    this.orientationMarkers[viewportId] = {\n      orientationWidget,\n      actor\n    };\n    renderWindow.render();\n    viewport.getRenderingEngine().render();\n    this.configuration_invalidated = false;\n  }\n  async createCustomActor() {\n    const url = this.configuration.overlayConfiguration[OverlayMarkerType.CUSTOM].polyDataURL;\n    const response = await fetch(url);\n    const arrayBuffer = await response.arrayBuffer();\n    const vtpReader = vtkXMLPolyDataReader.newInstance();\n    vtpReader.parseAsArrayBuffer(arrayBuffer);\n    vtpReader.update();\n    const polyData = vtkPolyData.newInstance();\n    polyData.shallowCopy(vtpReader.getOutputData());\n    polyData.getPointData().setActiveScalars('Color');\n    const mapper = vtkMapper.newInstance();\n    mapper.setInputData(polyData);\n    mapper.setColorModeToDirectScalars();\n    const actor = vtkActor.newInstance();\n    actor.setMapper(mapper);\n    actor.rotateZ(180);\n    return actor;\n  }\n  createAnnotationCube(overlayConfiguration) {\n    const actor = vtkAnnotatedCubeActor.newInstance();\n    actor.setDefaultStyle({\n      ...overlayConfiguration.defaultStyle\n    });\n    actor.setXPlusFaceProperty({\n      ...overlayConfiguration.faceProperties.xPlus\n    });\n    actor.setXMinusFaceProperty({\n      ...overlayConfiguration.faceProperties.xMinus\n    });\n    actor.setYPlusFaceProperty({\n      ...overlayConfiguration.faceProperties.yPlus\n    });\n    actor.setYMinusFaceProperty({\n      ...overlayConfiguration.faceProperties.yMinus\n    });\n    actor.setZPlusFaceProperty({\n      ...overlayConfiguration.faceProperties.zPlus\n    });\n    actor.setZMinusFaceProperty({\n      ...overlayConfiguration.faceProperties.zMinus\n    });\n    return actor;\n  }\n  async createAnnotatedCubeActor() {\n    const axes = vtkAnnotatedCubeActor.newInstance();\n    const {\n      faceProperties,\n      defaultStyle\n    } = this.configuration.annotatedCube;\n    axes.setDefaultStyle(defaultStyle);\n    Object.keys(faceProperties).forEach(key => {\n      const methodName = `set${key.charAt(0).toUpperCase() + key.slice(1)}FaceProperty`;\n      axes[methodName](faceProperties[key]);\n    });\n    return axes;\n  }\n}\nOrientationMarkerTool.toolName = 'OrientationMarker';\nexport default OrientationMarkerTool;","map":{"version":3,"names":["vtkOrientationMarkerWidget","vtkAnnotatedCubeActor","vtkAxesActor","vtkActor","vtkMapper","vtkXMLPolyDataReader","vtkPolyData","BaseTool","getRenderingEngines","filterViewportsWithToolEnabled","OverlayMarkerType","ANNOTATED_CUBE","AXES","CUSTOM","OrientationMarkerTool","constructor","toolProps","defaultToolProps","configuration","orientationWidget","enabled","viewportCorner","Corners","BOTTOM_RIGHT","viewportSize","minPixelSize","maxPixelSize","overlayMarkerType","OVERLAY_MARKER_TYPES","overlayConfiguration","faceProperties","xPlus","text","faceColor","faceRotation","xMinus","yPlus","fontColor","yMinus","zPlus","zMinus","defaultStyle","fontStyle","fontFamily","fontSizeScale","res","edgeThickness","edgeColor","resolution","polyDataURL","configuration_invalidated","onSetToolEnabled","initViewports","onSetToolActive","onSetToolDisabled","cleanUpData","orientationMarkers","CUBE","AXIS","VTPFILE","renderingEngines","renderingEngine","viewports","getViewports","forEach","viewport","orientationMarker","id","actor","setEnabled","delete","renderWindow","getRenderingEngine","offscreenMultiRenderWindow","getRenderWindow","render","getToolName","addAxisActorInViewport","viewportId","type","getRenderer","removeActor","createAnnotationCube","newInstance","createCustomActor","renderer","interactor","getInteractor","parentRenderer","setViewportCorner","setViewportSize","setMinPixelSize","setMaxPixelSize","updateMarkerOrientation","url","response","fetch","arrayBuffer","vtpReader","parseAsArrayBuffer","update","polyData","shallowCopy","getOutputData","getPointData","setActiveScalars","mapper","setInputData","setColorModeToDirectScalars","setMapper","rotateZ","setDefaultStyle","setXPlusFaceProperty","setXMinusFaceProperty","setYPlusFaceProperty","setYMinusFaceProperty","setZPlusFaceProperty","setZMinusFaceProperty","createAnnotatedCubeActor","axes","annotatedCube","Object","keys","key","methodName","charAt","toUpperCase","slice","toolName"],"sources":["../../../src/tools/OrientationMarkerTool.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}