{"ast":null,"code":"import \"core-js/modules/es.typed-array.to-reversed.js\";\nimport \"core-js/modules/es.typed-array.to-sorted.js\";\nimport \"core-js/modules/es.typed-array.with.js\";\nimport now from './now';\nexport default function (image, lut, canvasImageDataData) {\n  let start = now();\n  const pixelData = image.getPixelData();\n  image.stats.lastGetPixelDataTime = now() - start;\n  const numPixels = pixelData.length;\n  const minPixelValue = image.minPixelValue;\n  let canvasImageDataIndex = 3;\n  let storedPixelDataIndex = 0;\n  start = now();\n  if (pixelData instanceof Int16Array) {\n    if (minPixelValue < 0) {\n      while (storedPixelDataIndex < numPixels) {\n        canvasImageDataData[canvasImageDataIndex] = lut[pixelData[storedPixelDataIndex++] + -minPixelValue];\n        canvasImageDataIndex += 4;\n      }\n    } else {\n      while (storedPixelDataIndex < numPixels) {\n        canvasImageDataData[canvasImageDataIndex] = lut[pixelData[storedPixelDataIndex++]];\n        canvasImageDataIndex += 4;\n      }\n    }\n  } else if (pixelData instanceof Uint16Array) {\n    while (storedPixelDataIndex < numPixels) {\n      canvasImageDataData[canvasImageDataIndex] = lut[pixelData[storedPixelDataIndex++]];\n      canvasImageDataIndex += 4;\n    }\n  } else if (minPixelValue < 0) {\n    while (storedPixelDataIndex < numPixels) {\n      canvasImageDataData[canvasImageDataIndex] = lut[pixelData[storedPixelDataIndex++] + -minPixelValue];\n      canvasImageDataIndex += 4;\n    }\n  } else {\n    while (storedPixelDataIndex < numPixels) {\n      canvasImageDataData[canvasImageDataIndex] = lut[pixelData[storedPixelDataIndex++]];\n      canvasImageDataIndex += 4;\n    }\n  }\n  image.stats.lastStoredPixelDataToCanvasImageDataTime = now() - start;\n}","map":{"version":3,"names":["now","image","lut","canvasImageDataData","start","pixelData","getPixelData","stats","lastGetPixelDataTime","numPixels","length","minPixelValue","canvasImageDataIndex","storedPixelDataIndex","Int16Array","Uint16Array","lastStoredPixelDataToCanvasImageDataTime"],"sources":["../../../../../../src/RenderingEngine/helpers/cpuFallback/rendering/storedPixelDataToCanvasImageData.ts"],"sourcesContent":[null],"mappings":";;;AAAA,OAAOA,GAAG,MAAM,OAAO;AAoBvB,eAAc,UACZC,KAAa,EACbC,GAAsB,EACtBC,mBAAsC;EAEtC,IAAIC,KAAK,GAAGJ,GAAG,EAAE;EACjB,MAAMK,SAAS,GAAGJ,KAAK,CAACK,YAAY,EAAE;EAEtCL,KAAK,CAACM,KAAK,CAACC,oBAAoB,GAAGR,GAAG,EAAE,GAAGI,KAAK;EAEhD,MAAMK,SAAS,GAAGJ,SAAS,CAACK,MAAM;EAClC,MAAMC,aAAa,GAAGV,KAAK,CAACU,aAAa;EACzC,IAAIC,oBAAoB,GAAG,CAAC;EAC5B,IAAIC,oBAAoB,GAAG,CAAC;EAM5BT,KAAK,GAAGJ,GAAG,EAAE;EACb,IAAIK,SAAS,YAAYS,UAAU,EAAE;IACnC,IAAIH,aAAa,GAAG,CAAC,EAAE;MACrB,OAAOE,oBAAoB,GAAGJ,SAAS,EAAE;QACvCN,mBAAmB,CAACS,oBAAoB,CAAC,GACvCV,GAAG,CAACG,SAAS,CAACQ,oBAAoB,EAAE,CAAC,GAAG,CAACF,aAAa,CAAC;QACzDC,oBAAoB,IAAI,CAAC;;KAE5B,MAAM;MACL,OAAOC,oBAAoB,GAAGJ,SAAS,EAAE;QACvCN,mBAAmB,CAACS,oBAAoB,CAAC,GACvCV,GAAG,CAACG,SAAS,CAACQ,oBAAoB,EAAE,CAAC,CAAC;QACxCD,oBAAoB,IAAI,CAAC;;;GAG9B,MAAM,IAAIP,SAAS,YAAYU,WAAW,EAAE;IAC3C,OAAOF,oBAAoB,GAAGJ,SAAS,EAAE;MACvCN,mBAAmB,CAACS,oBAAoB,CAAC,GACvCV,GAAG,CAACG,SAAS,CAACQ,oBAAoB,EAAE,CAAC,CAAC;MACxCD,oBAAoB,IAAI,CAAC;;GAE5B,MAAM,IAAID,aAAa,GAAG,CAAC,EAAE;IAC5B,OAAOE,oBAAoB,GAAGJ,SAAS,EAAE;MACvCN,mBAAmB,CAACS,oBAAoB,CAAC,GACvCV,GAAG,CAACG,SAAS,CAACQ,oBAAoB,EAAE,CAAC,GAAG,CAACF,aAAa,CAAC;MACzDC,oBAAoB,IAAI,CAAC;;GAE5B,MAAM;IACL,OAAOC,oBAAoB,GAAGJ,SAAS,EAAE;MACvCN,mBAAmB,CAACS,oBAAoB,CAAC,GACvCV,GAAG,CAACG,SAAS,CAACQ,oBAAoB,EAAE,CAAC,CAAC;MACxCD,oBAAoB,IAAI,CAAC;;;EAI7BX,KAAK,CAACM,KAAK,CAACS,wCAAwC,GAAGhB,GAAG,EAAE,GAAGI,KAAK;AACtE"},"metadata":{},"sourceType":"module","externalDependencies":[]}