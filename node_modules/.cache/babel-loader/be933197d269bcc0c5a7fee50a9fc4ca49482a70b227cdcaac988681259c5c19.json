{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { m as macro } from '../../macros2.js';\nimport vtkWebGPUShaderCache from './ShaderCache.js';\nimport vtkWebGPUSimpleMapper from './SimpleMapper.js';\n\n// ----------------------------------------------------------------------------\n// vtkWebGPUFullScreenQuad methods\n// ----------------------------------------------------------------------------\n\nfunction vtkWebGPUFullScreenQuad(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkWebGPUFullScreenQuad');\n  publicAPI.replaceShaderPosition = (hash, pipeline, vertexInput) => {\n    const vDesc = pipeline.getShaderDescription('vertex');\n    vDesc.addBuiltinOutput('vec4<f32>', '@builtin(position) Position');\n    vDesc.addOutput('vec4<f32>', 'vertexVC');\n    let code = vDesc.getCode();\n    code = vtkWebGPUShaderCache.substitute(code, '//VTK::Position::Impl', ['output.tcoordVS = vec2<f32>(vertexBC.x * 0.5 + 0.5, 1.0 - vertexBC.y * 0.5 - 0.5);', 'output.Position = vec4<f32>(vertexBC, 1.0);', 'output.vertexVC = vec4<f32>(vertexBC, 1);']).result;\n    vDesc.setCode(code);\n  };\n  model.shaderReplacements.set('replaceShaderPosition', publicAPI.replaceShaderPosition);\n  publicAPI.updateBuffers = () => {\n    const buff = model.device.getBufferManager().getFullScreenQuadBuffer();\n    model.vertexInput.addBuffer(buff, ['vertexBC']);\n    model.numberOfVertices = 6;\n  };\n}\n\n// ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\nconst DEFAULT_VALUES = {};\n\n// ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  let initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues);\n\n  // Inheritance\n  vtkWebGPUSimpleMapper.extend(publicAPI, model, initialValues);\n\n  // Object methods\n  vtkWebGPUFullScreenQuad(publicAPI, model);\n}\n\n// ----------------------------------------------------------------------------\n\nconst newInstance = macro.newInstance(extend, 'vtkWebGPUFullScreenQuad');\n\n// ----------------------------------------------------------------------------\n\nvar vtkWebGPUFullScreenQuad$1 = {\n  newInstance,\n  extend\n};\nexport { vtkWebGPUFullScreenQuad$1 as default, extend, newInstance };","map":{"version":3,"names":["m","macro","vtkWebGPUShaderCache","vtkWebGPUSimpleMapper","vtkWebGPUFullScreenQuad","publicAPI","model","classHierarchy","push","replaceShaderPosition","hash","pipeline","vertexInput","vDesc","getShaderDescription","addBuiltinOutput","addOutput","code","getCode","substitute","result","setCode","shaderReplacements","set","updateBuffers","buff","device","getBufferManager","getFullScreenQuadBuffer","addBuffer","numberOfVertices","DEFAULT_VALUES","extend","initialValues","arguments","length","undefined","Object","assign","newInstance","vtkWebGPUFullScreenQuad$1","default"],"sources":["/Users/yzy/Documents/Playground/vue-cornerstone-demo/node_modules/@kitware/vtk.js/Rendering/WebGPU/FullScreenQuad.js"],"sourcesContent":["import { m as macro } from '../../macros2.js';\nimport vtkWebGPUShaderCache from './ShaderCache.js';\nimport vtkWebGPUSimpleMapper from './SimpleMapper.js';\n\n// ----------------------------------------------------------------------------\n// vtkWebGPUFullScreenQuad methods\n// ----------------------------------------------------------------------------\n\nfunction vtkWebGPUFullScreenQuad(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkWebGPUFullScreenQuad');\n  publicAPI.replaceShaderPosition = (hash, pipeline, vertexInput) => {\n    const vDesc = pipeline.getShaderDescription('vertex');\n    vDesc.addBuiltinOutput('vec4<f32>', '@builtin(position) Position');\n    vDesc.addOutput('vec4<f32>', 'vertexVC');\n    let code = vDesc.getCode();\n    code = vtkWebGPUShaderCache.substitute(code, '//VTK::Position::Impl', ['output.tcoordVS = vec2<f32>(vertexBC.x * 0.5 + 0.5, 1.0 - vertexBC.y * 0.5 - 0.5);', 'output.Position = vec4<f32>(vertexBC, 1.0);', 'output.vertexVC = vec4<f32>(vertexBC, 1);']).result;\n    vDesc.setCode(code);\n  };\n  model.shaderReplacements.set('replaceShaderPosition', publicAPI.replaceShaderPosition);\n  publicAPI.updateBuffers = () => {\n    const buff = model.device.getBufferManager().getFullScreenQuadBuffer();\n    model.vertexInput.addBuffer(buff, ['vertexBC']);\n    model.numberOfVertices = 6;\n  };\n}\n\n// ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\nconst DEFAULT_VALUES = {};\n\n// ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  let initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues);\n\n  // Inheritance\n  vtkWebGPUSimpleMapper.extend(publicAPI, model, initialValues);\n\n  // Object methods\n  vtkWebGPUFullScreenQuad(publicAPI, model);\n}\n\n// ----------------------------------------------------------------------------\n\nconst newInstance = macro.newInstance(extend, 'vtkWebGPUFullScreenQuad');\n\n// ----------------------------------------------------------------------------\n\nvar vtkWebGPUFullScreenQuad$1 = {\n  newInstance,\n  extend\n};\n\nexport { vtkWebGPUFullScreenQuad$1 as default, extend, newInstance };\n"],"mappings":";AAAA,SAASA,CAAC,IAAIC,KAAK,QAAQ,kBAAkB;AAC7C,OAAOC,oBAAoB,MAAM,kBAAkB;AACnD,OAAOC,qBAAqB,MAAM,mBAAmB;;AAErD;AACA;AACA;;AAEA,SAASC,uBAAuBA,CAACC,SAAS,EAAEC,KAAK,EAAE;EACjD;EACAA,KAAK,CAACC,cAAc,CAACC,IAAI,CAAC,yBAAyB,CAAC;EACpDH,SAAS,CAACI,qBAAqB,GAAG,CAACC,IAAI,EAAEC,QAAQ,EAAEC,WAAW,KAAK;IACjE,MAAMC,KAAK,GAAGF,QAAQ,CAACG,oBAAoB,CAAC,QAAQ,CAAC;IACrDD,KAAK,CAACE,gBAAgB,CAAC,WAAW,EAAE,6BAA6B,CAAC;IAClEF,KAAK,CAACG,SAAS,CAAC,WAAW,EAAE,UAAU,CAAC;IACxC,IAAIC,IAAI,GAAGJ,KAAK,CAACK,OAAO,CAAC,CAAC;IAC1BD,IAAI,GAAGf,oBAAoB,CAACiB,UAAU,CAACF,IAAI,EAAE,uBAAuB,EAAE,CAAC,oFAAoF,EAAE,6CAA6C,EAAE,2CAA2C,CAAC,CAAC,CAACG,MAAM;IAChQP,KAAK,CAACQ,OAAO,CAACJ,IAAI,CAAC;EACrB,CAAC;EACDX,KAAK,CAACgB,kBAAkB,CAACC,GAAG,CAAC,uBAAuB,EAAElB,SAAS,CAACI,qBAAqB,CAAC;EACtFJ,SAAS,CAACmB,aAAa,GAAG,MAAM;IAC9B,MAAMC,IAAI,GAAGnB,KAAK,CAACoB,MAAM,CAACC,gBAAgB,CAAC,CAAC,CAACC,uBAAuB,CAAC,CAAC;IACtEtB,KAAK,CAACM,WAAW,CAACiB,SAAS,CAACJ,IAAI,EAAE,CAAC,UAAU,CAAC,CAAC;IAC/CnB,KAAK,CAACwB,gBAAgB,GAAG,CAAC;EAC5B,CAAC;AACH;;AAEA;AACA;AACA;;AAEA,MAAMC,cAAc,GAAG,CAAC,CAAC;;AAEzB;;AAEA,SAASC,MAAMA,CAAC3B,SAAS,EAAEC,KAAK,EAAE;EAChC,IAAI2B,aAAa,GAAGC,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;EAC1FG,MAAM,CAACC,MAAM,CAAChC,KAAK,EAAEyB,cAAc,EAAEE,aAAa,CAAC;;EAEnD;EACA9B,qBAAqB,CAAC6B,MAAM,CAAC3B,SAAS,EAAEC,KAAK,EAAE2B,aAAa,CAAC;;EAE7D;EACA7B,uBAAuB,CAACC,SAAS,EAAEC,KAAK,CAAC;AAC3C;;AAEA;;AAEA,MAAMiC,WAAW,GAAGtC,KAAK,CAACsC,WAAW,CAACP,MAAM,EAAE,yBAAyB,CAAC;;AAExE;;AAEA,IAAIQ,yBAAyB,GAAG;EAC9BD,WAAW;EACXP;AACF,CAAC;AAED,SAASQ,yBAAyB,IAAIC,OAAO,EAAET,MAAM,EAAEO,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}