{"ast":null,"code":"import { cache, getEnabledElement } from '@cornerstonejs/core';\nimport { BaseTool } from '../base';\nimport { fillInsideCircle } from './strategies/fillCircle';\nimport { eraseInsideCircle } from './strategies/eraseCircle';\nimport { Events } from '../../enums';\nimport { drawCircle as drawCircleSvg } from '../../drawingSvg';\nimport { resetElementCursor, hideElementCursor } from '../../cursors/elementCursor';\nimport triggerAnnotationRenderForViewportIds from '../../utilities/triggerAnnotationRenderForViewportIds';\nimport { segmentLocking, activeSegmentation, segmentIndex as segmentIndexController, config as segmentationConfig } from '../../stateManagement/segmentation';\nimport { getSegmentation } from '../../stateManagement/segmentation/segmentationState';\nimport { isVolumeSegmentation } from './strategies/utils/stackVolumeCheck';\nclass CircleScissorsTool extends BaseTool {\n  constructor(toolProps = {}, defaultToolProps = {\n    supportedInteractionTypes: ['Mouse', 'Touch'],\n    configuration: {\n      strategies: {\n        FILL_INSIDE: fillInsideCircle,\n        ERASE_INSIDE: eraseInsideCircle\n      },\n      defaultStrategy: 'FILL_INSIDE',\n      activeStrategy: 'FILL_INSIDE'\n    }\n  }) {\n    super(toolProps, defaultToolProps);\n    this.preMouseDownCallback = evt => {\n      if (this.isDrawing === true) {\n        return;\n      }\n      const eventDetail = evt.detail;\n      const {\n        currentPoints,\n        element\n      } = eventDetail;\n      const worldPos = currentPoints.world;\n      const canvasPos = currentPoints.canvas;\n      const enabledElement = getEnabledElement(element);\n      const {\n        viewport,\n        renderingEngine\n      } = enabledElement;\n      this.isDrawing = true;\n      const camera = viewport.getCamera();\n      const {\n        viewPlaneNormal,\n        viewUp\n      } = camera;\n      const toolGroupId = this.toolGroupId;\n      const activeSegmentationRepresentation = activeSegmentation.getActiveSegmentationRepresentation(toolGroupId);\n      if (!activeSegmentationRepresentation) {\n        throw new Error('No active segmentation detected, create one before using scissors tool');\n      }\n      const {\n        segmentationRepresentationUID,\n        segmentationId,\n        type\n      } = activeSegmentationRepresentation;\n      const segmentIndex = segmentIndexController.getActiveSegmentIndex(segmentationId);\n      const segmentsLocked = segmentLocking.getLockedSegments(segmentationId);\n      const segmentColor = segmentationConfig.color.getColorForSegmentIndex(toolGroupId, segmentationRepresentationUID, segmentIndex);\n      const {\n        representationData\n      } = getSegmentation(segmentationId);\n      const labelmapData = representationData[type];\n      if (!labelmapData) {\n        throw new Error('No labelmap data found for the active segmentation, create one before using scissors tool');\n      }\n      const annotation = {\n        invalidated: true,\n        highlighted: true,\n        metadata: {\n          viewPlaneNormal: [...viewPlaneNormal],\n          viewUp: [...viewUp],\n          FrameOfReferenceUID: viewport.getFrameOfReferenceUID(),\n          referencedImageId: '',\n          toolName: this.getToolName(),\n          segmentColor\n        },\n        data: {\n          handles: {\n            points: [[...worldPos], [...worldPos], [...worldPos], [...worldPos]],\n            activeHandleIndex: null\n          },\n          isDrawing: true,\n          cachedStats: {}\n        }\n      };\n      const viewportIdsToRender = [viewport.id];\n      this.editData = {\n        annotation,\n        centerCanvas: canvasPos,\n        segmentIndex,\n        segmentationId,\n        segmentsLocked,\n        segmentColor,\n        viewportIdsToRender,\n        handleIndex: 3,\n        movingTextBox: false,\n        newAnnotation: true,\n        hasMoved: false,\n        segmentationRepresentationUID\n      };\n      if (isVolumeSegmentation(labelmapData)) {\n        const {\n          volumeId\n        } = labelmapData;\n        const segmentation = cache.getVolume(volumeId);\n        this.editData = {\n          ...this.editData,\n          volumeId,\n          referencedVolumeId: segmentation.referencedVolumeId\n        };\n      } else {\n        const {\n          imageIdReferenceMap\n        } = labelmapData;\n        this.editData = {\n          ...this.editData,\n          imageIdReferenceMap\n        };\n      }\n      this._activateDraw(element);\n      hideElementCursor(element);\n      evt.preventDefault();\n      triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n      return true;\n    };\n    this._dragCallback = evt => {\n      this.isDrawing = true;\n      const eventDetail = evt.detail;\n      const {\n        element\n      } = eventDetail;\n      const {\n        currentPoints\n      } = eventDetail;\n      const currentCanvasPoints = currentPoints.canvas;\n      const enabledElement = getEnabledElement(element);\n      const {\n        renderingEngine,\n        viewport\n      } = enabledElement;\n      const {\n        canvasToWorld\n      } = viewport;\n      const {\n        annotation,\n        viewportIdsToRender,\n        centerCanvas\n      } = this.editData;\n      const {\n        data\n      } = annotation;\n      const dX = Math.abs(currentCanvasPoints[0] - centerCanvas[0]);\n      const dY = Math.abs(currentCanvasPoints[1] - centerCanvas[1]);\n      const radius = Math.sqrt(dX * dX + dY * dY);\n      const bottomCanvas = [centerCanvas[0], centerCanvas[1] + radius];\n      const topCanvas = [centerCanvas[0], centerCanvas[1] - radius];\n      const leftCanvas = [centerCanvas[0] - radius, centerCanvas[1]];\n      const rightCanvas = [centerCanvas[0] + radius, centerCanvas[1]];\n      data.handles.points = [canvasToWorld(bottomCanvas), canvasToWorld(topCanvas), canvasToWorld(leftCanvas), canvasToWorld(rightCanvas)];\n      annotation.invalidated = true;\n      this.editData.hasMoved = true;\n      triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n    };\n    this._endCallback = evt => {\n      const eventDetail = evt.detail;\n      const {\n        element\n      } = eventDetail;\n      const {\n        annotation,\n        newAnnotation,\n        hasMoved\n      } = this.editData;\n      const {\n        data\n      } = annotation;\n      const {\n        viewPlaneNormal,\n        viewUp\n      } = annotation.metadata;\n      if (newAnnotation && !hasMoved) {\n        return;\n      }\n      data.handles.activeHandleIndex = null;\n      this._deactivateDraw(element);\n      resetElementCursor(element);\n      const enabledElement = getEnabledElement(element);\n      const operationData = {\n        ...this.editData,\n        points: data.handles.points,\n        viewPlaneNormal,\n        viewUp,\n        strategySpecificConfiguration: {}\n      };\n      this.editData = null;\n      this.isDrawing = false;\n      this.applyActiveStrategy(enabledElement, operationData);\n    };\n    this._activateDraw = element => {\n      element.addEventListener(Events.MOUSE_UP, this._endCallback);\n      element.addEventListener(Events.MOUSE_DRAG, this._dragCallback);\n      element.addEventListener(Events.MOUSE_CLICK, this._endCallback);\n      element.addEventListener(Events.MOUSE_MOVE, this._dragCallback);\n      element.addEventListener(Events.TOUCH_TAP, this._endCallback);\n      element.addEventListener(Events.TOUCH_DRAG, this._dragCallback);\n      element.addEventListener(Events.TOUCH_END, this._endCallback);\n    };\n    this._deactivateDraw = element => {\n      element.removeEventListener(Events.MOUSE_UP, this._endCallback);\n      element.removeEventListener(Events.MOUSE_DRAG, this._dragCallback);\n      element.removeEventListener(Events.MOUSE_CLICK, this._endCallback);\n      element.removeEventListener(Events.MOUSE_MOVE, this._dragCallback);\n      element.removeEventListener(Events.TOUCH_END, this._endCallback);\n      element.removeEventListener(Events.TOUCH_DRAG, this._dragCallback);\n      element.removeEventListener(Events.TOUCH_TAP, this._endCallback);\n    };\n    this.renderAnnotation = (enabledElement, svgDrawingHelper) => {\n      let renderStatus = false;\n      if (!this.editData) {\n        return renderStatus;\n      }\n      const {\n        viewport\n      } = enabledElement;\n      const {\n        viewportIdsToRender\n      } = this.editData;\n      if (!viewportIdsToRender.includes(viewport.id)) {\n        return renderStatus;\n      }\n      const {\n        annotation\n      } = this.editData;\n      const toolMetadata = annotation.metadata;\n      const annotationUID = annotation.annotationUID;\n      const data = annotation.data;\n      const {\n        points\n      } = data.handles;\n      const canvasCoordinates = points.map(p => viewport.worldToCanvas(p));\n      const bottom = canvasCoordinates[0];\n      const top = canvasCoordinates[1];\n      const center = [Math.floor((bottom[0] + top[0]) / 2), Math.floor((bottom[1] + top[1]) / 2)];\n      const radius = Math.abs(bottom[1] - Math.floor((bottom[1] + top[1]) / 2));\n      const color = `rgb(${toolMetadata.segmentColor.slice(0, 3)})`;\n      if (!viewport.getRenderingEngine()) {\n        console.warn('Rendering Engine has been destroyed');\n        return renderStatus;\n      }\n      const circleUID = '0';\n      drawCircleSvg(svgDrawingHelper, annotationUID, circleUID, center, radius, {\n        color\n      });\n      renderStatus = true;\n      return renderStatus;\n    };\n  }\n}\nCircleScissorsTool.toolName = 'CircleScissor';\nexport default CircleScissorsTool;","map":{"version":3,"names":["cache","getEnabledElement","BaseTool","fillInsideCircle","eraseInsideCircle","Events","drawCircle","drawCircleSvg","resetElementCursor","hideElementCursor","triggerAnnotationRenderForViewportIds","segmentLocking","activeSegmentation","segmentIndex","segmentIndexController","config","segmentationConfig","getSegmentation","isVolumeSegmentation","CircleScissorsTool","constructor","toolProps","defaultToolProps","supportedInteractionTypes","configuration","strategies","FILL_INSIDE","ERASE_INSIDE","defaultStrategy","activeStrategy","preMouseDownCallback","evt","isDrawing","eventDetail","detail","currentPoints","element","worldPos","world","canvasPos","canvas","enabledElement","viewport","renderingEngine","camera","getCamera","viewPlaneNormal","viewUp","toolGroupId","activeSegmentationRepresentation","getActiveSegmentationRepresentation","Error","segmentationRepresentationUID","segmentationId","type","getActiveSegmentIndex","segmentsLocked","getLockedSegments","segmentColor","color","getColorForSegmentIndex","representationData","labelmapData","annotation","invalidated","highlighted","metadata","FrameOfReferenceUID","getFrameOfReferenceUID","referencedImageId","toolName","getToolName","data","handles","points","activeHandleIndex","cachedStats","viewportIdsToRender","id","editData","centerCanvas","handleIndex","movingTextBox","newAnnotation","hasMoved","volumeId","segmentation","getVolume","referencedVolumeId","imageIdReferenceMap","_activateDraw","preventDefault","_dragCallback","currentCanvasPoints","canvasToWorld","dX","Math","abs","dY","radius","sqrt","bottomCanvas","topCanvas","leftCanvas","rightCanvas","_endCallback","_deactivateDraw","operationData","strategySpecificConfiguration","applyActiveStrategy","addEventListener","MOUSE_UP","MOUSE_DRAG","MOUSE_CLICK","MOUSE_MOVE","TOUCH_TAP","TOUCH_DRAG","TOUCH_END","removeEventListener","renderAnnotation","svgDrawingHelper","renderStatus","includes","toolMetadata","annotationUID","canvasCoordinates","map","p","worldToCanvas","bottom","top","center","floor","slice","getRenderingEngine","console","warn","circleUID"],"sources":["../../../../src/tools/segmentation/CircleScissorsTool.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}