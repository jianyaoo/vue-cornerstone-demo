{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { getEnabledElement } from '@cornerstonejs/core';\nimport { state } from '../../../store';\nimport { Events } from '../../../enums';\nimport { resetElementCursor, hideElementCursor } from '../../../cursors/elementCursor';\nimport { vec3, vec2 } from 'gl-matrix';\nimport { polyline } from '../../../utilities/math';\nimport { shouldInterpolate, getInterpolatedPoints } from '../../../utilities/planarFreehandROITool/interpolatePoints';\nimport triggerAnnotationRenderForViewportIds from '../../../utilities/triggerAnnotationRenderForViewportIds';\nimport findOpenUShapedContourVectorToPeak from './findOpenUShapedContourVectorToPeak';\nconst {\n  addCanvasPointsToArray,\n  getSubPixelSpacingAndXYDirections\n} = polyline;\nfunction activateOpenContourEdit(evt, annotation, viewportIdsToRender) {\n  this.isEditingOpen = true;\n  const eventDetail = evt.detail;\n  const {\n    currentPoints,\n    element\n  } = eventDetail;\n  const canvasPos = currentPoints.canvas;\n  const enabledElement = getEnabledElement(element);\n  const {\n    viewport\n  } = enabledElement;\n  const prevCanvasPoints = annotation.data.contour.polyline.map(viewport.worldToCanvas);\n  const {\n    spacing,\n    xDir,\n    yDir\n  } = getSubPixelSpacingAndXYDirections(viewport, this.configuration.subPixelResolution);\n  this.editData = {\n    prevCanvasPoints,\n    editCanvasPoints: [canvasPos],\n    startCrossingIndex: undefined,\n    editIndex: 0\n  };\n  this.commonData = {\n    annotation,\n    viewportIdsToRender,\n    spacing,\n    xDir,\n    yDir,\n    movingTextBox: false\n  };\n  state.isInteractingWithTool = true;\n  element.addEventListener(Events.MOUSE_UP, this.mouseUpOpenContourEditCallback);\n  element.addEventListener(Events.MOUSE_DRAG, this.mouseDragOpenContourEditCallback);\n  element.addEventListener(Events.MOUSE_CLICK, this.mouseUpOpenContourEditCallback);\n  element.addEventListener(Events.TOUCH_END, this.mouseUpOpenContourEditCallback);\n  element.addEventListener(Events.TOUCH_DRAG, this.mouseDragOpenContourEditCallback);\n  element.addEventListener(Events.TOUCH_TAP, this.mouseUpOpenContourEditCallback);\n  hideElementCursor(element);\n}\nfunction deactivateOpenContourEdit(element) {\n  state.isInteractingWithTool = false;\n  element.removeEventListener(Events.MOUSE_UP, this.mouseUpOpenContourEditCallback);\n  element.removeEventListener(Events.MOUSE_DRAG, this.mouseDragOpenContourEditCallback);\n  element.removeEventListener(Events.MOUSE_CLICK, this.mouseUpOpenContourEditCallback);\n  element.removeEventListener(Events.TOUCH_END, this.mouseUpOpenContourEditCallback);\n  element.removeEventListener(Events.TOUCH_DRAG, this.mouseDragOpenContourEditCallback);\n  element.removeEventListener(Events.TOUCH_TAP, this.mouseUpOpenContourEditCallback);\n  resetElementCursor(element);\n}\nfunction mouseDragOpenContourEditCallback(evt) {\n  const eventDetail = evt.detail;\n  const {\n    currentPoints,\n    element\n  } = eventDetail;\n  const worldPos = currentPoints.world;\n  const canvasPos = currentPoints.canvas;\n  const enabledElement = getEnabledElement(element);\n  const {\n    renderingEngine,\n    viewport\n  } = enabledElement;\n  const {\n    viewportIdsToRender,\n    xDir,\n    yDir,\n    spacing\n  } = this.commonData;\n  const {\n    editIndex,\n    editCanvasPoints,\n    startCrossingIndex\n  } = this.editData;\n  const lastCanvasPoint = editCanvasPoints[editCanvasPoints.length - 1];\n  const lastWorldPoint = viewport.canvasToWorld(lastCanvasPoint);\n  const worldPosDiff = vec3.create();\n  vec3.subtract(worldPosDiff, worldPos, lastWorldPoint);\n  const xDist = Math.abs(vec3.dot(worldPosDiff, xDir));\n  const yDist = Math.abs(vec3.dot(worldPosDiff, yDir));\n  if (xDist <= spacing[0] && yDist <= spacing[1]) {\n    return;\n  }\n  if (startCrossingIndex !== undefined) {\n    this.checkAndRemoveCrossesOnEditLine(evt);\n  }\n  const numPointsAdded = addCanvasPointsToArray(element, editCanvasPoints, canvasPos, this.commonData);\n  const currentEditIndex = editIndex + numPointsAdded;\n  this.editData.editIndex = currentEditIndex;\n  if (startCrossingIndex === undefined && editCanvasPoints.length > 1) {\n    this.checkForFirstCrossing(evt, false);\n  }\n  this.editData.snapIndex = this.findSnapIndex();\n  this.editData.fusedCanvasPoints = this.fuseEditPointsWithOpenContour(evt);\n  if (startCrossingIndex !== undefined && this.checkForSecondCrossing(evt, false)) {\n    this.removePointsAfterSecondCrossing(false);\n    this.finishEditOpenOnSecondCrossing(evt);\n  } else if (this.checkIfShouldOverwriteAnEnd(evt)) {\n    this.openContourEditOverwriteEnd(evt);\n  }\n  triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n}\nfunction openContourEditOverwriteEnd(evt) {\n  const eventDetail = evt.detail;\n  const {\n    element\n  } = eventDetail;\n  const enabledElement = getEnabledElement(element);\n  const {\n    viewport\n  } = enabledElement;\n  const {\n    annotation,\n    viewportIdsToRender\n  } = this.commonData;\n  const fusedCanvasPoints = this.fuseEditPointsForOpenContourEndEdit();\n  const worldPoints = fusedCanvasPoints.map(canvasPoint => viewport.canvasToWorld(canvasPoint));\n  annotation.data.contour.polyline = worldPoints;\n  annotation.data.contour.closed = false;\n  annotation.data.handles.points = [worldPoints[0], worldPoints[worldPoints.length - 1]];\n  annotation.data.handles.activeHandleIndex = 1;\n  this.triggerAnnotationModified(annotation, enabledElement);\n  this.isEditingOpen = false;\n  this.editData = undefined;\n  this.commonData = undefined;\n  this.deactivateOpenContourEdit(element);\n  this.activateOpenContourEndEdit(evt, annotation, viewportIdsToRender, null);\n}\nfunction checkIfShouldOverwriteAnEnd(evt) {\n  const eventDetail = evt.detail;\n  const {\n    currentPoints,\n    lastPoints\n  } = eventDetail;\n  const canvasPos = currentPoints.canvas;\n  const lastCanvasPos = lastPoints.canvas;\n  const {\n    snapIndex,\n    prevCanvasPoints,\n    startCrossingIndex\n  } = this.editData;\n  if (startCrossingIndex === undefined || snapIndex === undefined) {\n    return false;\n  }\n  if (snapIndex === -1) {\n    return true;\n  }\n  if (snapIndex !== 0 && snapIndex !== prevCanvasPoints.length - 1) {\n    return false;\n  }\n  const p1 = canvasPos;\n  const p2 = lastCanvasPos;\n  const p3 = prevCanvasPoints[snapIndex];\n  const a = vec2.create();\n  const b = vec2.create();\n  vec2.set(a, p1[0] - p2[0], p1[1] - p2[1]);\n  vec2.set(b, p1[0] - p3[0], p1[1] - p3[1]);\n  const aDotb = vec2.dot(a, b);\n  const magA = Math.sqrt(a[0] * a[0] + a[1] * a[1]);\n  const magB = Math.sqrt(b[0] * b[0] + b[1] * b[1]);\n  const theta = Math.acos(aDotb / (magA * magB));\n  if (theta < Math.PI / 2) {\n    return true;\n  }\n  return false;\n}\nfunction fuseEditPointsForOpenContourEndEdit() {\n  const {\n    snapIndex,\n    prevCanvasPoints,\n    editCanvasPoints,\n    startCrossingIndex\n  } = this.editData;\n  const newCanvasPoints = [];\n  if (snapIndex === 0) {\n    for (let i = prevCanvasPoints.length - 1; i >= startCrossingIndex; i--) {\n      const canvasPoint = prevCanvasPoints[i];\n      newCanvasPoints.push([canvasPoint[0], canvasPoint[1]]);\n    }\n  } else {\n    for (let i = 0; i < startCrossingIndex; i++) {\n      const canvasPoint = prevCanvasPoints[i];\n      newCanvasPoints.push([canvasPoint[0], canvasPoint[1]]);\n    }\n  }\n  const distanceBetweenCrossingIndexAndFirstPoint = vec2.distance(prevCanvasPoints[startCrossingIndex], editCanvasPoints[0]);\n  const distanceBetweenCrossingIndexAndLastPoint = vec2.distance(prevCanvasPoints[startCrossingIndex], editCanvasPoints[editCanvasPoints.length - 1]);\n  if (distanceBetweenCrossingIndexAndFirstPoint < distanceBetweenCrossingIndexAndLastPoint) {\n    for (let i = 0; i < editCanvasPoints.length; i++) {\n      const canvasPoint = editCanvasPoints[i];\n      newCanvasPoints.push([canvasPoint[0], canvasPoint[1]]);\n    }\n  } else {\n    for (let i = editCanvasPoints.length - 1; i >= 0; i--) {\n      const canvasPoint = editCanvasPoints[i];\n      newCanvasPoints.push([canvasPoint[0], canvasPoint[1]]);\n    }\n  }\n  return newCanvasPoints;\n}\nfunction fuseEditPointsWithOpenContour(evt) {\n  const {\n    prevCanvasPoints,\n    editCanvasPoints,\n    startCrossingIndex,\n    snapIndex\n  } = this.editData;\n  if (startCrossingIndex === undefined || snapIndex === undefined) {\n    return undefined;\n  }\n  const eventDetail = evt.detail;\n  const {\n    element\n  } = eventDetail;\n  const augmentedEditCanvasPoints = [...editCanvasPoints];\n  addCanvasPointsToArray(element, augmentedEditCanvasPoints, prevCanvasPoints[snapIndex], this.commonData);\n  if (augmentedEditCanvasPoints.length > editCanvasPoints.length) {\n    augmentedEditCanvasPoints.pop();\n  }\n  let lowIndex;\n  let highIndex;\n  if (startCrossingIndex > snapIndex) {\n    lowIndex = snapIndex;\n    highIndex = startCrossingIndex;\n  } else {\n    lowIndex = startCrossingIndex;\n    highIndex = snapIndex;\n  }\n  const distanceBetweenLowAndFirstPoint = vec2.distance(prevCanvasPoints[lowIndex], augmentedEditCanvasPoints[0]);\n  const distanceBetweenLowAndLastPoint = vec2.distance(prevCanvasPoints[lowIndex], augmentedEditCanvasPoints[augmentedEditCanvasPoints.length - 1]);\n  const distanceBetweenHighAndFirstPoint = vec2.distance(prevCanvasPoints[highIndex], augmentedEditCanvasPoints[0]);\n  const distanceBetweenHighAndLastPoint = vec2.distance(prevCanvasPoints[highIndex], augmentedEditCanvasPoints[augmentedEditCanvasPoints.length - 1]);\n  const pointsToRender = [];\n  for (let i = 0; i < lowIndex; i++) {\n    const canvasPoint = prevCanvasPoints[i];\n    pointsToRender.push([canvasPoint[0], canvasPoint[1]]);\n  }\n  const inPlaceDistance = distanceBetweenLowAndFirstPoint + distanceBetweenHighAndLastPoint;\n  const reverseDistance = distanceBetweenLowAndLastPoint + distanceBetweenHighAndFirstPoint;\n  if (inPlaceDistance < reverseDistance) {\n    for (let i = 0; i < augmentedEditCanvasPoints.length; i++) {\n      const canvasPoint = augmentedEditCanvasPoints[i];\n      pointsToRender.push([canvasPoint[0], canvasPoint[1]]);\n    }\n  } else {\n    for (let i = augmentedEditCanvasPoints.length - 1; i >= 0; i--) {\n      const canvasPoint = augmentedEditCanvasPoints[i];\n      pointsToRender.push([canvasPoint[0], canvasPoint[1]]);\n    }\n  }\n  for (let i = highIndex; i < prevCanvasPoints.length; i++) {\n    const canvasPoint = prevCanvasPoints[i];\n    pointsToRender.push([canvasPoint[0], canvasPoint[1]]);\n  }\n  return pointsToRender;\n}\nfunction finishEditOpenOnSecondCrossing(evt) {\n  const eventDetail = evt.detail;\n  const {\n    element\n  } = eventDetail;\n  const enabledElement = getEnabledElement(element);\n  const {\n    viewport,\n    renderingEngine\n  } = enabledElement;\n  const {\n    annotation,\n    viewportIdsToRender\n  } = this.commonData;\n  const {\n    fusedCanvasPoints,\n    editCanvasPoints\n  } = this.editData;\n  const worldPoints = fusedCanvasPoints.map(canvasPoint => viewport.canvasToWorld(canvasPoint));\n  annotation.data.contour.polyline = worldPoints;\n  annotation.data.contour.closed = false;\n  annotation.data.handles.points = [worldPoints[0], worldPoints[worldPoints.length - 1]];\n  this.triggerAnnotationModified(annotation, enabledElement);\n  const lastEditCanvasPoint = editCanvasPoints.pop();\n  this.editData = {\n    prevCanvasPoints: fusedCanvasPoints,\n    editCanvasPoints: [lastEditCanvasPoint],\n    startCrossingIndex: undefined,\n    editIndex: 0\n  };\n  triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n}\nfunction mouseUpOpenContourEditCallback(evt) {\n  const eventDetail = evt.detail;\n  const {\n    element\n  } = eventDetail;\n  this.completeOpenContourEdit(element);\n}\nfunction completeOpenContourEdit(element) {\n  const enabledElement = getEnabledElement(element);\n  const {\n    viewport,\n    renderingEngine\n  } = enabledElement;\n  const {\n    annotation,\n    viewportIdsToRender\n  } = this.commonData;\n  const {\n    fusedCanvasPoints,\n    prevCanvasPoints\n  } = this.editData;\n  if (fusedCanvasPoints) {\n    const updatedPoints = shouldInterpolate(this.configuration) ? getInterpolatedPoints(this.configuration, fusedCanvasPoints, prevCanvasPoints) : fusedCanvasPoints;\n    const worldPoints = updatedPoints.map(canvasPoint => viewport.canvasToWorld(canvasPoint));\n    annotation.data.contour.polyline = worldPoints;\n    annotation.data.contour.closed = false;\n    annotation.data.handles.points = [worldPoints[0], worldPoints[worldPoints.length - 1]];\n    if (annotation.data.isOpenUShapeContour) {\n      annotation.data.openUShapeContourVectorToPeak = findOpenUShapedContourVectorToPeak(fusedCanvasPoints, viewport);\n    }\n    annotation.invalidated = true;\n    this.triggerAnnotationModified(annotation, enabledElement);\n  }\n  this.isEditingOpen = false;\n  this.editData = undefined;\n  this.commonData = undefined;\n  triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n  this.deactivateOpenContourEdit(element);\n}\nfunction cancelOpenContourEdit(element) {\n  this.completeOpenContourEdit(element);\n}\nfunction registerOpenContourEditLoop(toolInstance) {\n  toolInstance.activateOpenContourEdit = activateOpenContourEdit.bind(toolInstance);\n  toolInstance.deactivateOpenContourEdit = deactivateOpenContourEdit.bind(toolInstance);\n  toolInstance.mouseDragOpenContourEditCallback = mouseDragOpenContourEditCallback.bind(toolInstance);\n  toolInstance.mouseUpOpenContourEditCallback = mouseUpOpenContourEditCallback.bind(toolInstance);\n  toolInstance.fuseEditPointsWithOpenContour = fuseEditPointsWithOpenContour.bind(toolInstance);\n  toolInstance.finishEditOpenOnSecondCrossing = finishEditOpenOnSecondCrossing.bind(toolInstance);\n  toolInstance.checkIfShouldOverwriteAnEnd = checkIfShouldOverwriteAnEnd.bind(toolInstance);\n  toolInstance.fuseEditPointsForOpenContourEndEdit = fuseEditPointsForOpenContourEndEdit.bind(toolInstance);\n  toolInstance.openContourEditOverwriteEnd = openContourEditOverwriteEnd.bind(toolInstance);\n  toolInstance.cancelOpenContourEdit = cancelOpenContourEdit.bind(toolInstance);\n  toolInstance.completeOpenContourEdit = completeOpenContourEdit.bind(toolInstance);\n}\nexport default registerOpenContourEditLoop;","map":{"version":3,"names":["getEnabledElement","state","Events","resetElementCursor","hideElementCursor","vec3","vec2","polyline","shouldInterpolate","getInterpolatedPoints","triggerAnnotationRenderForViewportIds","findOpenUShapedContourVectorToPeak","addCanvasPointsToArray","getSubPixelSpacingAndXYDirections","activateOpenContourEdit","evt","annotation","viewportIdsToRender","isEditingOpen","eventDetail","detail","currentPoints","element","canvasPos","canvas","enabledElement","viewport","prevCanvasPoints","data","contour","map","worldToCanvas","spacing","xDir","yDir","configuration","subPixelResolution","editData","editCanvasPoints","startCrossingIndex","undefined","editIndex","commonData","movingTextBox","isInteractingWithTool","addEventListener","MOUSE_UP","mouseUpOpenContourEditCallback","MOUSE_DRAG","mouseDragOpenContourEditCallback","MOUSE_CLICK","TOUCH_END","TOUCH_DRAG","TOUCH_TAP","deactivateOpenContourEdit","removeEventListener","worldPos","world","renderingEngine","lastCanvasPoint","length","lastWorldPoint","canvasToWorld","worldPosDiff","create","subtract","xDist","Math","abs","dot","yDist","checkAndRemoveCrossesOnEditLine","numPointsAdded","currentEditIndex","checkForFirstCrossing","snapIndex","findSnapIndex","fusedCanvasPoints","fuseEditPointsWithOpenContour","checkForSecondCrossing","removePointsAfterSecondCrossing","finishEditOpenOnSecondCrossing","checkIfShouldOverwriteAnEnd","openContourEditOverwriteEnd","fuseEditPointsForOpenContourEndEdit","worldPoints","canvasPoint","closed","handles","points","activeHandleIndex","triggerAnnotationModified","activateOpenContourEndEdit","lastPoints","lastCanvasPos","p1","p2","p3","a","b","set","aDotb","magA","sqrt","magB","theta","acos","PI","newCanvasPoints","i","push","distanceBetweenCrossingIndexAndFirstPoint","distance","distanceBetweenCrossingIndexAndLastPoint","augmentedEditCanvasPoints","pop","lowIndex","highIndex","distanceBetweenLowAndFirstPoint","distanceBetweenLowAndLastPoint","distanceBetweenHighAndFirstPoint","distanceBetweenHighAndLastPoint","pointsToRender","inPlaceDistance","reverseDistance","lastEditCanvasPoint","completeOpenContourEdit","updatedPoints","isOpenUShapeContour","openUShapeContourVectorToPeak","invalidated","cancelOpenContourEdit","registerOpenContourEditLoop","toolInstance","bind"],"sources":["../../../../../src/tools/annotation/planarFreehandROITool/openContourEditLoop.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}