{"ast":null,"code":"import { ToolGroupManager } from '../../store';\nimport { ToolModes } from '../../enums';\nconst {\n  Active,\n  Passive,\n  Enabled\n} = ToolModes;\nexport default function filterViewportsWithToolEnabled(viewports, toolName) {\n  const numViewports = viewports.length;\n  const viewportsWithToolEnabled = [];\n  for (let vp = 0; vp < numViewports; vp++) {\n    const viewport = viewports[vp];\n    const toolGroup = ToolGroupManager.getToolGroupForViewport(viewport.id, viewport.renderingEngineId);\n    if (!toolGroup) {\n      continue;\n    }\n    const hasTool = _toolGroupHasActiveEnabledOrPassiveTool(toolGroup, toolName);\n    if (hasTool) {\n      viewportsWithToolEnabled.push(viewport);\n    }\n  }\n  return viewportsWithToolEnabled;\n}\nfunction _toolGroupHasActiveEnabledOrPassiveTool(toolGroup, toolName) {\n  const {\n    toolOptions\n  } = toolGroup;\n  const tool = toolOptions[toolName];\n  if (!tool) {\n    return false;\n  }\n  const toolMode = tool.mode;\n  return toolMode === Active || toolMode === Passive || toolMode === Enabled;\n}","map":{"version":3,"names":["ToolGroupManager","ToolModes","Active","Passive","Enabled","filterViewportsWithToolEnabled","viewports","toolName","numViewports","length","viewportsWithToolEnabled","vp","viewport","toolGroup","getToolGroupForViewport","id","renderingEngineId","hasTool","_toolGroupHasActiveEnabledOrPassiveTool","push","toolOptions","tool","toolMode","mode"],"sources":["../../../../src/utilities/viewportFilters/filterViewportsWithToolEnabled.ts"],"sourcesContent":[null],"mappings":"AAEA,SAASA,gBAAgB,QAAQ,aAAa;AAC9C,SAASC,SAAS,QAAQ,aAAa;AAEvC,MAAM;EAAEC,MAAM;EAAEC,OAAO;EAAEC;AAAO,CAAE,GAAGH,SAAS;AAU9C,eAAc,SAAUI,8BAA8BA,CACpDC,SAAiC,EACjCC,QAAgB;EAEhB,MAAMC,YAAY,GAAGF,SAAS,CAACG,MAAM;EAErC,MAAMC,wBAAwB,GAAG,EAAE;EAEnC,KAAK,IAAIC,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGH,YAAY,EAAEG,EAAE,EAAE,EAAE;IACxC,MAAMC,QAAQ,GAAGN,SAAS,CAACK,EAAE,CAAC;IAE9B,MAAME,SAAS,GAAGb,gBAAgB,CAACc,uBAAuB,CACxDF,QAAQ,CAACG,EAAE,EACXH,QAAQ,CAACI,iBAAiB,CAC3B;IAED,IAAI,CAACH,SAAS,EAAE;MACd;;IAGF,MAAMI,OAAO,GAAGC,uCAAuC,CACrDL,SAAS,EACTN,QAAQ,CACT;IAED,IAAIU,OAAO,EAAE;MACXP,wBAAwB,CAACS,IAAI,CAACP,QAAQ,CAAC;;;EAI3C,OAAOF,wBAAwB;AACjC;AAWA,SAASQ,uCAAuCA,CAC9CL,SAAqB,EACrBN,QAAgB;EAEhB,MAAM;IAAEa;EAAW,CAAE,GAAGP,SAAS;EACjC,MAAMQ,IAAI,GAAGD,WAAW,CAACb,QAAQ,CAAC;EAElC,IAAI,CAACc,IAAI,EAAE;IACT,OAAO,KAAK;;EAGd,MAAMC,QAAQ,GAAGD,IAAI,CAACE,IAAI;EAE1B,OAAOD,QAAQ,KAAKpB,MAAM,IAAIoB,QAAQ,KAAKnB,OAAO,IAAImB,QAAQ,KAAKlB,OAAO;AAC5E"},"metadata":{},"sourceType":"module","externalDependencies":[]}