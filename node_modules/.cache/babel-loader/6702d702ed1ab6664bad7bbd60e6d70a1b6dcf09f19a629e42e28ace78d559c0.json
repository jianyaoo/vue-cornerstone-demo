{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { m as macro } from '../../macros2.js';\nconst {\n  vtkErrorMacro\n} = macro;\n\n// export const SHADER_TYPES = ['Vertex', 'Fragment', 'Geometry', 'Unknown'];\n\n// ----------------------------------------------------------------------------\n// vtkShader methods\n// ----------------------------------------------------------------------------\n\nfunction vtkShader(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkShader');\n  publicAPI.compile = () => {\n    let stype = model.context.VERTEX_SHADER;\n    if (!model.source || !model.source.length || model.shaderType === 'Unknown') {\n      return false;\n    }\n\n    // Ensure we delete the previous shader if necessary.\n    if (model.handle !== 0) {\n      model.context.deleteShader(model.handle);\n      model.handle = 0;\n    }\n    switch (model.shaderType) {\n      // case vtkShader::Geometry:\n      //   type = GL_GEOMETRY_SHADER;\n      //   break;\n      case 'Fragment':\n        stype = model.context.FRAGMENT_SHADER;\n        break;\n      case 'Vertex':\n      default:\n        stype = model.context.VERTEX_SHADER;\n        break;\n    }\n    model.handle = model.context.createShader(stype);\n    model.context.shaderSource(model.handle, model.source);\n    model.context.compileShader(model.handle);\n    const isCompiled = model.context.getShaderParameter(model.handle, model.context.COMPILE_STATUS);\n    if (!isCompiled) {\n      const lastError = model.context.getShaderInfoLog(model.handle);\n      vtkErrorMacro(`Error compiling shader '${model.source}': ${lastError}`);\n      model.context.deleteShader(model.handle);\n      model.handle = 0;\n      return false;\n    }\n\n    // The shader compiled, store its handle and return success.\n    return true;\n  };\n  publicAPI.cleanup = () => {\n    if (model.shaderType === 'Unknown' || model.handle === 0) {\n      return;\n    }\n    model.context.deleteShader(model.handle);\n    model.handle = 0;\n    model.dirty = true;\n  };\n}\n\n// ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\nconst DEFAULT_VALUES = {\n  shaderType: 'Unknown',\n  source: '',\n  error: '',\n  handle: 0,\n  dirty: false,\n  context: null\n};\n\n// ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  let initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues);\n\n  // Build VTK API\n  macro.obj(publicAPI, model);\n  macro.setGet(publicAPI, model, ['shaderType', 'source', 'error', 'handle', 'context']);\n\n  // Object methods\n  vtkShader(publicAPI, model);\n}\n\n// ----------------------------------------------------------------------------\n\nconst newInstance = macro.newInstance(extend, 'vtkShader');\n\n// ----------------------------------------------------------------------------\n\nvar vtkShader$1 = {\n  newInstance,\n  extend\n};\nexport { vtkShader$1 as default, extend, newInstance };","map":{"version":3,"names":["m","macro","vtkErrorMacro","vtkShader","publicAPI","model","classHierarchy","push","compile","stype","context","VERTEX_SHADER","source","length","shaderType","handle","deleteShader","FRAGMENT_SHADER","createShader","shaderSource","compileShader","isCompiled","getShaderParameter","COMPILE_STATUS","lastError","getShaderInfoLog","cleanup","dirty","DEFAULT_VALUES","error","extend","initialValues","arguments","undefined","Object","assign","obj","setGet","newInstance","vtkShader$1","default"],"sources":["/root/vue-cornerstone-demo/node_modules/@kitware/vtk.js/Rendering/OpenGL/Shader.js"],"sourcesContent":["import { m as macro } from '../../macros2.js';\n\nconst {\n  vtkErrorMacro\n} = macro;\n\n// export const SHADER_TYPES = ['Vertex', 'Fragment', 'Geometry', 'Unknown'];\n\n// ----------------------------------------------------------------------------\n// vtkShader methods\n// ----------------------------------------------------------------------------\n\nfunction vtkShader(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkShader');\n  publicAPI.compile = () => {\n    let stype = model.context.VERTEX_SHADER;\n    if (!model.source || !model.source.length || model.shaderType === 'Unknown') {\n      return false;\n    }\n\n    // Ensure we delete the previous shader if necessary.\n    if (model.handle !== 0) {\n      model.context.deleteShader(model.handle);\n      model.handle = 0;\n    }\n    switch (model.shaderType) {\n      // case vtkShader::Geometry:\n      //   type = GL_GEOMETRY_SHADER;\n      //   break;\n      case 'Fragment':\n        stype = model.context.FRAGMENT_SHADER;\n        break;\n      case 'Vertex':\n      default:\n        stype = model.context.VERTEX_SHADER;\n        break;\n    }\n    model.handle = model.context.createShader(stype);\n    model.context.shaderSource(model.handle, model.source);\n    model.context.compileShader(model.handle);\n    const isCompiled = model.context.getShaderParameter(model.handle, model.context.COMPILE_STATUS);\n    if (!isCompiled) {\n      const lastError = model.context.getShaderInfoLog(model.handle);\n      vtkErrorMacro(`Error compiling shader '${model.source}': ${lastError}`);\n      model.context.deleteShader(model.handle);\n      model.handle = 0;\n      return false;\n    }\n\n    // The shader compiled, store its handle and return success.\n    return true;\n  };\n  publicAPI.cleanup = () => {\n    if (model.shaderType === 'Unknown' || model.handle === 0) {\n      return;\n    }\n    model.context.deleteShader(model.handle);\n    model.handle = 0;\n    model.dirty = true;\n  };\n}\n\n// ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\nconst DEFAULT_VALUES = {\n  shaderType: 'Unknown',\n  source: '',\n  error: '',\n  handle: 0,\n  dirty: false,\n  context: null\n};\n\n// ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  let initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues);\n\n  // Build VTK API\n  macro.obj(publicAPI, model);\n  macro.setGet(publicAPI, model, ['shaderType', 'source', 'error', 'handle', 'context']);\n\n  // Object methods\n  vtkShader(publicAPI, model);\n}\n\n// ----------------------------------------------------------------------------\n\nconst newInstance = macro.newInstance(extend, 'vtkShader');\n\n// ----------------------------------------------------------------------------\n\nvar vtkShader$1 = {\n  newInstance,\n  extend\n};\n\nexport { vtkShader$1 as default, extend, newInstance };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}