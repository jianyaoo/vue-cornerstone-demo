{"ast":null,"code":"import { ToolGroupManager } from '../../store';\nimport getActiveToolForKeyboardEvent from '../shared/getActiveToolForKeyboardEvent';\nimport getToolsWithActionsForKeyboardEvent from '../shared/getToolsWithActionsForKeyboardEvents';\nimport ToolModes from '../../enums/ToolModes';\nexport default function keyDown(evt) {\n  const activeTool = getActiveToolForKeyboardEvent(evt);\n  if (activeTool) {\n    const {\n      renderingEngineId,\n      viewportId\n    } = evt.detail;\n    const toolGroup = ToolGroupManager.getToolGroupForViewport(viewportId, renderingEngineId);\n    const toolName = activeTool.getToolName();\n    if (Object.keys(toolGroup.toolOptions).includes(toolName)) {\n      toolGroup.setViewportsCursorByToolName(toolName);\n    }\n  }\n  const activeToolsWithEventBinding = getToolsWithActionsForKeyboardEvent(evt, [ToolModes.Active]);\n  if (activeToolsWithEventBinding?.size) {\n    const {\n      element\n    } = evt.detail;\n    for (const [key, value] of [...activeToolsWithEventBinding.entries()]) {\n      const method = typeof value.method === 'function' ? value.method : key[value.method];\n      method.call(key, element, value);\n    }\n  }\n}","map":{"version":3,"names":["ToolGroupManager","getActiveToolForKeyboardEvent","getToolsWithActionsForKeyboardEvent","ToolModes","keyDown","evt","activeTool","renderingEngineId","viewportId","detail","toolGroup","getToolGroupForViewport","toolName","getToolName","Object","keys","toolOptions","includes","setViewportsCursorByToolName","activeToolsWithEventBinding","Active","size","element","key","value","entries","method","call"],"sources":["../../../../src/eventDispatchers/keyboardEventHandlers/keyDown.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,aAAa;AAC9C,OAAOC,6BAA6B,MAAM,yCAAyC;AACnF,OAAOC,mCAAmC,MAAM,gDAAgD;AAEhG,OAAOC,SAAS,MAAM,uBAAuB;AAO7C,eAAc,SAAUC,OAAOA,CAACC,GAAqB;EAEnD,MAAMC,UAAU,GAAGL,6BAA6B,CAACI,GAAG,CAAC;EAErD,IAAIC,UAAU,EAAE;IACd,MAAM;MAAEC,iBAAiB;MAAEC;IAAU,CAAE,GAAGH,GAAG,CAACI,MAAM;IAEpD,MAAMC,SAAS,GAAGV,gBAAgB,CAACW,uBAAuB,CACxDH,UAAU,EACVD,iBAAiB,CAClB;IAED,MAAMK,QAAQ,GAAGN,UAAU,CAACO,WAAW,EAAE;IACzC,IAAIC,MAAM,CAACC,IAAI,CAACL,SAAS,CAACM,WAAW,CAAC,CAACC,QAAQ,CAACL,QAAQ,CAAC,EAAE;MACzDF,SAAS,CAACQ,4BAA4B,CAACN,QAAQ,CAAC;;;EAIpD,MAAMO,2BAA2B,GAAGjB,mCAAmC,CAACG,GAAG,EAAE,CAC3EF,SAAS,CAACiB,MAAM,CACjB,CAAC;EAEF,IAAID,2BAA2B,EAAEE,IAAI,EAAE;IACrC,MAAM;MAAEC;IAAO,CAAE,GAAGjB,GAAG,CAACI,MAAM;IAC9B,KAAK,MAAM,CAACc,GAAG,EAAEC,KAAK,CAAC,IAAI,CAAC,GAAGL,2BAA2B,CAACM,OAAO,EAAE,CAAC,EAAE;MAKrE,MAAMC,MAAM,GACV,OAAOF,KAAK,CAACE,MAAM,KAAK,UAAU,GAAGF,KAAK,CAACE,MAAM,GAAGH,GAAG,CAACC,KAAK,CAACE,MAAM,CAAC;MACvEA,MAAM,CAACC,IAAI,CAACJ,GAAG,EAAED,OAAO,EAAEE,KAAK,CAAC;;;AAGtC"},"metadata":{},"sourceType":"module","externalDependencies":[]}