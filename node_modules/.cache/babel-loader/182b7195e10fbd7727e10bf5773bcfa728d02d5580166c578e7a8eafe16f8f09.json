{"ast":null,"code":"import { interpolateBasis as d3InterpolateBasis, quantize as d3Quantize } from 'd3-interpolate';\nimport { zip as d3Zip } from 'd3-array';\nfunction isPoints3D(points) {\n  return points[0]?.length === 3;\n}\nexport function interpolatePoints(originalPoints, knotsIndexes) {\n  if (!knotsIndexes || knotsIndexes.length === 0 || knotsIndexes.length === originalPoints.length) {\n    return originalPoints;\n  }\n  const n = knotsIndexes[knotsIndexes.length - 1] - knotsIndexes[0] + 1;\n  const xInterpolator = d3InterpolateBasis(knotsIndexes.map(k => originalPoints[k][0]));\n  const yInterpolator = d3InterpolateBasis(knotsIndexes.map(k => originalPoints[k][1]));\n  if (isPoints3D(originalPoints)) {\n    const zInterpolator = d3InterpolateBasis(knotsIndexes.map(k => originalPoints[k][2]));\n    return d3Zip(d3Quantize(xInterpolator, n), d3Quantize(yInterpolator, n), d3Quantize(zInterpolator, n));\n  } else {\n    return d3Zip(d3Quantize(xInterpolator, n), d3Quantize(yInterpolator, n));\n  }\n}","map":{"version":3,"names":["interpolateBasis","d3InterpolateBasis","quantize","d3Quantize","zip","d3Zip","isPoints3D","points","length","interpolatePoints","originalPoints","knotsIndexes","n","xInterpolator","map","k","yInterpolator","zInterpolator"],"sources":["../../../../../../src/utilities/planarFreehandROITool/interpolation/algorithms/bspline.ts"],"sourcesContent":[null],"mappings":"AAAA,SACEA,gBAAgB,IAAIC,kBAAkB,EACtCC,QAAQ,IAAIC,UAAU,QACjB,gBAAgB;AACvB,SAASC,GAAG,IAAIC,KAAK,QAAQ,UAAU;AAGvC,SAASC,UAAUA,CACjBC,MAAuC;EAEvC,OAAQA,MAAyB,CAAC,CAAC,CAAC,EAAEC,MAAM,KAAK,CAAC;AACpD;AAOA,OAAM,SAAUC,iBAAiBA,CAC/BC,cAA+C,EAC/CC,YAAsB;EAEtB,IACE,CAACA,YAAY,IACbA,YAAY,CAACH,MAAM,KAAK,CAAC,IACzBG,YAAY,CAACH,MAAM,KAAKE,cAAc,CAACF,MAAM,EAC7C;IACA,OAAOE,cAAc;;EAGvB,MAAME,CAAC,GAAGD,YAAY,CAACA,YAAY,CAACH,MAAM,GAAG,CAAC,CAAC,GAAGG,YAAY,CAAC,CAAC,CAAC,GAAG,CAAC;EACrE,MAAME,aAAa,GAAGZ,kBAAkB,CACtCU,YAAY,CAACG,GAAG,CAAEC,CAAC,IAAKL,cAAc,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAC9C;EACD,MAAMC,aAAa,GAAGf,kBAAkB,CACtCU,YAAY,CAACG,GAAG,CAAEC,CAAC,IAAKL,cAAc,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAC9C;EAED,IAAIT,UAAU,CAACI,cAAc,CAAC,EAAE;IAC9B,MAAMO,aAAa,GAAGhB,kBAAkB,CACtCU,YAAY,CAACG,GAAG,CAAEC,CAAC,IAAKL,cAAc,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAC9C;IACD,OACEV,KAAK,CACHF,UAAU,CAACU,aAAa,EAAED,CAAC,CAAC,EAC5BT,UAAU,CAACa,aAAa,EAAEJ,CAAC,CAAC,EAC5BT,UAAU,CAACc,aAAa,EAAEL,CAAC,CAAC,CAC7B;GAEJ,MAAM;IACL,OACEP,KAAK,CAACF,UAAU,CAACU,aAAa,EAAED,CAAC,CAAC,EAAET,UAAU,CAACa,aAAa,EAAEJ,CAAC,CAAC,CAAC;;AAGvE"},"metadata":{},"sourceType":"module","externalDependencies":[]}