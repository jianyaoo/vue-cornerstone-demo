{"ast":null,"code":"import now from './rendering/now';\nimport { renderColorImage } from './rendering/renderColorImage';\nimport { renderGrayscaleImage } from './rendering/renderGrayscaleImage';\nimport { renderPseudoColorImage } from './rendering/renderPseudoColorImage';\nexport default function (enabledElement, invalidated) {\n  const image = enabledElement.image;\n  if (!enabledElement.canvas || !enabledElement.image) {\n    return;\n  }\n  const start = now();\n  image.stats = {\n    lastGetPixelDataTime: -1.0,\n    lastStoredPixelDataToCanvasImageDataTime: -1.0,\n    lastPutImageDataTime: -1.0,\n    lastRenderTime: -1.0,\n    lastLutGenerateTime: -1.0\n  };\n  if (image) {\n    let render = image.render;\n    if (!render) {\n      if (enabledElement.viewport.colormap) {\n        render = renderPseudoColorImage;\n      } else if (image.color) {\n        render = renderColorImage;\n      } else {\n        render = renderGrayscaleImage;\n      }\n    }\n    render(enabledElement, invalidated);\n  }\n  const renderTimeInMs = now() - start;\n  image.stats.lastRenderTime = renderTimeInMs;\n  enabledElement.invalid = false;\n  enabledElement.needsRedraw = false;\n}","map":{"version":3,"names":["now","renderColorImage","renderGrayscaleImage","renderPseudoColorImage","enabledElement","invalidated","image","canvas","start","stats","lastGetPixelDataTime","lastStoredPixelDataToCanvasImageDataTime","lastPutImageDataTime","lastRenderTime","lastLutGenerateTime","render","viewport","colormap","color","renderTimeInMs","invalid","needsRedraw"],"sources":["../../../../../src/RenderingEngine/helpers/cpuFallback/drawImageSync.ts"],"sourcesContent":[null],"mappings":"AAAA,OAAOA,GAAG,MAAM,iBAAiB;AACjC,SAASC,gBAAgB,QAAQ,8BAA8B;AAC/D,SAASC,oBAAoB,QAAQ,kCAAkC;AACvE,SAASC,sBAAsB,QAAQ,oCAAoC;AAS3E,eAAc,UACZC,cAAyC,EACzCC,WAAoB;EAEpB,MAAMC,KAAK,GAAGF,cAAc,CAACE,KAAK;EAGlC,IAAI,CAACF,cAAc,CAACG,MAAM,IAAI,CAACH,cAAc,CAACE,KAAK,EAAE;IACnD;;EAIF,MAAME,KAAK,GAAGR,GAAG,EAAE;EAEnBM,KAAK,CAACG,KAAK,GAAG;IACZC,oBAAoB,EAAE,CAAC,GAAG;IAC1BC,wCAAwC,EAAE,CAAC,GAAG;IAC9CC,oBAAoB,EAAE,CAAC,GAAG;IAC1BC,cAAc,EAAE,CAAC,GAAG;IACpBC,mBAAmB,EAAE,CAAC;GACvB;EAED,IAAIR,KAAK,EAAE;IACT,IAAIS,MAAM,GAAGT,KAAK,CAACS,MAAM;IAEzB,IAAI,CAACA,MAAM,EAAE;MACX,IAAIX,cAAc,CAACY,QAAQ,CAACC,QAAQ,EAAE;QACpCF,MAAM,GAAGZ,sBAAsB;OAChC,MAAM,IAAIG,KAAK,CAACY,KAAK,EAAE;QACtBH,MAAM,GAAGd,gBAAgB;OAC1B,MAAM;QACLc,MAAM,GAAGb,oBAAoB;;;IAIjCa,MAAM,CAACX,cAAc,EAAEC,WAAW,CAAC;;EAIrC,MAAMc,cAAc,GAAGnB,GAAG,EAAE,GAAGQ,KAAK;EAEpCF,KAAK,CAACG,KAAK,CAACI,cAAc,GAAGM,cAAc;EAE3Cf,cAAc,CAACgB,OAAO,GAAG,KAAK;EAC9BhB,cAAc,CAACiB,WAAW,GAAG,KAAK;AACpC"},"metadata":{},"sourceType":"module","externalDependencies":[]}