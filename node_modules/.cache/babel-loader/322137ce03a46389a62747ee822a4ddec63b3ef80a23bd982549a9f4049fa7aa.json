{"ast":null,"code":"import pointInShapeCallback from '../../../../utilities/pointInShapeCallback';\nimport StrategyCallbacks from '../../../../enums/StrategyCallbacks';\nexport default {\n  [StrategyCallbacks.Fill]: operationData => {\n    const {\n      segmentsLocked,\n      segmentationImageData,\n      segmentationVoxelManager: segmentationVoxelManager,\n      previewVoxelManager: previewVoxelManager,\n      imageVoxelManager: imageVoxelManager,\n      brushStrategy,\n      centerIJK\n    } = operationData;\n    const isWithinThreshold = brushStrategy.createIsInThreshold?.(operationData);\n    const {\n      setValue\n    } = brushStrategy;\n    const callback = isWithinThreshold ? data => {\n      const {\n        value,\n        index\n      } = data;\n      if (segmentsLocked.includes(value) || !isWithinThreshold(index)) {\n        return;\n      }\n      setValue(operationData, data);\n    } : data => setValue(operationData, data);\n    pointInShapeCallback(segmentationImageData, imageVoxelManager.isInObject, callback, segmentationVoxelManager.boundsIJK);\n    previewVoxelManager.addPoint(centerIJK);\n  }\n};","map":{"version":3,"names":["pointInShapeCallback","StrategyCallbacks","Fill","operationData","segmentsLocked","segmentationImageData","segmentationVoxelManager","previewVoxelManager","imageVoxelManager","brushStrategy","centerIJK","isWithinThreshold","createIsInThreshold","setValue","callback","data","value","index","includes","isInObject","boundsIJK","addPoint"],"sources":["../../../../../../src/tools/segmentation/strategies/compositions/regionFill.ts"],"sourcesContent":[null],"mappings":"AACA,OAAOA,oBAAoB,MAAM,4CAA4C;AAC7E,OAAOC,iBAAiB,MAAM,qCAAqC;AAQnE,eAAe;EACb,CAACA,iBAAiB,CAACC,IAAI,GAAIC,aAAuC,IAAI;IACpE,MAAM;MACJC,cAAc;MACdC,qBAAqB;MACrBC,wBAAwB,EAAEA,wBAAwB;MAClDC,mBAAmB,EAAEA,mBAAmB;MACxCC,iBAAiB,EAAEA,iBAAiB;MACpCC,aAAa;MACbC;IAAS,CACV,GAAGP,aAAa;IACjB,MAAMQ,iBAAiB,GACrBF,aAAa,CAACG,mBAAmB,GAAGT,aAAa,CAAC;IACpD,MAAM;MAAEU;IAAQ,CAAE,GAAGJ,aAAa;IAElC,MAAMK,QAAQ,GAAGH,iBAAiB,GAC7BI,IAAI,IAAI;MACP,MAAM;QAAEC,KAAK;QAAEC;MAAK,CAAE,GAAGF,IAAI;MAC7B,IAAIX,cAAc,CAACc,QAAQ,CAACF,KAAK,CAAC,IAAI,CAACL,iBAAiB,CAACM,KAAK,CAAC,EAAE;QAC/D;;MAEFJ,QAAQ,CAACV,aAAa,EAAEY,IAAI,CAAC;IAC/B,CAAC,GACAA,IAAI,IAAKF,QAAQ,CAACV,aAAa,EAAEY,IAAI,CAAC;IAE3Cf,oBAAoB,CAClBK,qBAAgC,EAChCG,iBAAiB,CAACW,UAAU,EAC5BL,QAAQ,EACRR,wBAAwB,CAACc,SAAS,CACnC;IAEDb,mBAAmB,CAACc,QAAQ,CAACX,SAAS,CAAC;EACzC;CACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}