{"ast":null,"code":"import { vec3 } from 'gl-matrix';\nexport default function getWorldWidthAndHeightFromCorners(viewPlaneNormal, viewUp, topLeftWorld, bottomRightWorld) {\n  const viewRight = vec3.create();\n  vec3.cross(viewRight, viewUp, viewPlaneNormal);\n  const pos1 = vec3.fromValues(...topLeftWorld);\n  const pos2 = vec3.fromValues(...bottomRightWorld);\n  const diagonal = vec3.create();\n  vec3.subtract(diagonal, pos1, pos2);\n  const diagonalLength = vec3.length(diagonal);\n  if (diagonalLength < 0.0001) {\n    return {\n      worldWidth: 0,\n      worldHeight: 0\n    };\n  }\n  const cosTheta = vec3.dot(diagonal, viewRight) / (diagonalLength * vec3.length(viewRight));\n  const sinTheta = Math.sqrt(1 - cosTheta * cosTheta);\n  const worldWidth = sinTheta * diagonalLength;\n  const worldHeight = cosTheta * diagonalLength;\n  return {\n    worldWidth,\n    worldHeight\n  };\n}","map":{"version":3,"names":["vec3","getWorldWidthAndHeightFromCorners","viewPlaneNormal","viewUp","topLeftWorld","bottomRightWorld","viewRight","create","cross","pos1","fromValues","pos2","diagonal","subtract","diagonalLength","length","worldWidth","worldHeight","cosTheta","dot","sinTheta","Math","sqrt"],"sources":["../../../../src/utilities/planar/getWorldWidthAndHeightFromCorners.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,IAAI,QAAQ,WAAW;AAiBhC,eAAc,SAAUC,iCAAiCA,CACvDC,eAA6B,EAC7BC,MAAoB,EACpBC,YAA0B,EAC1BC,gBAA8B;EAE9B,MAAMC,SAAS,GAAGN,IAAI,CAACO,MAAM,EAAE;EAE/BP,IAAI,CAACQ,KAAK,CAACF,SAAS,EAAQH,MAAM,EAAQD,eAAe,CAAC;EAE1D,MAAMO,IAAI,GAAGT,IAAI,CAACU,UAAU,CAAC,GAAGN,YAAY,CAAC;EAC7C,MAAMO,IAAI,GAAGX,IAAI,CAACU,UAAU,CAAC,GAAGL,gBAAgB,CAAC;EAEjD,MAAMO,QAAQ,GAAGZ,IAAI,CAACO,MAAM,EAAE;EAC9BP,IAAI,CAACa,QAAQ,CAACD,QAAQ,EAAEH,IAAI,EAAEE,IAAI,CAAC;EAEnC,MAAMG,cAAc,GAAGd,IAAI,CAACe,MAAM,CAACH,QAAQ,CAAC;EAI5C,IAAIE,cAAc,GAAG,MAAM,EAAE;IAC3B,OAAO;MAAEE,UAAU,EAAE,CAAC;MAAEC,WAAW,EAAE;IAAC,CAAE;;EAG1C,MAAMC,QAAQ,GACZlB,IAAI,CAACmB,GAAG,CAACP,QAAQ,EAAEN,SAAS,CAAC,IAAIQ,cAAc,GAAGd,IAAI,CAACe,MAAM,CAACT,SAAS,CAAC,CAAC;EAE3E,MAAMc,QAAQ,GAAGC,IAAI,CAACC,IAAI,CAAC,CAAC,GAAGJ,QAAQ,GAAGA,QAAQ,CAAC;EAEnD,MAAMF,UAAU,GAAGI,QAAQ,GAAGN,cAAc;EAC5C,MAAMG,WAAW,GAAGC,QAAQ,GAAGJ,cAAc;EAE7C,OAAO;IAAEE,UAAU;IAAEC;EAAW,CAAE;AACpC"},"metadata":{},"sourceType":"module","externalDependencies":[]}