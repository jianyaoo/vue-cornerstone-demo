{"ast":null,"code":"var _class;\nimport RectangleROIStartEndThreshold from './RectangleROIStartEndThreshold';\nfunction validateAnnotation(annotation) {\n  if (!annotation?.data) {\n    throw new Error('Tool data is empty');\n  }\n  if (!annotation.metadata || annotation.metadata.referenceImageId) {\n    throw new Error('Tool data is not associated with any imageId');\n  }\n}\nclass AnnotationToPointData {\n  constructor() {}\n  static convert(annotation, index, metadataProvider) {\n    validateAnnotation(annotation);\n    const {\n      toolName\n    } = annotation.metadata;\n    const toolClass = AnnotationToPointData.TOOL_NAMES[toolName];\n    if (!toolClass) {\n      throw new Error(`Unknown tool type: ${toolName}, cannot convert to RTSSReport`);\n    }\n    const ContourSequence = toolClass.getContourSequence(annotation, metadataProvider);\n    const color = [Math.floor(Math.random() * 255), Math.floor(Math.random() * 255), Math.floor(Math.random() * 255)];\n    return {\n      ReferencedROINumber: index + 1,\n      ROIDisplayColor: color,\n      ContourSequence\n    };\n  }\n  static register(toolClass) {\n    AnnotationToPointData.TOOL_NAMES[toolClass.toolName] = toolClass;\n  }\n}\n_class = AnnotationToPointData;\n_class.TOOL_NAMES = {};\nAnnotationToPointData.register(RectangleROIStartEndThreshold);\nexport default AnnotationToPointData;","map":{"version":3,"names":["RectangleROIStartEndThreshold","validateAnnotation","annotation","data","Error","metadata","referenceImageId","AnnotationToPointData","constructor","convert","index","metadataProvider","toolName","toolClass","TOOL_NAMES","ContourSequence","getContourSequence","color","Math","floor","random","ReferencedROINumber","ROIDisplayColor","register","_class"],"sources":["../../../../src/utilities/contours/AnnotationToPointData.ts"],"sourcesContent":[null],"mappings":";AAAA,OAAOA,6BAA6B,MAAM,iCAAiC;AAE3E,SAASC,kBAAkBA,CAACC,UAAU;EACpC,IAAI,CAACA,UAAU,EAAEC,IAAI,EAAE;IACrB,MAAM,IAAIC,KAAK,CAAC,oBAAoB,CAAC;;EAGvC,IAAI,CAACF,UAAU,CAACG,QAAQ,IAAIH,UAAU,CAACG,QAAQ,CAACC,gBAAgB,EAAE;IAChE,MAAM,IAAIF,KAAK,CAAC,8CAA8C,CAAC;;AAEnE;AAEA,MAAMG,qBAAqB;EAGzBC,YAAA,GAEA;EAEA,OAAOC,OAAOA,CAACP,UAAU,EAAEQ,KAAK,EAAEC,gBAAgB;IAChDV,kBAAkB,CAACC,UAAU,CAAC;IAE9B,MAAM;MAAEU;IAAQ,CAAE,GAAGV,UAAU,CAACG,QAAQ;IACxC,MAAMQ,SAAS,GAAGN,qBAAqB,CAACO,UAAU,CAACF,QAAQ,CAAC;IAE5D,IAAI,CAACC,SAAS,EAAE;MACd,MAAM,IAAIT,KAAK,CACb,sBAAsBQ,QAAQ,gCAAgC,CAC/D;;IAMH,MAAMG,eAAe,GAAGF,SAAS,CAACG,kBAAkB,CAClDd,UAAU,EACVS,gBAAgB,CACjB;IAGD,MAAMM,KAAK,GAAG,CACZC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,GAAG,GAAG,CAAC,EAC/BF,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,GAAG,GAAG,CAAC,EAC/BF,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,GAAG,GAAG,CAAC,CAChC;IAED,OAAO;MACLC,mBAAmB,EAAEX,KAAK,GAAG,CAAC;MAC9BY,eAAe,EAAEL,KAAK;MACtBF;KACD;EACH;EAEA,OAAOQ,QAAQA,CAACV,SAAS;IACvBN,qBAAqB,CAACO,UAAU,CAACD,SAAS,CAACD,QAAQ,CAAC,GAAGC,SAAS;EAClE;;SA3CIN,qBAAqB;AAClBiB,MAAA,CAAAV,UAAU,GAAwB,EAAE;AA6C7CP,qBAAqB,CAACgB,QAAQ,CAACvB,6BAA6B,CAAC;AAE7D,eAAeO,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}