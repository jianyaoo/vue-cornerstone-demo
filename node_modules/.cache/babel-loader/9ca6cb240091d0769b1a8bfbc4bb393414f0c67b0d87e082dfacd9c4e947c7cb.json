{"ast":null,"code":"import { get as metaDataGet } from '../metaData';\nexport default function getScalingParameters(imageId) {\n  const modalityLutModule = metaDataGet('modalityLutModule', imageId) || {};\n  const generalSeriesModule = metaDataGet('generalSeriesModule', imageId) || {};\n  const {\n    modality\n  } = generalSeriesModule;\n  const scalingParameters = {\n    rescaleSlope: modalityLutModule.rescaleSlope,\n    rescaleIntercept: modalityLutModule.rescaleIntercept,\n    modality\n  };\n  const suvFactor = metaDataGet('scalingModule', imageId) || {};\n  return {\n    ...scalingParameters,\n    ...(modality === 'PT' && {\n      suvbw: suvFactor.suvbw,\n      suvbsa: suvFactor.suvbsa,\n      suvlbm: suvFactor.suvlbm\n    })\n  };\n}","map":{"version":3,"names":["get","metaDataGet","getScalingParameters","imageId","modalityLutModule","generalSeriesModule","modality","scalingParameters","rescaleSlope","rescaleIntercept","suvFactor","suvbw","suvbsa","suvlbm"],"sources":["../../../src/utilities/getScalingParameters.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,GAAG,IAAIC,WAAW,QAAQ,aAAa;AAUhD,eAAc,SAAUC,oBAAoBA,CAC1CC,OAAe;EAEf,MAAMC,iBAAiB,GAAGH,WAAW,CAAC,mBAAmB,EAAEE,OAAO,CAAC,IAAI,EAAE;EACzE,MAAME,mBAAmB,GAAGJ,WAAW,CAAC,qBAAqB,EAAEE,OAAO,CAAC,IAAI,EAAE;EAE7E,MAAM;IAAEG;EAAQ,CAAE,GAAGD,mBAAmB;EAExC,MAAME,iBAAiB,GAAG;IACxBC,YAAY,EAAEJ,iBAAiB,CAACI,YAAY;IAC5CC,gBAAgB,EAAEL,iBAAiB,CAACK,gBAAgB;IACpDH;GACD;EAED,MAAMI,SAAS,GAAGT,WAAW,CAAC,eAAe,EAAEE,OAAO,CAAC,IAAI,EAAE;EAE7D,OAAO;IACL,GAAGI,iBAAiB;IACpB,IAAID,QAAQ,KAAK,IAAI,IAAI;MACvBK,KAAK,EAAED,SAAS,CAACC,KAAK;MACtBC,MAAM,EAAEF,SAAS,CAACE,MAAM;MACxBC,MAAM,EAAEH,SAAS,CAACG;KACnB;GACF;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}