{"ast":null,"code":"import { generateContourSetsFromLabelmap } from '../contours';\nimport SegmentationRepresentations from '../../enums/SegmentationRepresentations';\nimport findLargestBidirectional from './findLargestBidirectional';\nconst EPSILON = 1e-2;\nconst {\n  Labelmap\n} = SegmentationRepresentations;\nexport default function contourAndFindLargestBidirectional(segmentation) {\n  const contours = generateContourSetsFromLabelmap({\n    segmentations: segmentation\n  });\n  if (!contours?.length || !contours[0].sliceContours.length) {\n    return;\n  }\n  const {\n    representationData,\n    segments = [null, {\n      label: 'Unspecified',\n      color: null,\n      containedSegmentIndices: null\n    }]\n  } = segmentation;\n  const {\n    volumeId: segVolumeId\n  } = representationData[Labelmap];\n  const segmentIndex = segments.findIndex(it => !!it);\n  if (segmentIndex === -1) {\n    return;\n  }\n  segments[segmentIndex].segmentIndex = segmentIndex;\n  return findLargestBidirectional(contours[0], segVolumeId, segments[segmentIndex]);\n}","map":{"version":3,"names":["generateContourSetsFromLabelmap","SegmentationRepresentations","findLargestBidirectional","EPSILON","Labelmap","contourAndFindLargestBidirectional","segmentation","contours","segmentations","length","sliceContours","representationData","segments","label","color","containedSegmentIndices","volumeId","segVolumeId","segmentIndex","findIndex","it"],"sources":["../../../../src/utilities/segmentation/contourAndFindLargestBidirectional.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,+BAA+B,QAAQ,aAAa;AAC7D,OAAOC,2BAA2B,MAAM,yCAAyC;AACjF,OAAOC,wBAAwB,MAAM,4BAA4B;AAEjE,MAAMC,OAAO,GAAG,IAAI;AACpB,MAAM;EAAEC;AAAQ,CAAE,GAAGH,2BAA2B;AAYhD,eAAc,SAAUI,kCAAkCA,CAACC,YAAY;EACrE,MAAMC,QAAQ,GAAGP,+BAA+B,CAAC;IAC/CQ,aAAa,EAAEF;GAChB,CAAC;EAEF,IAAI,CAACC,QAAQ,EAAEE,MAAM,IAAI,CAACF,QAAQ,CAAC,CAAC,CAAC,CAACG,aAAa,CAACD,MAAM,EAAE;IAC1D;;EAGF,MAAM;IACJE,kBAAkB;IAClBC,QAAQ,GAAG,CACT,IAAI,EACJ;MAAEC,KAAK,EAAE,aAAa;MAAEC,KAAK,EAAE,IAAI;MAAEC,uBAAuB,EAAE;IAAI,CAAE;EACrE,CACF,GAAGT,YAAY;EAChB,MAAM;IAAEU,QAAQ,EAAEC;EAAW,CAAE,GAAGN,kBAAkB,CAACP,QAAQ,CAAC;EAE9D,MAAMc,YAAY,GAAGN,QAAQ,CAACO,SAAS,CAAEC,EAAE,IAAK,CAAC,CAACA,EAAE,CAAC;EACrD,IAAIF,YAAY,KAAK,CAAC,CAAC,EAAE;IACvB;;EAEFN,QAAQ,CAACM,YAAY,CAAC,CAACA,YAAY,GAAGA,YAAY;EAClD,OAAOhB,wBAAwB,CAC7BK,QAAQ,CAAC,CAAC,CAAC,EACXU,WAAW,EACXL,QAAQ,CAACM,YAAY,CAAC,CACvB;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}