{"ast":null,"code":"import { vec2 } from 'gl-matrix';\nconst pointCanProjectOnLine = (p, p1, p2, proximity) => {\n  const p1p = [p[0] - p1[0], p[1] - p1[1]];\n  const p1p2 = [p2[0] - p1[0], p2[1] - p1[1]];\n  const dot = p1p[0] * p1p2[0] + p1p[1] * p1p2[1];\n  if (dot < 0) {\n    return false;\n  }\n  const p1p2Mag = Math.sqrt(p1p2[0] * p1p2[0] + p1p2[1] * p1p2[1]);\n  if (p1p2Mag === 0) {\n    return false;\n  }\n  const projectionVectorMag = dot / p1p2Mag;\n  const p1p2UnitVector = [p1p2[0] / p1p2Mag, p1p2[1] / p1p2Mag];\n  const projectionVector = [p1p2UnitVector[0] * projectionVectorMag, p1p2UnitVector[1] * projectionVectorMag];\n  const projectionPoint = [p1[0] + projectionVector[0], p1[1] + projectionVector[1]];\n  const distance = vec2.distance(p, projectionPoint);\n  if (distance > proximity) {\n    return false;\n  }\n  if (vec2.distance(p1, projectionPoint) > vec2.distance(p1, p2)) {\n    return false;\n  }\n  return true;\n};\nexport default pointCanProjectOnLine;","map":{"version":3,"names":["vec2","pointCanProjectOnLine","p","p1","p2","proximity","p1p","p1p2","dot","p1p2Mag","Math","sqrt","projectionVectorMag","p1p2UnitVector","projectionVector","projectionPoint","distance"],"sources":["../../../../../src/utilities/math/polyline/pointCanProjectOnLine.ts"],"sourcesContent":[null],"mappings":"AACA,SAASA,IAAI,QAAQ,WAAW;AAMhC,MAAMC,qBAAqB,GAAGA,CAC5BC,CAAe,EACfC,EAAgB,EAChBC,EAAgB,EAChBC,SAAiB,KACN;EAEX,MAAMC,GAAG,GAAG,CAACJ,CAAC,CAAC,CAAC,CAAC,GAAGC,EAAE,CAAC,CAAC,CAAC,EAAED,CAAC,CAAC,CAAC,CAAC,GAAGC,EAAE,CAAC,CAAC,CAAC,CAAC;EACxC,MAAMI,IAAI,GAAG,CAACH,EAAE,CAAC,CAAC,CAAC,GAAGD,EAAE,CAAC,CAAC,CAAC,EAAEC,EAAE,CAAC,CAAC,CAAC,GAAGD,EAAE,CAAC,CAAC,CAAC,CAAC;EAE3C,MAAMK,GAAG,GAAGF,GAAG,CAAC,CAAC,CAAC,GAAGC,IAAI,CAAC,CAAC,CAAC,GAAGD,GAAG,CAAC,CAAC,CAAC,GAAGC,IAAI,CAAC,CAAC,CAAC;EAG/C,IAAIC,GAAG,GAAG,CAAC,EAAE;IACX,OAAO,KAAK;;EAGd,MAAMC,OAAO,GAAGC,IAAI,CAACC,IAAI,CAACJ,IAAI,CAAC,CAAC,CAAC,GAAGA,IAAI,CAAC,CAAC,CAAC,GAAGA,IAAI,CAAC,CAAC,CAAC,GAAGA,IAAI,CAAC,CAAC,CAAC,CAAC;EAEhE,IAAIE,OAAO,KAAK,CAAC,EAAE;IACjB,OAAO,KAAK;;EAGd,MAAMG,mBAAmB,GAAGJ,GAAG,GAAGC,OAAO;EACzC,MAAMI,cAAc,GAAG,CAACN,IAAI,CAAC,CAAC,CAAC,GAAGE,OAAO,EAAEF,IAAI,CAAC,CAAC,CAAC,GAAGE,OAAO,CAAC;EAC7D,MAAMK,gBAAgB,GAAG,CACvBD,cAAc,CAAC,CAAC,CAAC,GAAGD,mBAAmB,EACvCC,cAAc,CAAC,CAAC,CAAC,GAAGD,mBAAmB,CACxC;EACD,MAAMG,eAAe,GAAiB,CACpCZ,EAAE,CAAC,CAAC,CAAC,GAAGW,gBAAgB,CAAC,CAAC,CAAC,EAC3BX,EAAE,CAAC,CAAC,CAAC,GAAGW,gBAAgB,CAAC,CAAC,CAAC,CAC5B;EAED,MAAME,QAAQ,GAAGhB,IAAI,CAACgB,QAAQ,CAACd,CAAC,EAAEa,eAAe,CAAC;EAElD,IAAIC,QAAQ,GAAGX,SAAS,EAAE;IAExB,OAAO,KAAK;;EAId,IAAIL,IAAI,CAACgB,QAAQ,CAACb,EAAE,EAAEY,eAAe,CAAC,GAAGf,IAAI,CAACgB,QAAQ,CAACb,EAAE,EAAEC,EAAE,CAAC,EAAE;IAC9D,OAAO,KAAK;;EAGd,OAAO,IAAI;AACb,CAAC;AAED,eAAeH,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}