{"ast":null,"code":"import { BaseTool } from './base';\nimport { Events } from '../enums';\nimport { getEnabledElement, StackViewport } from '@cornerstonejs/core';\nimport { getViewportIdsWithToolToRender } from '../utilities/viewportFilters';\nimport triggerAnnotationRenderForViewportIds from '../utilities/triggerAnnotationRenderForViewportIds';\nimport { state } from '../store';\nimport { Enums } from '@cornerstonejs/core';\nimport { hideElementCursor, resetElementCursor } from '../cursors/elementCursor';\nconst MAGNIFY_VIEWPORT_ID = 'magnify-viewport';\nclass MagnifyTool extends BaseTool {\n  constructor(toolProps = {}, defaultToolProps = {\n    supportedInteractionTypes: ['Mouse', 'Touch'],\n    configuration: {\n      magnifySize: 10,\n      magnifyWidth: 250,\n      magnifyHeight: 250\n    }\n  }) {\n    super(toolProps, defaultToolProps);\n    this.preMouseDownCallback = evt => {\n      const eventDetail = evt.detail;\n      const {\n        element,\n        currentPoints\n      } = eventDetail;\n      const enabledElement = getEnabledElement(element);\n      const {\n        viewport,\n        renderingEngine\n      } = enabledElement;\n      if (!(viewport instanceof StackViewport)) {\n        throw new Error('MagnifyTool only works on StackViewports');\n      }\n      const referencedImageId = this._getReferencedImageId(viewport);\n      if (!referencedImageId) {\n        throw new Error('MagnifyTool: No referenced image id found, reconstructed planes not supported yet');\n      }\n      const viewportIdsToRender = getViewportIdsWithToolToRender(element, this.getToolName());\n      this.editData = {\n        referencedImageId,\n        viewportIdsToRender,\n        enabledElement,\n        renderingEngine,\n        currentPoints\n      };\n      this._createMagnificationViewport();\n      this._activateDraw(element);\n      hideElementCursor(element);\n      evt.preventDefault();\n      triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n      return true;\n    };\n    this.preTouchStartCallback = evt => {\n      this.preMouseDownCallback(evt);\n    };\n    this._createMagnificationViewport = () => {\n      const {\n        enabledElement,\n        referencedImageId,\n        viewportIdsToRender,\n        renderingEngine,\n        currentPoints\n      } = this.editData;\n      const {\n        viewport\n      } = enabledElement;\n      const {\n        element\n      } = viewport;\n      const viewportProperties = viewport.getProperties();\n      const {\n        canvas: canvasPos,\n        world: worldPos\n      } = currentPoints;\n      let magnifyToolElement;\n      magnifyToolElement = element.querySelector('.magnifyTool');\n      if (magnifyToolElement === null) {\n        const magnifyElement = document.createElement('div');\n        magnifyElement.classList.add('magnifyTool');\n        magnifyElement.style.display = 'block';\n        magnifyElement.style.width = `${this.configuration.magnifyWidth}px`;\n        magnifyElement.style.height = `${this.configuration.magnifyHeight}px`;\n        magnifyElement.style.position = 'absolute';\n        magnifyToolElement = magnifyElement;\n        const viewportElement = element.querySelector('.viewport-element');\n        viewportElement.appendChild(magnifyElement);\n        const viewportInput = {\n          viewportId: MAGNIFY_VIEWPORT_ID,\n          type: Enums.ViewportType.STACK,\n          element: magnifyToolElement\n        };\n        renderingEngine.enableElement(viewportInput);\n      }\n      magnifyToolElement.style.top = `${canvasPos[1] - this.configuration.magnifyHeight / 2}px`;\n      magnifyToolElement.style.left = `${canvasPos[0] - this.configuration.magnifyWidth / 2}px`;\n      const magnifyViewport = renderingEngine.getViewport(MAGNIFY_VIEWPORT_ID);\n      magnifyViewport.setStack([referencedImageId]).then(() => {\n        magnifyViewport.setProperties(viewportProperties);\n        const {\n          parallelScale\n        } = viewport.getCamera();\n        const {\n          focalPoint,\n          position,\n          viewPlaneNormal\n        } = magnifyViewport.getCamera();\n        const distance = Math.sqrt(Math.pow(focalPoint[0] - position[0], 2) + Math.pow(focalPoint[1] - position[1], 2) + Math.pow(focalPoint[2] - position[2], 2));\n        const updatedFocalPoint = [worldPos[0], worldPos[1], worldPos[2]];\n        const updatedPosition = [updatedFocalPoint[0] + distance * viewPlaneNormal[0], updatedFocalPoint[1] + distance * viewPlaneNormal[1], updatedFocalPoint[2] + distance * viewPlaneNormal[2]];\n        magnifyViewport.setCamera({\n          parallelScale: parallelScale * (1 / this.configuration.magnifySize),\n          focalPoint: updatedFocalPoint,\n          position: updatedPosition\n        });\n        magnifyViewport.render();\n      });\n      magnifyToolElement.style.display = 'block';\n      triggerAnnotationRenderForViewportIds(renderingEngine, viewportIdsToRender);\n    };\n    this._dragCallback = evt => {\n      const eventDetail = evt.detail;\n      const {\n        deltaPoints,\n        element,\n        currentPoints\n      } = eventDetail;\n      const deltaPointsWorld = deltaPoints.world;\n      const canvasPos = currentPoints.canvas;\n      const enabledElement = getEnabledElement(element);\n      const {\n        renderingEngine\n      } = enabledElement;\n      const magnifyViewport = renderingEngine.getViewport(MAGNIFY_VIEWPORT_ID);\n      const magnifyElement = element.querySelector('.magnifyTool');\n      if (!magnifyElement) {\n        return;\n      }\n      magnifyElement.style.top = `${canvasPos[1] - this.configuration.magnifyHeight / 2}px`;\n      magnifyElement.style.left = `${canvasPos[0] - this.configuration.magnifyWidth / 2}px`;\n      const {\n        focalPoint,\n        position\n      } = magnifyViewport.getCamera();\n      const updatedPosition = [position[0] + deltaPointsWorld[0], position[1] + deltaPointsWorld[1], position[2] + deltaPointsWorld[2]];\n      const updatedFocalPoint = [focalPoint[0] + deltaPointsWorld[0], focalPoint[1] + deltaPointsWorld[1], focalPoint[2] + deltaPointsWorld[2]];\n      magnifyViewport.setCamera({\n        focalPoint: updatedFocalPoint,\n        position: updatedPosition\n      });\n      magnifyViewport.render();\n    };\n    this._dragEndCallback = evt => {\n      const {\n        element\n      } = evt.detail;\n      const enabledElement = getEnabledElement(element);\n      const {\n        renderingEngine\n      } = enabledElement;\n      renderingEngine.disableElement(MAGNIFY_VIEWPORT_ID);\n      const viewportElement = element.querySelector('.viewport-element');\n      const magnifyToolElement = viewportElement.querySelector('.magnifyTool');\n      viewportElement.removeChild(magnifyToolElement);\n      this._deactivateDraw(element);\n      resetElementCursor(element);\n    };\n    this._activateDraw = element => {\n      state.isInteractingWithTool = true;\n      element.addEventListener(Events.MOUSE_UP, this._dragEndCallback);\n      element.addEventListener(Events.MOUSE_DRAG, this._dragCallback);\n      element.addEventListener(Events.MOUSE_CLICK, this._dragEndCallback);\n      element.addEventListener(Events.TOUCH_END, this._dragEndCallback);\n      element.addEventListener(Events.TOUCH_DRAG, this._dragCallback);\n    };\n    this._deactivateDraw = element => {\n      state.isInteractingWithTool = false;\n      element.removeEventListener(Events.MOUSE_UP, this._dragEndCallback);\n      element.removeEventListener(Events.MOUSE_DRAG, this._dragCallback);\n      element.removeEventListener(Events.MOUSE_CLICK, this._dragEndCallback);\n      element.removeEventListener(Events.TOUCH_END, this._dragEndCallback);\n      element.removeEventListener(Events.TOUCH_DRAG, this._dragCallback);\n    };\n  }\n  _getReferencedImageId(viewport) {\n    const targetId = this.getTargetId(viewport);\n    let referencedImageId;\n    if (viewport instanceof StackViewport) {\n      referencedImageId = targetId.split('imageId:')[1];\n    }\n    return referencedImageId;\n  }\n}\nMagnifyTool.toolName = 'Magnify';\nexport default MagnifyTool;","map":{"version":3,"names":["BaseTool","Events","getEnabledElement","StackViewport","getViewportIdsWithToolToRender","triggerAnnotationRenderForViewportIds","state","Enums","hideElementCursor","resetElementCursor","MAGNIFY_VIEWPORT_ID","MagnifyTool","constructor","toolProps","defaultToolProps","supportedInteractionTypes","configuration","magnifySize","magnifyWidth","magnifyHeight","preMouseDownCallback","evt","eventDetail","detail","element","currentPoints","enabledElement","viewport","renderingEngine","Error","referencedImageId","_getReferencedImageId","viewportIdsToRender","getToolName","editData","_createMagnificationViewport","_activateDraw","preventDefault","preTouchStartCallback","viewportProperties","getProperties","canvas","canvasPos","world","worldPos","magnifyToolElement","querySelector","magnifyElement","document","createElement","classList","add","style","display","width","height","position","viewportElement","appendChild","viewportInput","viewportId","type","ViewportType","STACK","enableElement","top","left","magnifyViewport","getViewport","setStack","then","setProperties","parallelScale","getCamera","focalPoint","viewPlaneNormal","distance","Math","sqrt","pow","updatedFocalPoint","updatedPosition","setCamera","render","_dragCallback","deltaPoints","deltaPointsWorld","_dragEndCallback","disableElement","removeChild","_deactivateDraw","isInteractingWithTool","addEventListener","MOUSE_UP","MOUSE_DRAG","MOUSE_CLICK","TOUCH_END","TOUCH_DRAG","removeEventListener","targetId","getTargetId","split","toolName"],"sources":["../../../src/tools/MagnifyTool.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}