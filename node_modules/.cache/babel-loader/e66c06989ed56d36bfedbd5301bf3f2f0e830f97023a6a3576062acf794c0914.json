{"ast":null,"code":"function sign(x) {\n  return typeof x === 'number' ? x ? x < 0 ? -1 : 1 : x === x ? 0 : NaN : NaN;\n}\nexport default function intersectLine(line1Start, line1End, line2Start, line2End) {\n  const [x1, y1] = line1Start;\n  const [x2, y2] = line1End;\n  const [x3, y3] = line2Start;\n  const [x4, y4] = line2End;\n  const a1 = y2 - y1;\n  const b1 = x1 - x2;\n  const c1 = x2 * y1 - x1 * y2;\n  const r3 = a1 * x3 + b1 * y3 + c1;\n  const r4 = a1 * x4 + b1 * y4 + c1;\n  if (r3 !== 0 && r4 !== 0 && sign(r3) === sign(r4)) {\n    return;\n  }\n  const a2 = y4 - y3;\n  const b2 = x3 - x4;\n  const c2 = x4 * y3 - x3 * y4;\n  const r1 = a2 * x1 + b2 * y1 + c2;\n  const r2 = a2 * x2 + b2 * y2 + c2;\n  if (r1 !== 0 && r2 !== 0 && sign(r1) === sign(r2)) {\n    return;\n  }\n  const denom = a1 * b2 - a2 * b1;\n  let num;\n  num = b1 * c2 - b2 * c1;\n  const x = num / denom;\n  num = a2 * c1 - a1 * c2;\n  const y = num / denom;\n  const intersectionPoint = [x, y];\n  return intersectionPoint;\n}","map":{"version":3,"names":["sign","x","NaN","intersectLine","line1Start","line1End","line2Start","line2End","x1","y1","x2","y2","x3","y3","x4","y4","a1","b1","c1","r3","r4","a2","b2","c2","r1","r2","denom","num","y","intersectionPoint"],"sources":["../../../../../src/utilities/math/line/intersectLine.ts"],"sourcesContent":[null],"mappings":"AAGA,SAASA,IAAIA,CAACC,CAAM;EAClB,OAAO,OAAOA,CAAC,KAAK,QAAQ,GACxBA,CAAC,GACCA,CAAC,GAAG,CAAC,GACH,CAAC,CAAC,GACF,CAAC,GACHA,CAAC,KAAKA,CAAC,GACP,CAAC,GACDC,GAAG,GACLA,GAAG;AACT;AAYA,eAAc,SAAUC,aAAaA,CACnCC,UAAwB,EACxBC,QAAsB,EACtBC,UAAwB,EACxBC,QAAsB;EAEtB,MAAM,CAACC,EAAE,EAAEC,EAAE,CAAC,GAAGL,UAAU;EAC3B,MAAM,CAACM,EAAE,EAAEC,EAAE,CAAC,GAAGN,QAAQ;EACzB,MAAM,CAACO,EAAE,EAAEC,EAAE,CAAC,GAAGP,UAAU;EAC3B,MAAM,CAACQ,EAAE,EAAEC,EAAE,CAAC,GAAGR,QAAQ;EAGzB,MAAMS,EAAE,GAAGL,EAAE,GAAGF,EAAE;EAClB,MAAMQ,EAAE,GAAGT,EAAE,GAAGE,EAAE;EAClB,MAAMQ,EAAE,GAAGR,EAAE,GAAGD,EAAE,GAAGD,EAAE,GAAGG,EAAE;EAG5B,MAAMQ,EAAE,GAAGH,EAAE,GAAGJ,EAAE,GAAGK,EAAE,GAAGJ,EAAE,GAAGK,EAAE;EACjC,MAAME,EAAE,GAAGJ,EAAE,GAAGF,EAAE,GAAGG,EAAE,GAAGF,EAAE,GAAGG,EAAE;EAMjC,IAAIC,EAAE,KAAK,CAAC,IAAIC,EAAE,KAAK,CAAC,IAAIpB,IAAI,CAACmB,EAAE,CAAC,KAAKnB,IAAI,CAACoB,EAAE,CAAC,EAAE;IACjD;;EAIF,MAAMC,EAAE,GAAGN,EAAE,GAAGF,EAAE;EAClB,MAAMS,EAAE,GAAGV,EAAE,GAAGE,EAAE;EAClB,MAAMS,EAAE,GAAGT,EAAE,GAAGD,EAAE,GAAGD,EAAE,GAAGG,EAAE;EAG5B,MAAMS,EAAE,GAAGH,EAAE,GAAGb,EAAE,GAAGc,EAAE,GAAGb,EAAE,GAAGc,EAAE;EACjC,MAAME,EAAE,GAAGJ,EAAE,GAAGX,EAAE,GAAGY,EAAE,GAAGX,EAAE,GAAGY,EAAE;EAOjC,IAAIC,EAAE,KAAK,CAAC,IAAIC,EAAE,KAAK,CAAC,IAAIzB,IAAI,CAACwB,EAAE,CAAC,KAAKxB,IAAI,CAACyB,EAAE,CAAC,EAAE;IACjD;;EAMF,MAAMC,KAAK,GAAGV,EAAE,GAAGM,EAAE,GAAGD,EAAE,GAAGJ,EAAE;EAC/B,IAAIU,GAAG;EAOPA,GAAG,GAAGV,EAAE,GAAGM,EAAE,GAAGD,EAAE,GAAGJ,EAAE;EACvB,MAAMjB,CAAC,GAAG0B,GAAG,GAAGD,KAAK;EAErBC,GAAG,GAAGN,EAAE,GAAGH,EAAE,GAAGF,EAAE,GAAGO,EAAE;EACvB,MAAMK,CAAC,GAAGD,GAAG,GAAGD,KAAK;EAErB,MAAMG,iBAAiB,GAAG,CAAC5B,CAAC,EAAE2B,CAAC,CAAC;EAEhC,OAAOC,iBAAiB;AAC1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}