{"ast":null,"code":"import { n as newInstance$1, o as obj, r as vtkErrorMacro, k as getArray } from '../../macros2.js';\nimport vtkOpenGLTexture from './Texture.js';\nimport { VtkDataTypes } from '../../Common/Core/DataArray/Constants.js';\nimport { Filter } from './Texture/Constants.js';\n\n// ----------------------------------------------------------------------------\n// vtkFramebuffer methods\n// ----------------------------------------------------------------------------\nfunction vtkFramebuffer(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkFramebuffer');\n  publicAPI.getBothMode = () => model.context.FRAMEBUFFER;\n  // publicAPI.getDrawMode = () => model.context.DRAW_FRAMEBUFFER;\n  // publicAPI.getReadMode = () => model.context.READ_FRAMEBUFFER;\n\n  publicAPI.saveCurrentBindingsAndBuffers = modeIn => {\n    const mode = typeof modeIn !== 'undefined' ? modeIn : publicAPI.getBothMode();\n    publicAPI.saveCurrentBindings(mode);\n    publicAPI.saveCurrentBuffers(mode);\n  };\n  publicAPI.saveCurrentBindings = modeIn => {\n    if (!model.context) {\n      vtkErrorMacro('you must set the OpenGLRenderWindow before calling saveCurrentBindings');\n      return;\n    }\n    const gl = model.context;\n    model.previousDrawBinding = gl.getParameter(model.context.FRAMEBUFFER_BINDING);\n    model.previousActiveFramebuffer = model._openGLRenderWindow.getActiveFramebuffer();\n  };\n  publicAPI.saveCurrentBuffers = modeIn => {\n    // noop on webgl 1\n  };\n  publicAPI.restorePreviousBindingsAndBuffers = modeIn => {\n    const mode = typeof modeIn !== 'undefined' ? modeIn : publicAPI.getBothMode();\n    publicAPI.restorePreviousBindings(mode);\n    publicAPI.restorePreviousBuffers(mode);\n  };\n  publicAPI.restorePreviousBindings = modeIn => {\n    if (!model.context) {\n      vtkErrorMacro('you must set the OpenGLRenderWindow before calling restorePreviousBindings');\n      return;\n    }\n    const gl = model.context;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, model.previousDrawBinding);\n    model._openGLRenderWindow.setActiveFramebuffer(model.previousActiveFramebuffer);\n  };\n  publicAPI.restorePreviousBuffers = modeIn => {\n    // currently a noop on webgl1\n  };\n  publicAPI.bind = function () {\n    let modeArg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    let mode = modeArg;\n    if (mode === null) {\n      mode = model.context.FRAMEBUFFER;\n    }\n    model.context.bindFramebuffer(mode, model.glFramebuffer);\n    for (let i = 0; i < model.colorBuffers.length; i++) {\n      model.colorBuffers[i].bind();\n    }\n    model._openGLRenderWindow.setActiveFramebuffer(publicAPI);\n  };\n  publicAPI.create = (width, height) => {\n    if (!model.context) {\n      vtkErrorMacro('you must set the OpenGLRenderWindow before calling create');\n      return;\n    }\n    model.glFramebuffer = model.context.createFramebuffer();\n    model.glFramebuffer.width = width;\n    model.glFramebuffer.height = height;\n  };\n  publicAPI.setColorBuffer = function (texture) {\n    let attachment = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    const gl = model.context;\n    if (!gl) {\n      vtkErrorMacro('you must set the OpenGLRenderWindow before calling setColorBuffer');\n      return;\n    }\n    let glAttachment = gl.COLOR_ATTACHMENT0;\n    if (attachment > 0) {\n      if (model._openGLRenderWindow.getWebgl2()) {\n        glAttachment += attachment;\n      } else {\n        vtkErrorMacro('Using multiple framebuffer attachments requires WebGL 2');\n        return;\n      }\n    }\n    model.colorBuffers[attachment] = texture;\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, glAttachment, gl.TEXTURE_2D, texture.getHandle(), 0);\n  };\n  publicAPI.removeColorBuffer = function () {\n    let attachment = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    const gl = model.context;\n    if (!gl) {\n      vtkErrorMacro('you must set the OpenGLRenderWindow before calling removeColorBuffer');\n      return;\n    }\n    let glAttachment = gl.COLOR_ATTACHMENT0;\n    if (attachment > 0) {\n      if (model._openGLRenderWindow.getWebgl2()) {\n        glAttachment += attachment;\n      } else {\n        vtkErrorMacro('Using multiple framebuffer attachments requires WebGL 2');\n        return;\n      }\n    }\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, glAttachment, gl.TEXTURE_2D, null, 0);\n    model.colorBuffers = model.colorBuffers.splice(attachment, 1);\n  };\n  publicAPI.setDepthBuffer = texture => {\n    if (!model.context) {\n      vtkErrorMacro('you must set the OpenGLRenderWindow before calling setDepthBuffer');\n      return;\n    }\n    if (model._openGLRenderWindow.getWebgl2()) {\n      const gl = model.context;\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.TEXTURE_2D, texture.getHandle(), 0);\n    } else {\n      vtkErrorMacro('Attaching depth buffer textures to fbo requires WebGL 2');\n    }\n  };\n  publicAPI.removeDepthBuffer = () => {\n    if (!model.context) {\n      vtkErrorMacro('you must set the OpenGLRenderWindow before calling removeDepthBuffer');\n      return;\n    }\n    if (model._openGLRenderWindow.getWebgl2()) {\n      const gl = model.context;\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.TEXTURE_2D, null, 0);\n    } else {\n      vtkErrorMacro('Attaching depth buffer textures to framebuffers requires WebGL 2');\n    }\n  };\n  publicAPI.getGLFramebuffer = () => model.glFramebuffer;\n  publicAPI.setOpenGLRenderWindow = rw => {\n    if (model._openGLRenderWindow === rw) {\n      return;\n    }\n    publicAPI.releaseGraphicsResources();\n    model._openGLRenderWindow = rw;\n    model.context = null;\n    if (rw) {\n      model.context = model._openGLRenderWindow.getContext();\n    }\n  };\n  publicAPI.releaseGraphicsResources = () => {\n    if (model.glFramebuffer) {\n      model.context.deleteFramebuffer(model.glFramebuffer);\n    }\n  };\n  publicAPI.getSize = () => {\n    const size = [0, 0];\n    if (model.glFramebuffer !== null) {\n      size[0] = model.glFramebuffer.width;\n      size[1] = model.glFramebuffer.height;\n    }\n    return size;\n  };\n  publicAPI.populateFramebuffer = () => {\n    if (!model.context) {\n      vtkErrorMacro('you must set the OpenGLRenderWindow before calling populateFrameBuffer');\n      return;\n    }\n    publicAPI.bind();\n    const gl = model.context;\n    const texture = vtkOpenGLTexture.newInstance();\n    texture.setOpenGLRenderWindow(model._openGLRenderWindow);\n    texture.setMinificationFilter(Filter.LINEAR);\n    texture.setMagnificationFilter(Filter.LINEAR);\n    texture.create2DFromRaw(model.glFramebuffer.width, model.glFramebuffer.height, 4, VtkDataTypes.UNSIGNED_CHAR, null);\n    publicAPI.setColorBuffer(texture);\n\n    // for now do not count on having a depth buffer texture\n    // as they are not standard webgl 1\n    model.depthTexture = gl.createRenderbuffer();\n    gl.bindRenderbuffer(gl.RENDERBUFFER, model.depthTexture);\n    gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, model.glFramebuffer.width, model.glFramebuffer.height);\n    gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, model.depthTexture);\n  };\n\n  // For backwards compatibility. Use getColorBuffers()[0] going forward.\n  publicAPI.getColorTexture = () => model.colorBuffers[0];\n}\n\n// ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\nconst DEFAULT_VALUES = {\n  // _openGLRenderWindow: null,\n  glFramebuffer: null,\n  colorBuffers: null,\n  depthTexture: null,\n  previousDrawBinding: 0,\n  previousReadBinding: 0,\n  previousDrawBuffer: 0,\n  previousReadBuffer: 0,\n  previousActiveFramebuffer: null\n};\n\n// ----------------------------------------------------------------------------\nfunction extend(publicAPI, model) {\n  let initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues);\n\n  // Build VTK API\n  obj(publicAPI, model);\n  if (model.colorBuffers) {\n    vtkErrorMacro('you cannot initialize colorBuffers through the constructor. You should call setColorBuffer() instead.');\n  }\n  model.colorBuffers = [];\n  getArray(publicAPI, model, ['colorBuffers']);\n\n  // For more macro methods, see \"Sources/macros.js\"\n  // Object specific methods\n  vtkFramebuffer(publicAPI, model);\n}\n\n// ----------------------------------------------------------------------------\nconst newInstance = newInstance$1(extend, 'vtkFramebuffer');\n\n// ----------------------------------------------------------------------------\nvar vtkOpenGLFramebuffer = {\n  newInstance,\n  extend\n};\nexport { vtkOpenGLFramebuffer as default, extend, newInstance };","map":{"version":3,"names":["n","newInstance$1","o","obj","r","vtkErrorMacro","k","getArray","vtkOpenGLTexture","VtkDataTypes","Filter","vtkFramebuffer","publicAPI","model","classHierarchy","push","getBothMode","context","FRAMEBUFFER","saveCurrentBindingsAndBuffers","modeIn","mode","saveCurrentBindings","saveCurrentBuffers","gl","previousDrawBinding","getParameter","FRAMEBUFFER_BINDING","previousActiveFramebuffer","_openGLRenderWindow","getActiveFramebuffer","restorePreviousBindingsAndBuffers","restorePreviousBindings","restorePreviousBuffers","bindFramebuffer","setActiveFramebuffer","bind","modeArg","arguments","length","undefined","glFramebuffer","i","colorBuffers","create","width","height","createFramebuffer","setColorBuffer","texture","attachment","glAttachment","COLOR_ATTACHMENT0","getWebgl2","framebufferTexture2D","TEXTURE_2D","getHandle","removeColorBuffer","splice","setDepthBuffer","DEPTH_ATTACHMENT","removeDepthBuffer","getGLFramebuffer","setOpenGLRenderWindow","rw","releaseGraphicsResources","getContext","deleteFramebuffer","getSize","size","populateFramebuffer","newInstance","setMinificationFilter","LINEAR","setMagnificationFilter","create2DFromRaw","UNSIGNED_CHAR","depthTexture","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","DEPTH_COMPONENT16","framebufferRenderbuffer","getColorTexture","DEFAULT_VALUES","previousReadBinding","previousDrawBuffer","previousReadBuffer","extend","initialValues","Object","assign","vtkOpenGLFramebuffer","default"],"sources":["/root/vue-cornerstone-demo/node_modules/@kitware/vtk.js/Rendering/OpenGL/Framebuffer.js"],"sourcesContent":["import { n as newInstance$1, o as obj, r as vtkErrorMacro, k as getArray } from '../../macros2.js';\nimport vtkOpenGLTexture from './Texture.js';\nimport { VtkDataTypes } from '../../Common/Core/DataArray/Constants.js';\nimport { Filter } from './Texture/Constants.js';\n\n// ----------------------------------------------------------------------------\n// vtkFramebuffer methods\n// ----------------------------------------------------------------------------\nfunction vtkFramebuffer(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkFramebuffer');\n  publicAPI.getBothMode = () => model.context.FRAMEBUFFER;\n  // publicAPI.getDrawMode = () => model.context.DRAW_FRAMEBUFFER;\n  // publicAPI.getReadMode = () => model.context.READ_FRAMEBUFFER;\n\n  publicAPI.saveCurrentBindingsAndBuffers = modeIn => {\n    const mode = typeof modeIn !== 'undefined' ? modeIn : publicAPI.getBothMode();\n    publicAPI.saveCurrentBindings(mode);\n    publicAPI.saveCurrentBuffers(mode);\n  };\n  publicAPI.saveCurrentBindings = modeIn => {\n    if (!model.context) {\n      vtkErrorMacro('you must set the OpenGLRenderWindow before calling saveCurrentBindings');\n      return;\n    }\n    const gl = model.context;\n    model.previousDrawBinding = gl.getParameter(model.context.FRAMEBUFFER_BINDING);\n    model.previousActiveFramebuffer = model._openGLRenderWindow.getActiveFramebuffer();\n  };\n  publicAPI.saveCurrentBuffers = modeIn => {\n    // noop on webgl 1\n  };\n  publicAPI.restorePreviousBindingsAndBuffers = modeIn => {\n    const mode = typeof modeIn !== 'undefined' ? modeIn : publicAPI.getBothMode();\n    publicAPI.restorePreviousBindings(mode);\n    publicAPI.restorePreviousBuffers(mode);\n  };\n  publicAPI.restorePreviousBindings = modeIn => {\n    if (!model.context) {\n      vtkErrorMacro('you must set the OpenGLRenderWindow before calling restorePreviousBindings');\n      return;\n    }\n    const gl = model.context;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, model.previousDrawBinding);\n    model._openGLRenderWindow.setActiveFramebuffer(model.previousActiveFramebuffer);\n  };\n  publicAPI.restorePreviousBuffers = modeIn => {\n    // currently a noop on webgl1\n  };\n  publicAPI.bind = function () {\n    let modeArg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    let mode = modeArg;\n    if (mode === null) {\n      mode = model.context.FRAMEBUFFER;\n    }\n    model.context.bindFramebuffer(mode, model.glFramebuffer);\n    for (let i = 0; i < model.colorBuffers.length; i++) {\n      model.colorBuffers[i].bind();\n    }\n    model._openGLRenderWindow.setActiveFramebuffer(publicAPI);\n  };\n  publicAPI.create = (width, height) => {\n    if (!model.context) {\n      vtkErrorMacro('you must set the OpenGLRenderWindow before calling create');\n      return;\n    }\n    model.glFramebuffer = model.context.createFramebuffer();\n    model.glFramebuffer.width = width;\n    model.glFramebuffer.height = height;\n  };\n  publicAPI.setColorBuffer = function (texture) {\n    let attachment = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    const gl = model.context;\n    if (!gl) {\n      vtkErrorMacro('you must set the OpenGLRenderWindow before calling setColorBuffer');\n      return;\n    }\n    let glAttachment = gl.COLOR_ATTACHMENT0;\n    if (attachment > 0) {\n      if (model._openGLRenderWindow.getWebgl2()) {\n        glAttachment += attachment;\n      } else {\n        vtkErrorMacro('Using multiple framebuffer attachments requires WebGL 2');\n        return;\n      }\n    }\n    model.colorBuffers[attachment] = texture;\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, glAttachment, gl.TEXTURE_2D, texture.getHandle(), 0);\n  };\n  publicAPI.removeColorBuffer = function () {\n    let attachment = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    const gl = model.context;\n    if (!gl) {\n      vtkErrorMacro('you must set the OpenGLRenderWindow before calling removeColorBuffer');\n      return;\n    }\n    let glAttachment = gl.COLOR_ATTACHMENT0;\n    if (attachment > 0) {\n      if (model._openGLRenderWindow.getWebgl2()) {\n        glAttachment += attachment;\n      } else {\n        vtkErrorMacro('Using multiple framebuffer attachments requires WebGL 2');\n        return;\n      }\n    }\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, glAttachment, gl.TEXTURE_2D, null, 0);\n    model.colorBuffers = model.colorBuffers.splice(attachment, 1);\n  };\n  publicAPI.setDepthBuffer = texture => {\n    if (!model.context) {\n      vtkErrorMacro('you must set the OpenGLRenderWindow before calling setDepthBuffer');\n      return;\n    }\n    if (model._openGLRenderWindow.getWebgl2()) {\n      const gl = model.context;\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.TEXTURE_2D, texture.getHandle(), 0);\n    } else {\n      vtkErrorMacro('Attaching depth buffer textures to fbo requires WebGL 2');\n    }\n  };\n  publicAPI.removeDepthBuffer = () => {\n    if (!model.context) {\n      vtkErrorMacro('you must set the OpenGLRenderWindow before calling removeDepthBuffer');\n      return;\n    }\n    if (model._openGLRenderWindow.getWebgl2()) {\n      const gl = model.context;\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.TEXTURE_2D, null, 0);\n    } else {\n      vtkErrorMacro('Attaching depth buffer textures to framebuffers requires WebGL 2');\n    }\n  };\n  publicAPI.getGLFramebuffer = () => model.glFramebuffer;\n  publicAPI.setOpenGLRenderWindow = rw => {\n    if (model._openGLRenderWindow === rw) {\n      return;\n    }\n    publicAPI.releaseGraphicsResources();\n    model._openGLRenderWindow = rw;\n    model.context = null;\n    if (rw) {\n      model.context = model._openGLRenderWindow.getContext();\n    }\n  };\n  publicAPI.releaseGraphicsResources = () => {\n    if (model.glFramebuffer) {\n      model.context.deleteFramebuffer(model.glFramebuffer);\n    }\n  };\n  publicAPI.getSize = () => {\n    const size = [0, 0];\n    if (model.glFramebuffer !== null) {\n      size[0] = model.glFramebuffer.width;\n      size[1] = model.glFramebuffer.height;\n    }\n    return size;\n  };\n  publicAPI.populateFramebuffer = () => {\n    if (!model.context) {\n      vtkErrorMacro('you must set the OpenGLRenderWindow before calling populateFrameBuffer');\n      return;\n    }\n    publicAPI.bind();\n    const gl = model.context;\n    const texture = vtkOpenGLTexture.newInstance();\n    texture.setOpenGLRenderWindow(model._openGLRenderWindow);\n    texture.setMinificationFilter(Filter.LINEAR);\n    texture.setMagnificationFilter(Filter.LINEAR);\n    texture.create2DFromRaw(model.glFramebuffer.width, model.glFramebuffer.height, 4, VtkDataTypes.UNSIGNED_CHAR, null);\n    publicAPI.setColorBuffer(texture);\n\n    // for now do not count on having a depth buffer texture\n    // as they are not standard webgl 1\n    model.depthTexture = gl.createRenderbuffer();\n    gl.bindRenderbuffer(gl.RENDERBUFFER, model.depthTexture);\n    gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, model.glFramebuffer.width, model.glFramebuffer.height);\n    gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, model.depthTexture);\n  };\n\n  // For backwards compatibility. Use getColorBuffers()[0] going forward.\n  publicAPI.getColorTexture = () => model.colorBuffers[0];\n}\n\n// ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\nconst DEFAULT_VALUES = {\n  // _openGLRenderWindow: null,\n  glFramebuffer: null,\n  colorBuffers: null,\n  depthTexture: null,\n  previousDrawBinding: 0,\n  previousReadBinding: 0,\n  previousDrawBuffer: 0,\n  previousReadBuffer: 0,\n  previousActiveFramebuffer: null\n};\n\n// ----------------------------------------------------------------------------\nfunction extend(publicAPI, model) {\n  let initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues);\n\n  // Build VTK API\n  obj(publicAPI, model);\n  if (model.colorBuffers) {\n    vtkErrorMacro('you cannot initialize colorBuffers through the constructor. You should call setColorBuffer() instead.');\n  }\n  model.colorBuffers = [];\n  getArray(publicAPI, model, ['colorBuffers']);\n\n  // For more macro methods, see \"Sources/macros.js\"\n  // Object specific methods\n  vtkFramebuffer(publicAPI, model);\n}\n\n// ----------------------------------------------------------------------------\nconst newInstance = newInstance$1(extend, 'vtkFramebuffer');\n\n// ----------------------------------------------------------------------------\nvar vtkOpenGLFramebuffer = {\n  newInstance,\n  extend\n};\n\nexport { vtkOpenGLFramebuffer as default, extend, newInstance };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}