{"ast":null,"code":"const antiGhostDelay = 2000,\n  pointerType = {\n    mouse: 0,\n    touch: 1\n  };\nlet lastInteractionType, lastInteractionTime;\nfunction handleTap(type, e) {\n  const now = Date.now();\n  if (type !== lastInteractionType) {\n    if (now - lastInteractionTime <= antiGhostDelay) {\n      e.preventDefault();\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n      return false;\n    }\n    lastInteractionType = type;\n  }\n  lastInteractionTime = now;\n}\nconst handleTapMouse = handleTap.bind(null, pointerType.mouse);\nconst handleTapTouch = handleTap.bind(null, pointerType.touch);\nfunction attachEvents(element, eventList, interactionType) {\n  const tapHandler = interactionType ? handleTapMouse : handleTapTouch;\n  eventList.forEach(function (eventName) {\n    element.addEventListener(eventName, tapHandler, {\n      passive: false\n    });\n  });\n}\nfunction removeEvents(element, eventList, interactionType) {\n  const tapHandler = interactionType ? handleTapMouse : handleTapTouch;\n  eventList.forEach(function (eventName) {\n    element.removeEventListener(eventName, tapHandler);\n  });\n}\nconst mouseEvents = ['mousedown', 'mouseup', 'mousemove'];\nconst touchEvents = ['touchstart', 'touchend'];\nfunction disable(element) {\n  removeEvents(element, mouseEvents, pointerType.mouse);\n  removeEvents(element, touchEvents, pointerType.touch);\n}\nfunction enable(element) {\n  disable(element);\n  attachEvents(element, mouseEvents, pointerType.mouse);\n  attachEvents(element, touchEvents, pointerType.touch);\n}\nexport default {\n  enable,\n  disable\n};","map":{"version":3,"names":["antiGhostDelay","pointerType","mouse","touch","lastInteractionType","lastInteractionTime","handleTap","type","e","now","Date","preventDefault","stopPropagation","stopImmediatePropagation","handleTapMouse","bind","handleTapTouch","attachEvents","element","eventList","interactionType","tapHandler","forEach","eventName","addEventListener","passive","removeEvents","removeEventListener","mouseEvents","touchEvents","disable","enable"],"sources":["../../../../src/eventListeners/touch/preventGhostClick.js"],"sourcesContent":[null],"mappings":"AAMA,MAAMA,cAAc,GAAG,IAAI;EACzBC,WAAW,GAAG;IACZC,KAAK,EAAE,CAAC;IACRC,KAAK,EAAE;GACR;AAEH,IAAIC,mBAAmB,EAAEC,mBAAmB;AAE5C,SAASC,SAASA,CAACC,IAAI,EAAEC,CAAC;EACxB,MAAMC,GAAG,GAAGC,IAAI,CAACD,GAAG,EAAE;EAEtB,IAAIF,IAAI,KAAKH,mBAAmB,EAAE;IAChC,IAAIK,GAAG,GAAGJ,mBAAmB,IAAIL,cAAc,EAAE;MAC/CQ,CAAC,CAACG,cAAc,EAAE;MAClBH,CAAC,CAACI,eAAe,EAAE;MACnBJ,CAAC,CAACK,wBAAwB,EAAE;MAE5B,OAAO,KAAK;;IAGdT,mBAAmB,GAAGG,IAAI;;EAG5BF,mBAAmB,GAAGI,GAAG;AAC3B;AAKA,MAAMK,cAAc,GAAGR,SAAS,CAACS,IAAI,CAAC,IAAI,EAAEd,WAAW,CAACC,KAAK,CAAC;AAC9D,MAAMc,cAAc,GAAGV,SAAS,CAACS,IAAI,CAAC,IAAI,EAAEd,WAAW,CAACE,KAAK,CAAC;AAE9D,SAASc,YAAYA,CAACC,OAAO,EAAEC,SAAS,EAAEC,eAAe;EACvD,MAAMC,UAAU,GAAGD,eAAe,GAAGN,cAAc,GAAGE,cAAc;EAEpEG,SAAS,CAACG,OAAO,CAAC,UAAUC,SAAS;IACnCL,OAAO,CAACM,gBAAgB,CAACD,SAAS,EAAEF,UAAU,EAAE;MAAEI,OAAO,EAAE;IAAK,CAAE,CAAC;EACrE,CAAC,CAAC;AACJ;AAEA,SAASC,YAAYA,CAACR,OAAO,EAAEC,SAAS,EAAEC,eAAe;EACvD,MAAMC,UAAU,GAAGD,eAAe,GAAGN,cAAc,GAAGE,cAAc;EAEpEG,SAAS,CAACG,OAAO,CAAC,UAAUC,SAAS;IACnCL,OAAO,CAACS,mBAAmB,CAACJ,SAAS,EAAEF,UAAU,CAAC;EACpD,CAAC,CAAC;AACJ;AAEA,MAAMO,WAAW,GAAG,CAAC,WAAW,EAAE,SAAS,EAAE,WAAW,CAAC;AACzD,MAAMC,WAAW,GAAG,CAAC,YAAY,EAAE,UAAU,CAAC;AAE9C,SAASC,OAAOA,CAACZ,OAAO;EACtBQ,YAAY,CAACR,OAAO,EAAEU,WAAW,EAAE3B,WAAW,CAACC,KAAK,CAAC;EACrDwB,YAAY,CAACR,OAAO,EAAEW,WAAW,EAAE5B,WAAW,CAACE,KAAK,CAAC;AACvD;AAEA,SAAS4B,MAAMA,CAACb,OAAO;EACrBY,OAAO,CAACZ,OAAO,CAAC;EAChBD,YAAY,CAACC,OAAO,EAAEU,WAAW,EAAE3B,WAAW,CAACC,KAAK,CAAC;EACrDe,YAAY,CAACC,OAAO,EAAEW,WAAW,EAAE5B,WAAW,CAACE,KAAK,CAAC;AACvD;AAEA,eAAe;EACb4B,MAAM;EACND;CACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}