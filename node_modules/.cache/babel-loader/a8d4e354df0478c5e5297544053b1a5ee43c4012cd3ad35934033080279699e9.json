{"ast":null,"code":"import { SegmentationRepresentations } from '../../../enums';\nfunction normalizeSegmentationInput(segmentationInput) {\n  const {\n    segmentationId,\n    representation\n  } = segmentationInput;\n  const isContourRepresentation = representation.type === SegmentationRepresentations.Contour;\n  let data = representation.data ? {\n    ...representation.data\n  } : null;\n  data = !data && isContourRepresentation ? {} : data;\n  if (!data) {\n    throw new Error('Segmentation representation data may not be undefined');\n  }\n  if (isContourRepresentation) {\n    const contourData = data;\n    contourData.geometryIds = contourData.geometryIds ?? [];\n    contourData.annotationUIDsMap = contourData.annotationUIDsMap ?? new Map();\n  }\n  return {\n    segmentationId,\n    cachedStats: {},\n    segmentLabels: {},\n    label: null,\n    segmentsLocked: new Set(),\n    type: representation.type,\n    activeSegmentIndex: 1,\n    representationData: {\n      [representation.type]: {\n        ...data\n      }\n    }\n  };\n}\nexport default normalizeSegmentationInput;","map":{"version":3,"names":["SegmentationRepresentations","normalizeSegmentationInput","segmentationInput","segmentationId","representation","isContourRepresentation","type","Contour","data","Error","contourData","geometryIds","annotationUIDsMap","Map","cachedStats","segmentLabels","label","segmentsLocked","Set","activeSegmentIndex","representationData"],"sources":["../../../../../src/stateManagement/segmentation/helpers/normalizeSegmentationInput.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,2BAA2B,QAAQ,gBAAgB;AAa5D,SAASC,0BAA0BA,CACjCC,iBAA0C;EAE1C,MAAM;IAAEC,cAAc;IAAEC;EAAc,CAAE,GAAGF,iBAAiB;EAC5D,MAAMG,uBAAuB,GAC3BD,cAAc,CAACE,IAAI,KAAKN,2BAA2B,CAACO,OAAO;EAC7D,IAAIC,IAAI,GAAGJ,cAAc,CAACI,IAAI,GAAG;IAAE,GAAGJ,cAAc,CAACI;EAAI,CAAE,GAAG,IAAI;EAGlEA,IAAI,GAAG,CAACA,IAAI,IAAIH,uBAAuB,GAAG,EAAE,GAAGG,IAAI;EAGnD,IAAI,CAACA,IAAI,EAAE;IACT,MAAM,IAAIC,KAAK,CAAC,uDAAuD,CAAC;;EAG1E,IAAIJ,uBAAuB,EAAE;IAC3B,MAAMK,WAAW,GAA4BF,IAAI;IAIjDE,WAAW,CAACC,WAAW,GAAGD,WAAW,CAACC,WAAW,IAAI,EAAE;IAKvDD,WAAW,CAACE,iBAAiB,GAAGF,WAAW,CAACE,iBAAiB,IAAI,IAAIC,GAAG,EAAE;;EAK5E,OAAO;IACLV,cAAc;IACdW,WAAW,EAAE,EAAE;IACfC,aAAa,EAAE,EAAE;IACjBC,KAAK,EAAE,IAAI;IACXC,cAAc,EAAE,IAAIC,GAAG,EAAE;IACzBZ,IAAI,EAAEF,cAAc,CAACE,IAAI;IACzBa,kBAAkB,EAAE,CAAC;IACrBC,kBAAkB,EAAE;MAClB,CAAChB,cAAc,CAACE,IAAI,GAAG;QACrB,GAAGE;;;GAGR;AACH;AAEA,eAAeP,0BAA0B"},"metadata":{},"sourceType":"module","externalDependencies":[]}