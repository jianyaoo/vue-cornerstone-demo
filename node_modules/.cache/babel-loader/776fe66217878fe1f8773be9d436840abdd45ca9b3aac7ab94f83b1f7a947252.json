{"ast":null,"code":"import { getEnabledElement, addVolumesToViewports, addImageSlicesToViewports, Enums } from '@cornerstonejs/core';\nimport { isVolumeSegmentation } from '../../segmentation/strategies/utils/stackVolumeCheck';\nasync function addLabelmapToElement(element, labelMapData, segmentationRepresentationUID) {\n  const enabledElement = getEnabledElement(element);\n  const {\n    renderingEngine,\n    viewport\n  } = enabledElement;\n  const {\n    id: viewportId\n  } = viewport;\n  const visibility = true;\n  const immediateRender = false;\n  const suppressEvents = true;\n  if (isVolumeSegmentation(labelMapData)) {\n    const volumeInputs = [{\n      volumeId: labelMapData.volumeId,\n      actorUID: segmentationRepresentationUID,\n      visibility,\n      blendMode: Enums.BlendModes.MAXIMUM_INTENSITY_BLEND\n    }];\n    await addVolumesToViewports(renderingEngine, volumeInputs, [viewportId], immediateRender, suppressEvents);\n  } else {\n    const segmentationImageId = labelMapData.imageIdReferenceMap.get(viewport.getCurrentImageId());\n    const stackInputs = [{\n      imageId: segmentationImageId,\n      actorUID: segmentationRepresentationUID\n    }];\n    await addImageSlicesToViewports(renderingEngine, stackInputs, [viewportId], immediateRender, suppressEvents);\n  }\n}\nexport default addLabelmapToElement;","map":{"version":3,"names":["getEnabledElement","addVolumesToViewports","addImageSlicesToViewports","Enums","isVolumeSegmentation","addLabelmapToElement","element","labelMapData","segmentationRepresentationUID","enabledElement","renderingEngine","viewport","id","viewportId","visibility","immediateRender","suppressEvents","volumeInputs","volumeId","actorUID","blendMode","BlendModes","MAXIMUM_INTENSITY_BLEND","segmentationImageId","imageIdReferenceMap","get","getCurrentImageId","stackInputs","imageId"],"sources":["../../../../../src/tools/displayTools/Labelmap/addLabelmapToElement.ts"],"sourcesContent":[null],"mappings":"AAAA,SACEA,iBAAiB,EACjBC,qBAAqB,EACrBC,yBAAyB,EAEzBC,KAAK,QACA,qBAAqB;AAK5B,SAASC,oBAAoB,QAAQ,sDAAsD;AAW3F,eAAeC,oBAAoBA,CACjCC,OAAuB,EACvBC,YAAsC,EACtCC,6BAAqC;EAErC,MAAMC,cAAc,GAAGT,iBAAiB,CAACM,OAAO,CAAC;EACjD,MAAM;IAAEI,eAAe;IAAEC;EAAQ,CAAE,GAAGF,cAAc;EACpD,MAAM;IAAEG,EAAE,EAAEC;EAAU,CAAE,GAAGF,QAAQ;EAKnC,MAAMG,UAAU,GAAG,IAAI;EACvB,MAAMC,eAAe,GAAG,KAAK;EAC7B,MAAMC,cAAc,GAAG,IAAI;EAE3B,IAAIZ,oBAAoB,CAACG,YAAY,CAAC,EAAE;IAKtC,MAAMU,YAAY,GAAyB,CACzC;MACEC,QAAQ,EAAEX,YAAY,CAACW,QAAQ;MAC/BC,QAAQ,EAAEX,6BAA6B;MACvCM,UAAU;MACVM,SAAS,EAAEjB,KAAK,CAACkB,UAAU,CAACC;KAC7B,CACF;IAGD,MAAMrB,qBAAqB,CACzBS,eAAe,EACfO,YAAY,EACZ,CAACJ,UAAU,CAAC,EACZE,eAAe,EACfC,cAAc,CACf;GACF,MAAM;IAGL,MAAMO,mBAAmB,GACvBhB,YACD,CAACiB,mBAAmB,CAACC,GAAG,CAACd,QAAQ,CAACe,iBAAiB,EAAE,CAAC;IAEvD,MAAMC,WAAW,GAAwB,CACvC;MACEC,OAAO,EAAEL,mBAAmB;MAC5BJ,QAAQ,EAAEX;KACX,CACF;IAGD,MAAMN,yBAAyB,CAC7BQ,eAAe,EACfiB,WAAW,EACX,CAACd,UAAU,CAAC,EACZE,eAAe,EACfC,cAAc,CACf;;AAEL;AAEA,eAAeX,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}