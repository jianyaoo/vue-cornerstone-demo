{"ast":null,"code":"import { m as macro } from '../../macros2.js';\nconst {\n  vtkErrorMacro\n} = macro;\nfunction notImplemented(method) {\n  return () => vtkErrorMacro(`vtkViewport::${method} - NOT IMPLEMENTED`);\n}\n\n// ----------------------------------------------------------------------------\n// vtkViewport methods\n// ----------------------------------------------------------------------------\n\nfunction vtkViewport(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkViewport');\n\n  // Public API methods\n  publicAPI.getViewProps = () => model.props;\n  publicAPI.hasViewProp = prop => model.props.includes(prop);\n  publicAPI.addViewProp = prop => {\n    if (prop && !publicAPI.hasViewProp(prop)) {\n      model.props.push(prop);\n    }\n  };\n  publicAPI.removeViewProp = prop => {\n    const newPropList = model.props.filter(item => item !== prop);\n    if (model.props.length !== newPropList.length) {\n      model.props = newPropList;\n    }\n  };\n  publicAPI.removeAllViewProps = () => {\n    model.props = [];\n  };\n\n  // this method get all the props including any nested props\n  function gatherProps(prop) {\n    let allProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    allProps.push(prop);\n    const children = prop.getNestedProps();\n    if (children && children.length) {\n      for (let i = 0; i < children.length; i++) {\n        gatherProps(children[i], allProps);\n      }\n    }\n    return allProps;\n  }\n  publicAPI.getViewPropsWithNestedProps = () => {\n    const allPropsArray = [];\n    for (let i = 0; i < model.props.length; i++) {\n      gatherProps(model.props[i], allPropsArray);\n    }\n    return allPropsArray;\n  };\n  publicAPI.addActor2D = publicAPI.addViewProp;\n  publicAPI.removeActor2D = prop => {\n    // VTK way: model.actors2D.RemoveItem(prop);\n    publicAPI.removeViewProp(prop);\n  };\n  publicAPI.getActors2D = () => {\n    model.actors2D = [];\n    model.props.forEach(prop => {\n      model.actors2D = model.actors2D.concat(prop.getActors2D());\n    });\n    return model.actors2D;\n  };\n  publicAPI.displayToView = () => vtkErrorMacro('call displayToView on your view instead');\n  publicAPI.viewToDisplay = () => vtkErrorMacro('callviewtodisplay on your view instead');\n  publicAPI.getSize = () => vtkErrorMacro('call getSize on your View instead');\n  publicAPI.normalizedDisplayToProjection = (x, y, z) => {\n    // first to normalized viewport\n    const nvp = publicAPI.normalizedDisplayToNormalizedViewport(x, y, z);\n\n    // then to view\n    return publicAPI.normalizedViewportToProjection(nvp[0], nvp[1], nvp[2]);\n  };\n  publicAPI.normalizedDisplayToNormalizedViewport = (x, y, z) => {\n    const scale = [model.viewport[2] - model.viewport[0], model.viewport[3] - model.viewport[1]];\n    return [(x - model.viewport[0]) / scale[0], (y - model.viewport[1]) / scale[1], z];\n  };\n  publicAPI.normalizedViewportToProjection = (x, y, z) => [x * 2.0 - 1.0, y * 2.0 - 1.0, z * 2.0 - 1.0];\n  publicAPI.projectionToNormalizedDisplay = (x, y, z) => {\n    // first to nvp\n    const nvp = publicAPI.projectionToNormalizedViewport(x, y, z);\n\n    // then to ndp\n    return publicAPI.normalizedViewportToNormalizedDisplay(nvp[0], nvp[1], nvp[2]);\n  };\n  publicAPI.normalizedViewportToNormalizedDisplay = (x, y, z) => {\n    const scale = [model.viewport[2] - model.viewport[0], model.viewport[3] - model.viewport[1]];\n    return [x * scale[0] + model.viewport[0], y * scale[1] + model.viewport[1], z];\n  };\n  publicAPI.projectionToNormalizedViewport = (x, y, z) => [(x + 1.0) * 0.5, (y + 1.0) * 0.5, (z + 1.0) * 0.5];\n  publicAPI.PickPropFrom = notImplemented('PickPropFrom');\n}\n\n// ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\nconst DEFAULT_VALUES = {\n  // _vtkWindow: null,\n  background: [0, 0, 0],\n  background2: [0.2, 0.2, 0.2],\n  gradientBackground: false,\n  viewport: [0, 0, 1, 1],\n  aspect: [1, 1],\n  pixelAspect: [1, 1],\n  props: [],\n  actors2D: []\n};\n\n// ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  let initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues);\n\n  // Build VTK API\n  macro.obj(publicAPI, model);\n  macro.event(publicAPI, model, 'event');\n  macro.setGetArray(publicAPI, model, ['viewport'], 4);\n  macro.setGetArray(publicAPI, model, ['background', 'background2'], 3);\n  vtkViewport(publicAPI, model);\n}\n\n// ----------------------------------------------------------------------------\n\nconst newInstance = macro.newInstance(extend, 'vtkViewport');\n\n// ----------------------------------------------------------------------------\n\nvar vtkViewport$1 = {\n  newInstance,\n  extend\n};\nexport { vtkViewport$1 as default, extend, newInstance };","map":{"version":3,"names":["m","macro","vtkErrorMacro","notImplemented","method","vtkViewport","publicAPI","model","classHierarchy","push","getViewProps","props","hasViewProp","prop","includes","addViewProp","removeViewProp","newPropList","filter","item","length","removeAllViewProps","gatherProps","allProps","arguments","undefined","children","getNestedProps","i","getViewPropsWithNestedProps","allPropsArray","addActor2D","removeActor2D","getActors2D","actors2D","forEach","concat","displayToView","viewToDisplay","getSize","normalizedDisplayToProjection","x","y","z","nvp","normalizedDisplayToNormalizedViewport","normalizedViewportToProjection","scale","viewport","projectionToNormalizedDisplay","projectionToNormalizedViewport","normalizedViewportToNormalizedDisplay","PickPropFrom","DEFAULT_VALUES","background","background2","gradientBackground","aspect","pixelAspect","extend","initialValues","Object","assign","obj","event","setGetArray","newInstance","vtkViewport$1","default"],"sources":["/root/vue-cornerstone-demo/node_modules/@kitware/vtk.js/Rendering/Core/Viewport.js"],"sourcesContent":["import { m as macro } from '../../macros2.js';\n\nconst {\n  vtkErrorMacro\n} = macro;\nfunction notImplemented(method) {\n  return () => vtkErrorMacro(`vtkViewport::${method} - NOT IMPLEMENTED`);\n}\n\n// ----------------------------------------------------------------------------\n// vtkViewport methods\n// ----------------------------------------------------------------------------\n\nfunction vtkViewport(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkViewport');\n\n  // Public API methods\n  publicAPI.getViewProps = () => model.props;\n  publicAPI.hasViewProp = prop => model.props.includes(prop);\n  publicAPI.addViewProp = prop => {\n    if (prop && !publicAPI.hasViewProp(prop)) {\n      model.props.push(prop);\n    }\n  };\n  publicAPI.removeViewProp = prop => {\n    const newPropList = model.props.filter(item => item !== prop);\n    if (model.props.length !== newPropList.length) {\n      model.props = newPropList;\n    }\n  };\n  publicAPI.removeAllViewProps = () => {\n    model.props = [];\n  };\n\n  // this method get all the props including any nested props\n  function gatherProps(prop) {\n    let allProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    allProps.push(prop);\n    const children = prop.getNestedProps();\n    if (children && children.length) {\n      for (let i = 0; i < children.length; i++) {\n        gatherProps(children[i], allProps);\n      }\n    }\n    return allProps;\n  }\n  publicAPI.getViewPropsWithNestedProps = () => {\n    const allPropsArray = [];\n    for (let i = 0; i < model.props.length; i++) {\n      gatherProps(model.props[i], allPropsArray);\n    }\n    return allPropsArray;\n  };\n  publicAPI.addActor2D = publicAPI.addViewProp;\n  publicAPI.removeActor2D = prop => {\n    // VTK way: model.actors2D.RemoveItem(prop);\n    publicAPI.removeViewProp(prop);\n  };\n  publicAPI.getActors2D = () => {\n    model.actors2D = [];\n    model.props.forEach(prop => {\n      model.actors2D = model.actors2D.concat(prop.getActors2D());\n    });\n    return model.actors2D;\n  };\n  publicAPI.displayToView = () => vtkErrorMacro('call displayToView on your view instead');\n  publicAPI.viewToDisplay = () => vtkErrorMacro('callviewtodisplay on your view instead');\n  publicAPI.getSize = () => vtkErrorMacro('call getSize on your View instead');\n  publicAPI.normalizedDisplayToProjection = (x, y, z) => {\n    // first to normalized viewport\n    const nvp = publicAPI.normalizedDisplayToNormalizedViewport(x, y, z);\n\n    // then to view\n    return publicAPI.normalizedViewportToProjection(nvp[0], nvp[1], nvp[2]);\n  };\n  publicAPI.normalizedDisplayToNormalizedViewport = (x, y, z) => {\n    const scale = [model.viewport[2] - model.viewport[0], model.viewport[3] - model.viewport[1]];\n    return [(x - model.viewport[0]) / scale[0], (y - model.viewport[1]) / scale[1], z];\n  };\n  publicAPI.normalizedViewportToProjection = (x, y, z) => [x * 2.0 - 1.0, y * 2.0 - 1.0, z * 2.0 - 1.0];\n  publicAPI.projectionToNormalizedDisplay = (x, y, z) => {\n    // first to nvp\n    const nvp = publicAPI.projectionToNormalizedViewport(x, y, z);\n\n    // then to ndp\n    return publicAPI.normalizedViewportToNormalizedDisplay(nvp[0], nvp[1], nvp[2]);\n  };\n  publicAPI.normalizedViewportToNormalizedDisplay = (x, y, z) => {\n    const scale = [model.viewport[2] - model.viewport[0], model.viewport[3] - model.viewport[1]];\n    return [x * scale[0] + model.viewport[0], y * scale[1] + model.viewport[1], z];\n  };\n  publicAPI.projectionToNormalizedViewport = (x, y, z) => [(x + 1.0) * 0.5, (y + 1.0) * 0.5, (z + 1.0) * 0.5];\n  publicAPI.PickPropFrom = notImplemented('PickPropFrom');\n}\n\n// ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\nconst DEFAULT_VALUES = {\n  // _vtkWindow: null,\n  background: [0, 0, 0],\n  background2: [0.2, 0.2, 0.2],\n  gradientBackground: false,\n  viewport: [0, 0, 1, 1],\n  aspect: [1, 1],\n  pixelAspect: [1, 1],\n  props: [],\n  actors2D: []\n};\n\n// ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  let initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues);\n\n  // Build VTK API\n  macro.obj(publicAPI, model);\n  macro.event(publicAPI, model, 'event');\n  macro.setGetArray(publicAPI, model, ['viewport'], 4);\n  macro.setGetArray(publicAPI, model, ['background', 'background2'], 3);\n  vtkViewport(publicAPI, model);\n}\n\n// ----------------------------------------------------------------------------\n\nconst newInstance = macro.newInstance(extend, 'vtkViewport');\n\n// ----------------------------------------------------------------------------\n\nvar vtkViewport$1 = {\n  newInstance,\n  extend\n};\n\nexport { vtkViewport$1 as default, extend, newInstance };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}