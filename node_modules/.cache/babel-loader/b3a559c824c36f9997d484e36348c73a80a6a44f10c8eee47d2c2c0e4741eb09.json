{"ast":null,"code":"import { getEnabledElement } from '@cornerstonejs/core';\nexport default function getTouchEventPoints(evt, element) {\n  const elementToUse = element || evt.currentTarget;\n  const touches = evt.type === 'touchend' ? evt.changedTouches : evt.touches;\n  return Object.keys(touches).map(i => {\n    const clientPoint = _clientToPoint(touches[i]);\n    const pagePoint = _pageToPoint(touches[i]);\n    const canvasPoint = _pagePointsToCanvasPoints(elementToUse, pagePoint);\n    const {\n      viewport\n    } = getEnabledElement(elementToUse);\n    const worldPoint = viewport.canvasToWorld(canvasPoint);\n    return {\n      page: pagePoint,\n      client: clientPoint,\n      canvas: canvasPoint,\n      world: worldPoint,\n      touch: {\n        identifier: i,\n        radiusX: touches[i].radiusX,\n        radiusY: touches[i].radiusY,\n        force: touches[i].force,\n        rotationAngle: touches[i].rotationAngle\n      }\n    };\n  });\n}\nfunction _pagePointsToCanvasPoints(element, pagePoint) {\n  const rect = element.getBoundingClientRect();\n  return [pagePoint[0] - rect.left - window.pageXOffset, pagePoint[1] - rect.top - window.pageYOffset];\n}\nfunction _pageToPoint(touch) {\n  return [touch.pageX, touch.pageY];\n}\nfunction _clientToPoint(touch) {\n  return [touch.clientX, touch.clientY];\n}","map":{"version":3,"names":["getEnabledElement","getTouchEventPoints","evt","element","elementToUse","currentTarget","touches","type","changedTouches","Object","keys","map","i","clientPoint","_clientToPoint","pagePoint","_pageToPoint","canvasPoint","_pagePointsToCanvasPoints","viewport","worldPoint","canvasToWorld","page","client","canvas","world","touch","identifier","radiusX","radiusY","force","rotationAngle","rect","getBoundingClientRect","left","window","pageXOffset","top","pageYOffset","pageX","pageY","clientX","clientY"],"sources":["../../../../src/eventListeners/touch/getTouchEventPoints.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,iBAAiB,QAAQ,qBAAqB;AAavD,eAAc,SAAUC,mBAAmBA,CACzCC,GAAe,EACfC,OAAwB;EAExB,MAAMC,YAAY,GAAGD,OAAO,IAAKD,GAAG,CAACG,aAAgC;EACrE,MAAMC,OAAO,GAAGJ,GAAG,CAACK,IAAI,KAAK,UAAU,GAAGL,GAAG,CAACM,cAAc,GAAGN,GAAG,CAACI,OAAO;EAC1E,OAAOG,MAAM,CAACC,IAAI,CAACJ,OAAO,CAAC,CAACK,GAAG,CAAEC,CAAC,IAAI;IACpC,MAAMC,WAAW,GAAGC,cAAc,CAACR,OAAO,CAACM,CAAC,CAAC,CAAC;IAC9C,MAAMG,SAAS,GAAGC,YAAY,CAACV,OAAO,CAACM,CAAC,CAAC,CAAC;IAC1C,MAAMK,WAAW,GAAGC,yBAAyB,CAACd,YAAY,EAAEW,SAAS,CAAC;IACtE,MAAM;MAAEI;IAAQ,CAAE,GAAGnB,iBAAiB,CAACI,YAAY,CAAC;IACpD,MAAMgB,UAAU,GAAGD,QAAQ,CAACE,aAAa,CAACJ,WAAW,CAAC;IACtD,OAAO;MACLK,IAAI,EAAEP,SAAS;MACfQ,MAAM,EAAEV,WAAW;MACnBW,MAAM,EAAEP,WAAW;MACnBQ,KAAK,EAAEL,UAAU;MACjBM,KAAK,EAAE;QACLC,UAAU,EAAEf,CAAC;QACbgB,OAAO,EAAEtB,OAAO,CAACM,CAAC,CAAC,CAACgB,OAAO;QAC3BC,OAAO,EAAEvB,OAAO,CAACM,CAAC,CAAC,CAACiB,OAAO;QAC3BC,KAAK,EAAExB,OAAO,CAACM,CAAC,CAAC,CAACkB,KAAK;QACvBC,aAAa,EAAEzB,OAAO,CAACM,CAAC,CAAC,CAACmB;;KAE7B;EACH,CAAC,CAAC;AACJ;AASA,SAASb,yBAAyBA,CAChCf,OAAuB,EACvBY,SAAuB;EAEvB,MAAMiB,IAAI,GAAG7B,OAAO,CAAC8B,qBAAqB,EAAE;EAC5C,OAAO,CACLlB,SAAS,CAAC,CAAC,CAAC,GAAGiB,IAAI,CAACE,IAAI,GAAGC,MAAM,CAACC,WAAW,EAC7CrB,SAAS,CAAC,CAAC,CAAC,GAAGiB,IAAI,CAACK,GAAG,GAAGF,MAAM,CAACG,WAAW,CAC7C;AACH;AAOA,SAAStB,YAAYA,CAACU,KAAY;EAChC,OAAO,CAACA,KAAK,CAACa,KAAK,EAAEb,KAAK,CAACc,KAAK,CAAC;AACnC;AAMA,SAAS1B,cAAcA,CAACY,KAAY;EAClC,OAAO,CAACA,KAAK,CAACe,OAAO,EAAEf,KAAK,CAACgB,OAAO,CAAC;AACvC"},"metadata":{},"sourceType":"module","externalDependencies":[]}