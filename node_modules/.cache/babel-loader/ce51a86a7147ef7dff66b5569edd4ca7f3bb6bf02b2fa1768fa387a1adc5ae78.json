{"ast":null,"code":"import { state, ToolGroupManager } from '../../store';\nimport ToolModes from '../../enums/ToolModes';\nconst {\n  Active\n} = ToolModes;\nexport default function customCallbackHandler(handlerType, customFunction, evt) {\n  if (state.isInteractingWithTool) {\n    return false;\n  }\n  const {\n    renderingEngineId,\n    viewportId\n  } = evt.detail;\n  const toolGroup = ToolGroupManager.getToolGroupForViewport(viewportId, renderingEngineId);\n  if (!toolGroup) {\n    return false;\n  }\n  let activeTool;\n  const toolGroupToolNames = Object.keys(toolGroup.toolOptions);\n  for (let j = 0; j < toolGroupToolNames.length; j++) {\n    const toolName = toolGroupToolNames[j];\n    const tool = toolGroup.toolOptions[toolName];\n    const toolInstance = toolGroup.getToolInstance(toolName);\n    if (tool.mode === Active && typeof toolInstance[customFunction] === 'function') {\n      activeTool = toolGroup.getToolInstance(toolName);\n      break;\n    }\n  }\n  if (!activeTool) {\n    return;\n  }\n  activeTool[customFunction](evt);\n}","map":{"version":3,"names":["state","ToolGroupManager","ToolModes","Active","customCallbackHandler","handlerType","customFunction","evt","isInteractingWithTool","renderingEngineId","viewportId","detail","toolGroup","getToolGroupForViewport","activeTool","toolGroupToolNames","Object","keys","toolOptions","j","length","toolName","tool","toolInstance","getToolInstance","mode"],"sources":["../../../../src/eventDispatchers/shared/customCallbackHandler.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,KAAK,EAAEC,gBAAgB,QAAQ,aAAa;AACrD,OAAOC,SAAS,MAAM,uBAAuB;AAE7C,MAAM;EAAEC;AAAM,CAAE,GAAGD,SAAS;AAiB5B,eAAc,SAAUE,qBAAqBA,CAC3CC,WAAmB,EACnBC,cAAsB,EACtBC,GAAG;EAEH,IAAIP,KAAK,CAACQ,qBAAqB,EAAE;IAC/B,OAAO,KAAK;;EAGd,MAAM;IAAEC,iBAAiB;IAAEC;EAAU,CAAE,GAAGH,GAAG,CAACI,MAAM;EACpD,MAAMC,SAAS,GAAGX,gBAAgB,CAACY,uBAAuB,CACxDH,UAAU,EACVD,iBAAiB,CAClB;EAED,IAAI,CAACG,SAAS,EAAE;IACd,OAAO,KAAK;;EAUd,IAAIE,UAAU;EACd,MAAMC,kBAAkB,GAAGC,MAAM,CAACC,IAAI,CAACL,SAAS,CAACM,WAAW,CAAC;EAE7D,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,kBAAkB,CAACK,MAAM,EAAED,CAAC,EAAE,EAAE;IAClD,MAAME,QAAQ,GAAGN,kBAAkB,CAACI,CAAC,CAAC;IACtC,MAAMG,IAAI,GAAGV,SAAS,CAACM,WAAW,CAACG,QAAQ,CAAC;IAE5C,MAAME,YAAY,GAAGX,SAAS,CAACY,eAAe,CAACH,QAAQ,CAAC;IAExD,IAEEC,IAAI,CAACG,IAAI,KAAKtB,MAAM,IAGpB,OAAOoB,YAAY,CAACjB,cAAc,CAAC,KAAK,UAAU,EAClD;MACAQ,UAAU,GAAGF,SAAS,CAACY,eAAe,CAACH,QAAQ,CAAC;MAChD;;;EAIJ,IAAI,CAACP,UAAU,EAAE;IACf;;EAGFA,UAAU,CAACR,cAAc,CAAC,CAACC,GAAG,CAAC;AACjC"},"metadata":{},"sourceType":"module","externalDependencies":[]}