{"ast":null,"code":"import RectangleROIStartEndThreshold from './RectangleROIStartEndThreshold';\nfunction validateAnnotation(annotation) {\n  if (!annotation?.data) {\n    throw new Error('Tool data is empty');\n  }\n  if (!annotation.metadata || annotation.metadata.referenceImageId) {\n    throw new Error('Tool data is not associated with any imageId');\n  }\n}\nclass AnnotationToPointData {\n  constructor() {}\n  static {\n    this.TOOL_NAMES = {};\n  }\n  static convert(annotation, index, metadataProvider) {\n    validateAnnotation(annotation);\n    const {\n      toolName\n    } = annotation.metadata;\n    const toolClass = AnnotationToPointData.TOOL_NAMES[toolName];\n    if (!toolClass) {\n      throw new Error(`Unknown tool type: ${toolName}, cannot convert to RTSSReport`);\n    }\n    const ContourSequence = toolClass.getContourSequence(annotation, metadataProvider);\n    const color = [Math.floor(Math.random() * 255), Math.floor(Math.random() * 255), Math.floor(Math.random() * 255)];\n    return {\n      ReferencedROINumber: index + 1,\n      ROIDisplayColor: color,\n      ContourSequence\n    };\n  }\n  static register(toolClass) {\n    AnnotationToPointData.TOOL_NAMES[toolClass.toolName] = toolClass;\n  }\n}\nAnnotationToPointData.register(RectangleROIStartEndThreshold);\nexport default AnnotationToPointData;","map":{"version":3,"names":["RectangleROIStartEndThreshold","validateAnnotation","annotation","data","Error","metadata","referenceImageId","AnnotationToPointData","constructor","TOOL_NAMES","convert","index","metadataProvider","toolName","toolClass","ContourSequence","getContourSequence","color","Math","floor","random","ReferencedROINumber","ROIDisplayColor","register"],"sources":["../../../../src/utilities/contours/AnnotationToPointData.ts"],"sourcesContent":[null],"mappings":"AAAA,OAAOA,6BAA6B,MAAM,iCAAiC;AAE3E,SAASC,kBAAkBA,CAACC,UAAU;EACpC,IAAI,CAACA,UAAU,EAAEC,IAAI,EAAE;IACrB,MAAM,IAAIC,KAAK,CAAC,oBAAoB,CAAC;;EAGvC,IAAI,CAACF,UAAU,CAACG,QAAQ,IAAIH,UAAU,CAACG,QAAQ,CAACC,gBAAgB,EAAE;IAChE,MAAM,IAAIF,KAAK,CAAC,8CAA8C,CAAC;;AAEnE;AAEA,MAAMG,qBAAqB;EAGzBC,YAAA,GAEA;EAJA;IAAO,KAAAC,UAAU,GAAwB,EAAE;EAAC;EAM5C,OAAOC,OAAOA,CAACR,UAAU,EAAES,KAAK,EAAEC,gBAAgB;IAChDX,kBAAkB,CAACC,UAAU,CAAC;IAE9B,MAAM;MAAEW;IAAQ,CAAE,GAAGX,UAAU,CAACG,QAAQ;IACxC,MAAMS,SAAS,GAAGP,qBAAqB,CAACE,UAAU,CAACI,QAAQ,CAAC;IAE5D,IAAI,CAACC,SAAS,EAAE;MACd,MAAM,IAAIV,KAAK,CACb,sBAAsBS,QAAQ,gCAAgC,CAC/D;;IAMH,MAAME,eAAe,GAAGD,SAAS,CAACE,kBAAkB,CAClDd,UAAU,EACVU,gBAAgB,CACjB;IAGD,MAAMK,KAAK,GAAG,CACZC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,GAAG,GAAG,CAAC,EAC/BF,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,GAAG,GAAG,CAAC,EAC/BF,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,GAAG,GAAG,CAAC,CAChC;IAED,OAAO;MACLC,mBAAmB,EAAEV,KAAK,GAAG,CAAC;MAC9BW,eAAe,EAAEL,KAAK;MACtBF;KACD;EACH;EAEA,OAAOQ,QAAQA,CAACT,SAAS;IACvBP,qBAAqB,CAACE,UAAU,CAACK,SAAS,CAACD,QAAQ,CAAC,GAAGC,SAAS;EAClE;;AAGFP,qBAAqB,CAACgB,QAAQ,CAACvB,6BAA6B,CAAC;AAE7D,eAAeO,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}