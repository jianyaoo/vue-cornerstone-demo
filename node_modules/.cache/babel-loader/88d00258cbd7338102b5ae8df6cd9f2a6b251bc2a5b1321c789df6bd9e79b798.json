{"ast":null,"code":"class ToolStyle {\n  constructor() {\n    const defaultConfig = {\n      color: 'rgb(255, 255, 0)',\n      colorHighlighted: 'rgb(0, 255, 0)',\n      colorSelected: 'rgb(0, 220, 0)',\n      colorLocked: 'rgb(255, 255, 0)',\n      lineWidth: '1',\n      lineDash: '',\n      shadow: true,\n      textBoxVisibility: true,\n      textBoxFontFamily: 'Helvetica Neue, Helvetica, Arial, sans-serif',\n      textBoxFontSize: '14px',\n      textBoxColor: 'rgb(255, 255, 0)',\n      textBoxColorHighlighted: 'rgb(0, 255, 0)',\n      textBoxColorSelected: 'rgb(0, 255, 0)',\n      textBoxColorLocked: 'rgb(255, 255, 0)',\n      textBoxBackground: '',\n      textBoxLinkLineWidth: '1',\n      textBoxLinkLineDash: '2,3',\n      textBoxShadow: true\n    };\n    this._initializeConfig(defaultConfig);\n  }\n  getAnnotationToolStyles(annotationUID) {\n    return this.config.annotations && this.config.annotations[annotationUID];\n  }\n  getViewportToolStyles(viewportId) {\n    return this.config.viewports && this.config.viewports[viewportId];\n  }\n  getToolGroupToolStyles(toolGroupId) {\n    return this.config.toolGroups && this.config.toolGroups[toolGroupId];\n  }\n  getDefaultToolStyles() {\n    return this.config.default;\n  }\n  setAnnotationStyles(annotationUID, styles) {\n    let annotationSpecificStyles = this.config.annotations;\n    if (!annotationSpecificStyles) {\n      this.config = {\n        ...this.config,\n        annotations: {}\n      };\n      annotationSpecificStyles = this.config.annotations;\n    }\n    annotationSpecificStyles[annotationUID] = styles;\n  }\n  setViewportToolStyles(viewportId, styles) {\n    let viewportSpecificStyles = this.config.viewports;\n    if (!viewportSpecificStyles) {\n      this.config = {\n        ...this.config,\n        viewports: {}\n      };\n      viewportSpecificStyles = this.config.viewports;\n    }\n    viewportSpecificStyles[viewportId] = styles;\n  }\n  setToolGroupToolStyles(toolGroupId, styles) {\n    let toolGroupSpecificStyles = this.config.toolGroups;\n    if (!toolGroupSpecificStyles) {\n      this.config = {\n        ...this.config,\n        toolGroups: {}\n      };\n      toolGroupSpecificStyles = this.config.toolGroups;\n    }\n    toolGroupSpecificStyles[toolGroupId] = styles;\n  }\n  setDefaultToolStyles(styles) {\n    this.config.default = styles;\n  }\n  getStyleProperty(toolStyle, specifications) {\n    const {\n      annotationUID,\n      viewportId,\n      toolGroupId,\n      toolName\n    } = specifications;\n    return this._getToolStyle(toolStyle, annotationUID, viewportId, toolGroupId, toolName);\n  }\n  _getToolStyle(property, annotationUID, viewportId, toolGroupId, toolName) {\n    if (annotationUID) {\n      const annotationToolStyles = this.getAnnotationToolStyles(annotationUID);\n      if (annotationToolStyles) {\n        if (annotationToolStyles[property] !== undefined) {\n          return annotationToolStyles[property];\n        }\n      }\n    }\n    if (viewportId) {\n      const viewportToolStyles = this.getViewportToolStyles(viewportId);\n      if (viewportToolStyles) {\n        if (viewportToolStyles[toolName] && viewportToolStyles[toolName][property] !== undefined) {\n          return viewportToolStyles[toolName][property];\n        }\n        if (viewportToolStyles.global && viewportToolStyles.global[property] !== undefined) {\n          return viewportToolStyles.global[property];\n        }\n      }\n    }\n    if (toolGroupId) {\n      const toolGroupToolStyles = this.getToolGroupToolStyles(toolGroupId);\n      if (toolGroupToolStyles) {\n        if (toolGroupToolStyles[toolName] && toolGroupToolStyles[toolName][property] !== undefined) {\n          return toolGroupToolStyles[toolName][property];\n        }\n        if (toolGroupToolStyles.global && toolGroupToolStyles.global[property] !== undefined) {\n          return toolGroupToolStyles.global[property];\n        }\n      }\n    }\n    const globalStyles = this.getDefaultToolStyles();\n    if (globalStyles[toolName] && globalStyles[toolName][property] !== undefined) {\n      return globalStyles[toolName][property];\n    }\n    if (globalStyles.global && globalStyles.global[property] !== undefined) {\n      return globalStyles.global[property];\n    }\n  }\n  _initializeConfig(config) {\n    const toolStyles = {};\n    for (const name in config) {\n      toolStyles[name] = config[name];\n    }\n    this.config = {\n      default: {\n        global: toolStyles\n      }\n    };\n  }\n}\nconst toolStyle = new ToolStyle();\nexport default toolStyle;","map":{"version":3,"names":["ToolStyle","constructor","defaultConfig","color","colorHighlighted","colorSelected","colorLocked","lineWidth","lineDash","shadow","textBoxVisibility","textBoxFontFamily","textBoxFontSize","textBoxColor","textBoxColorHighlighted","textBoxColorSelected","textBoxColorLocked","textBoxBackground","textBoxLinkLineWidth","textBoxLinkLineDash","textBoxShadow","_initializeConfig","getAnnotationToolStyles","annotationUID","config","annotations","getViewportToolStyles","viewportId","viewports","getToolGroupToolStyles","toolGroupId","toolGroups","getDefaultToolStyles","default","setAnnotationStyles","styles","annotationSpecificStyles","setViewportToolStyles","viewportSpecificStyles","setToolGroupToolStyles","toolGroupSpecificStyles","setDefaultToolStyles","getStyleProperty","toolStyle","specifications","toolName","_getToolStyle","property","annotationToolStyles","undefined","viewportToolStyles","global","toolGroupToolStyles","globalStyles","toolStyles","name"],"sources":["../../../../../src/stateManagement/annotation/config/ToolStyle.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}