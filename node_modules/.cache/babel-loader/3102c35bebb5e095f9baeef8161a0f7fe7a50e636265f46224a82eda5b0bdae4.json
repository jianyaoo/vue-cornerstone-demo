{"ast":null,"code":"import { ToolGroupManager } from '../../store';\nexport default function getToolsWithModesForKeyboardEvent(evt, toolModes) {\n  const toolsWithActions = new Map();\n  const {\n    renderingEngineId,\n    viewportId\n  } = evt.detail;\n  const toolGroup = ToolGroupManager.getToolGroupForViewport(viewportId, renderingEngineId);\n  if (!toolGroup) {\n    return toolsWithActions;\n  }\n  const toolGroupToolNames = Object.keys(toolGroup.toolOptions);\n  const key = evt.detail.key;\n  for (let j = 0; j < toolGroupToolNames.length; j++) {\n    const toolName = toolGroupToolNames[j];\n    const tool = toolGroup.getToolInstance(toolName);\n    const actionsConfig = tool.configuration?.actions;\n    if (!actionsConfig) {\n      continue;\n    }\n    const actions = Object.values(actionsConfig);\n    if (!actions?.length || !toolModes.includes(tool.mode)) {\n      continue;\n    }\n    const action = actions.find(action => action.bindings.some(binding => binding.key === key));\n    if (action) {\n      toolsWithActions.set(tool, action);\n    }\n  }\n  return toolsWithActions;\n}","map":{"version":3,"names":["ToolGroupManager","getToolsWithModesForKeyboardEvent","evt","toolModes","toolsWithActions","Map","renderingEngineId","viewportId","detail","toolGroup","getToolGroupForViewport","toolGroupToolNames","Object","keys","toolOptions","key","j","length","toolName","tool","getToolInstance","actionsConfig","configuration","actions","values","includes","mode","action","find","bindings","some","binding","set"],"sources":["../../../../src/eventDispatchers/shared/getToolsWithActionsForKeyboardEvents.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,aAAa;AAW9C,eAAc,SAAUC,iCAAiCA,CACvDC,GAAgC,EAChCC,SAAsB;EAEtB,MAAMC,gBAAgB,GAAG,IAAIC,GAAG,EAAE;EAClC,MAAM;IAAEC,iBAAiB;IAAEC;EAAU,CAAE,GAAGL,GAAG,CAACM,MAAM;EACpD,MAAMC,SAAS,GAAGT,gBAAgB,CAACU,uBAAuB,CACxDH,UAAU,EACVD,iBAAiB,CAClB;EAED,IAAI,CAACG,SAAS,EAAE;IACd,OAAOL,gBAAgB;;EAGzB,MAAMO,kBAAkB,GAAGC,MAAM,CAACC,IAAI,CAACJ,SAAS,CAACK,WAAW,CAAC;EAC7D,MAAMC,GAAG,GAAGb,GAAG,CAACM,MAAM,CAACO,GAAG;EAE1B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,kBAAkB,CAACM,MAAM,EAAED,CAAC,EAAE,EAAE;IAClD,MAAME,QAAQ,GAAGP,kBAAkB,CAACK,CAAC,CAAC;IACtC,MAAMG,IAAI,GAAGV,SAAS,CAACW,eAAe,CAACF,QAAQ,CAAC;IAChD,MAAMG,aAAa,GAAGF,IAAI,CAACG,aAAa,EAAEC,OAAO;IACjD,IAAI,CAACF,aAAa,EAAE;MAClB;;IAEF,MAAME,OAAO,GAAGX,MAAM,CAACY,MAAM,CAACH,aAAa,CAAC;IAE5C,IAAI,CAACE,OAAO,EAAEN,MAAM,IAAI,CAACd,SAAS,CAACsB,QAAQ,CAACN,IAAI,CAACO,IAAI,CAAC,EAAE;MACtD;;IAGF,MAAMC,MAAM,GAAGJ,OAAO,CAACK,IAAI,CAAED,MAAW,IACtCA,MAAM,CAACE,QAAQ,CAACC,IAAI,CAAEC,OAAO,IAAKA,OAAO,CAAChB,GAAG,KAAKA,GAAG,CAAC,CACvD;IAED,IAAIY,MAAM,EAAE;MACVvB,gBAAgB,CAAC4B,GAAG,CAACb,IAAI,EAAEQ,MAAM,CAAC;;;EAItC,OAAOvB,gBAAgB;AACzB"},"metadata":{},"sourceType":"module","externalDependencies":[]}