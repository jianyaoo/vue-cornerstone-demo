{"ast":null,"code":"import { ToolGroupManager } from '../../store';\nexport default function getToolsWithModesForTouchEvent(evt, modesFilter, numTouchPoints) {\n  const {\n    renderingEngineId,\n    viewportId\n  } = evt.detail;\n  const toolGroup = ToolGroupManager.getToolGroupForViewport(viewportId, renderingEngineId);\n  if (!toolGroup) {\n    return [];\n  }\n  const enabledTools = [];\n  const toolGroupToolNames = Object.keys(toolGroup.toolOptions);\n  for (let j = 0; j < toolGroupToolNames.length; j++) {\n    const toolName = toolGroupToolNames[j];\n    const tool = toolGroup.toolOptions[toolName];\n    const correctBinding = numTouchPoints != null && tool.bindings.length && tool.bindings.some(binding => binding.numTouchPoints === numTouchPoints);\n    if (modesFilter.includes(tool.mode) && (!numTouchPoints || correctBinding)) {\n      const toolInstance = toolGroup.getToolInstance(toolName);\n      enabledTools.push(toolInstance);\n    }\n  }\n  return enabledTools;\n}","map":{"version":3,"names":["ToolGroupManager","getToolsWithModesForTouchEvent","evt","modesFilter","numTouchPoints","renderingEngineId","viewportId","detail","toolGroup","getToolGroupForViewport","enabledTools","toolGroupToolNames","Object","keys","toolOptions","j","length","toolName","tool","correctBinding","bindings","some","binding","includes","mode","toolInstance","getToolInstance","push"],"sources":["../../../../src/eventDispatchers/shared/getToolsWithModesForTouchEvent.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,aAAa;AAa9C,eAAc,SAAUC,8BAA8BA,CACpDC,GAAwC,EACxCC,WAAwB,EACxBC,cAAuB;EAEvB,MAAM;IAAEC,iBAAiB;IAAEC;EAAU,CAAE,GAAGJ,GAAG,CAACK,MAAM;EACpD,MAAMC,SAAS,GAAGR,gBAAgB,CAACS,uBAAuB,CACxDH,UAAU,EACVD,iBAAiB,CAClB;EAED,IAAI,CAACG,SAAS,EAAE;IACd,OAAO,EAAE;;EAGX,MAAME,YAAY,GAAG,EAAE;EAEvB,MAAMC,kBAAkB,GAAGC,MAAM,CAACC,IAAI,CAACL,SAAS,CAACM,WAAW,CAAC;EAE7D,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,kBAAkB,CAACK,MAAM,EAAED,CAAC,EAAE,EAAE;IAClD,MAAME,QAAQ,GAAGN,kBAAkB,CAACI,CAAC,CAAC;IACtC,MAAMG,IAAI,GAAGV,SAAS,CAACM,WAAW,CAACG,QAAQ,CAAC;IAE5C,MAAME,cAAc,GAClBf,cAAc,IAAI,IAAI,IACtBc,IAAI,CAACE,QAAQ,CAACJ,MAAM,IACpBE,IAAI,CAACE,QAAQ,CAACC,IAAI,CACfC,OAAO,IAAKA,OAAO,CAAClB,cAAc,KAAKA,cAAc,CACvD;IAEH,IACED,WAAW,CAACoB,QAAQ,CAACL,IAAI,CAACM,IAAI,CAAC,KAC9B,CAACpB,cAAc,IAAIe,cAAc,CAAC,EACnC;MACA,MAAMM,YAAY,GAAGjB,SAAS,CAACkB,eAAe,CAACT,QAAQ,CAAC;MACxDP,YAAY,CAACiB,IAAI,CAACF,YAAY,CAAC;;;EAInC,OAAOf,YAAY;AACrB"},"metadata":{},"sourceType":"module","externalDependencies":[]}