{"ast":null,"code":"export class Transform {\n  constructor() {\n    this.reset();\n  }\n  getMatrix() {\n    return this.m;\n  }\n  reset() {\n    this.m = [1, 0, 0, 1, 0, 0];\n  }\n  clone() {\n    const transform = new Transform();\n    transform.m[0] = this.m[0];\n    transform.m[1] = this.m[1];\n    transform.m[2] = this.m[2];\n    transform.m[3] = this.m[3];\n    transform.m[4] = this.m[4];\n    transform.m[5] = this.m[5];\n    return transform;\n  }\n  multiply(matrix) {\n    const m11 = this.m[0] * matrix[0] + this.m[2] * matrix[1];\n    const m12 = this.m[1] * matrix[0] + this.m[3] * matrix[1];\n    const m21 = this.m[0] * matrix[2] + this.m[2] * matrix[3];\n    const m22 = this.m[1] * matrix[2] + this.m[3] * matrix[3];\n    const dx = this.m[0] * matrix[4] + this.m[2] * matrix[5] + this.m[4];\n    const dy = this.m[1] * matrix[4] + this.m[3] * matrix[5] + this.m[5];\n    this.m[0] = m11;\n    this.m[1] = m12;\n    this.m[2] = m21;\n    this.m[3] = m22;\n    this.m[4] = dx;\n    this.m[5] = dy;\n  }\n  invert() {\n    const d = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]);\n    const m0 = this.m[3] * d;\n    const m1 = -this.m[1] * d;\n    const m2 = -this.m[2] * d;\n    const m3 = this.m[0] * d;\n    const m4 = d * (this.m[2] * this.m[5] - this.m[3] * this.m[4]);\n    const m5 = d * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);\n    this.m[0] = m0;\n    this.m[1] = m1;\n    this.m[2] = m2;\n    this.m[3] = m3;\n    this.m[4] = m4;\n    this.m[5] = m5;\n  }\n  rotate(rad) {\n    const c = Math.cos(rad);\n    const s = Math.sin(rad);\n    const m11 = this.m[0] * c + this.m[2] * s;\n    const m12 = this.m[1] * c + this.m[3] * s;\n    const m21 = this.m[0] * -s + this.m[2] * c;\n    const m22 = this.m[1] * -s + this.m[3] * c;\n    this.m[0] = m11;\n    this.m[1] = m12;\n    this.m[2] = m21;\n    this.m[3] = m22;\n  }\n  translate(x, y) {\n    this.m[4] += this.m[0] * x + this.m[2] * y;\n    this.m[5] += this.m[1] * x + this.m[3] * y;\n  }\n  scale(sx, sy) {\n    this.m[0] *= sx;\n    this.m[1] *= sx;\n    this.m[2] *= sy;\n    this.m[3] *= sy;\n  }\n  transformPoint(point) {\n    const x = point[0];\n    const y = point[1];\n    return [x * this.m[0] + y * this.m[2] + this.m[4], x * this.m[1] + y * this.m[3] + this.m[5]];\n  }\n}","map":{"version":3,"names":["Transform","constructor","reset","getMatrix","m","clone","transform","multiply","matrix","m11","m12","m21","m22","dx","dy","invert","d","m0","m1","m2","m3","m4","m5","rotate","rad","c","Math","cos","s","sin","translate","x","y","scale","sx","sy","transformPoint","point"],"sources":["../../../../../../src/RenderingEngine/helpers/cpuFallback/rendering/transform.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}