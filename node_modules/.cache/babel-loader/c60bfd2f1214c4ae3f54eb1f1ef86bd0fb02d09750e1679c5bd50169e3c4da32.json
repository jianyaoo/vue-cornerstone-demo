{"ast":null,"code":"import isObject from './isObject';\nfunction debounce(func, wait, options) {\n  let lastArgs, lastThis, maxWait, result, timerId, lastCallTime;\n  let lastInvokeTime = 0;\n  let leading = false;\n  let maxing = false;\n  let trailing = true;\n  const useRAF = !wait && wait !== 0 && typeof window.requestAnimationFrame === 'function';\n  if (typeof func !== 'function') {\n    throw new TypeError('Expected a function');\n  }\n  wait = Number(wait) || 0;\n  if (isObject(options)) {\n    leading = Boolean(options.leading);\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? Math.max(Number(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? Boolean(options.trailing) : trailing;\n  }\n  function invokeFunc(time) {\n    const args = lastArgs;\n    const thisArg = lastThis;\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n  function startTimer(pendingFunc, wait) {\n    if (useRAF) {\n      return window.requestAnimationFrame(pendingFunc);\n    }\n    return setTimeout(pendingFunc, wait);\n  }\n  function cancelTimer(id) {\n    if (useRAF) {\n      return window.cancelAnimationFrame(id);\n    }\n    clearTimeout(id);\n  }\n  function leadingEdge(time) {\n    lastInvokeTime = time;\n    timerId = startTimer(timerExpired, wait);\n    return leading ? invokeFunc(time) : result;\n  }\n  function remainingWait(time) {\n    const timeSinceLastCall = time - lastCallTime;\n    const timeSinceLastInvoke = time - lastInvokeTime;\n    const timeWaiting = wait - timeSinceLastCall;\n    return maxing ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n  function shouldInvoke(time) {\n    const timeSinceLastCall = time - lastCallTime;\n    const timeSinceLastInvoke = time - lastInvokeTime;\n    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n  function timerExpired() {\n    const time = Date.now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    timerId = startTimer(timerExpired, remainingWait(time));\n  }\n  function trailingEdge(time) {\n    timerId = undefined;\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n  function cancel() {\n    if (timerId !== undefined) {\n      cancelTimer(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(Date.now());\n  }\n  function pending() {\n    return timerId !== undefined;\n  }\n  function debounced(...args) {\n    const time = Date.now();\n    const isInvoking = shouldInvoke(time);\n    lastArgs = args;\n    lastThis = this;\n    lastCallTime = time;\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        timerId = startTimer(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = startTimer(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  debounced.pending = pending;\n  return debounced;\n}\nexport default debounce;","map":{"version":3,"names":["isObject","debounce","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","useRAF","window","requestAnimationFrame","TypeError","Number","Boolean","Math","max","invokeFunc","time","args","thisArg","undefined","apply","startTimer","pendingFunc","setTimeout","cancelTimer","id","cancelAnimationFrame","clearTimeout","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","min","shouldInvoke","Date","now","trailingEdge","cancel","flush","pending","debounced","isInvoking"],"sources":["../../../src/utilities/debounce.js"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}